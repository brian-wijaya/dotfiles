#!/bin/bash
# Wrapper to prevent transient i3 invocations from creating 25MB SHM logs.
# Polybar's internal/i3 module calls "i3 --get-socketpath" every ~3 seconds,
# each creating a 25MB /dev/shm/i3-log-* file that persists after the process exits.
# This fills /dev/shm (~30GB/hour) and crashes Chrome and other applications.
#
# The main i3 session (started by SDDM as /usr/bin/i3-with-shmlog) is unaffected
# because SDDM uses the full path. This wrapper only intercepts PATH-resolved calls.
exec /usr/bin/i3 --shmlog-size=0 "$@"

# i3 window manager vocabulary for e2e tests
# Usage: vocabularies: [i3] in story file

i3_focused_window:
  tool: bash
  cmd: "i3-msg -t get_tree | jq -r '.. | select(.focused? == true) | .name'"

i3_workspace:
  tool: bash
  cmd: "i3-msg -t get_workspaces | jq -r '.[] | select(.focused==true) | .name'"

i3_window_count:
  tool: bash
  cmd: "i3-msg -t get_tree | jq '[.. | select(.window? != null)] | length'"

i3_window_class:
  tool: bash
  cmd: "xdotool getactivewindow getwindowclassname"

i3_window_title:
  tool: bash
  cmd: "xdotool getactivewindow getwindowname"

i3_window_geometry:
  tool: bash
  cmd: "i3-msg -t get_tree | jq -r '.. | select(.focused? == true) | .rect'"

i3_layout:
  tool: bash
  cmd: "i3-msg -t get_tree | jq -r '.. | select(.focused? == true) | .layout'"

i3_floating:
  tool: bash
  cmd: "i3-msg -t get_tree | jq -r '.. | select(.focused? == true) | .floating'"

i3_fullscreen:
  tool: bash
  cmd: "i3-msg -t get_tree | jq -r '.. | select(.focused? == true) | .fullscreen_mode'"

i3_send_key:
  tool: bash
  cmd: "xdotool key \"$1\""

i3_workspace_switch:
  tool: bash
  cmd: "i3-msg workspace \"$1\""

i3_window_focus:
  tool: bash
  cmd: "i3-msg '[id=\"$1\"] focus'"

# Sensor vocabulary for e2e tests
# Usage: vocabularies: [sensor] in story file

sensor_state:
  tool: bash
  cmd: "sensor-cli state --json | jq -r '.state'"

sensor_idle_time:
  tool: bash
  cmd: "sensor-cli idle-time --json | jq -r '.idle_ms'"

sensor_typing:
  tool: bash
  cmd: "sensor-cli is-typing --json | jq -r '.typing'"

sensor_clipboard:
  tool: bash
  cmd: "sensor-cli clipboard --latest --json | jq -r '.text'"

sensor_keystroke_count:
  tool: bash
  cmd: "sensor-cli keystrokes --count 10 --json | jq 'length'"

sensor_pointer_position:
  tool: bash
  cmd: "sensor-cli pointer --json | jq -r '{x:.x, y:.y}'"

sensor_window_geometry:
  tool: bash
  cmd: "sensor-cli layout --json | jq -r '.geometry'"

sensor_focused_window:
  tool: bash
  cmd: "sensor-cli focus --json | jq -r '.window_id'"

sensor_anomaly_count:
  tool: bash
  cmd: "sensor-cli anomalies --json | jq 'length'"

sensor_event_recent:
  tool: bash
  cmd: "sensor-cli events --count 5 --json | jq -r '.[0].type'"

sensor_snapshot:
  tool: bash
  cmd: "sensor-cli snapshot --json | jq -r '.timestamp'"

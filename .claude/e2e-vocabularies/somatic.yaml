# Somatic vocabulary for e2e tests
# Usage: vocabularies: [somatic] in story file

somatic_state:
  tool: bash
  cmd: "somatic-cli state --json | jq -r '.state'"

somatic_idle_time:
  tool: bash
  cmd: "somatic-cli idle-time --json | jq -r '.idle_ms'"

somatic_typing:
  tool: bash
  cmd: "somatic-cli is-typing --json | jq -r '.typing'"

somatic_clipboard:
  tool: bash
  cmd: "somatic-cli clipboard --latest --json | jq -r '.text'"

somatic_keystroke_count:
  tool: bash
  cmd: "somatic-cli keystrokes --count 10 --json | jq 'length'"

somatic_pointer_position:
  tool: bash
  cmd: "somatic-cli pointer --json | jq -r '{x:.x, y:.y}'"

somatic_window_geometry:
  tool: bash
  cmd: "somatic-cli layout --json | jq -r '.geometry'"

somatic_focused_window:
  tool: bash
  cmd: "somatic-cli focus --json | jq -r '.window_id'"

somatic_anomaly_count:
  tool: bash
  cmd: "somatic-cli anomalies --json | jq 'length'"

somatic_event_recent:
  tool: bash
  cmd: "somatic-cli events --count 5 --json | jq -r '.[0].type'"

somatic_snapshot:
  tool: bash
  cmd: "somatic-cli snapshot --json | jq -r '.timestamp'"

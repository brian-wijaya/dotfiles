# Emacs vocabulary for e2e tests
# Usage: vocabularies: [emacs] in story file

emacs_buffer:
  tool: bash
  cmd: "emacsclient -e '(buffer-name (window-buffer))'"

emacs_mode:
  tool: bash
  cmd: "emacsclient -e '(symbol-name major-mode)'"

emacs_minibuffer:
  tool: bash
  cmd: "emacsclient -e '(current-message)'"

emacs_buffer_exists:
  tool: bash
  cmd: "emacsclient -e '(get-buffer \"$1\")'"

emacs_point:
  tool: bash
  cmd: "emacsclient -e '(point)'"

emacs_line:
  tool: bash
  cmd: "emacsclient -e '(line-number-at-pos)'"

emacs_buffer_modified:
  tool: bash
  cmd: "emacsclient -e '(buffer-modified-p)'"

emacs_window_count:
  tool: bash
  cmd: "emacsclient -e '(length (window-list))'"

emacs_buffer_file:
  tool: bash
  cmd: "emacsclient -e '(buffer-file-name)'"

#!/bin/bash
# PostToolUse hook: inject sensor ambient state into Claude context (ADR-019)
# Reads /dev/shm/sensor_ambient (written by sensor fusion engine at 100Hz)
# Returns JSON with additionalContext field for Claude Code hook system
STATE=$(cat /dev/shm/sensor_ambient 2>/dev/null)
if [ -n "$STATE" ]; then
    printf '{"additionalContext":"[env: %s]"}' "$STATE"
fi

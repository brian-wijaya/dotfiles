# Claude in Emacs MCP E2E Tests

vocabularies: [emacs, services]

stories:
  - name: emacs-buffer-read
    description: Can read Emacs buffer contents
    steps:
      - bash: "emacsclient -e '(with-current-buffer (get-buffer-create \"*test*\") (insert \"test content\") (buffer-string))'"
    verify:
      - Contains: "test content"

  - name: emacs-elisp-execution
    description: Can execute elisp code
    steps:
      - bash: "emacsclient -e '(+ 2 2)'"
    verify:
      - Contains: "4"

  - name: emacs-buffer-list
    description: Can list Emacs buffers
    steps:
      - bash: "emacsclient -e '(mapcar #'buffer-name (buffer-list))'"
    verify:
      - Contains: "*"

  - name: emacs-window-operations
    description: Can query and manipulate windows
    steps:
      - emacs_window_count
    verify:
      - Greater: 0

# Actual-Reader Category Analysis E2E Tests

vocabularies: [services]

metadata:
  feature: actual-reader
  component: category-analysis
  tags: [actual-reader]
  estimated_duration_ms: 5000

stories:
  - name: analyze-category-spending
    description: Analyze spending by category
    steps:
      - bash: "actual-reader analyze categories 2>&1"
    verify:
      - NotEmpty
      - Contains: "category|spending|total"

  - name: category-breakdown-monthly
    description: Get monthly category breakdown
    steps:
      - bash: "actual-reader analyze categories --month $(date +%Y-%m) 2>&1 || true"
    verify:
      - NotEmpty

  - name: category-comparison
    description: Compare categories across time periods
    steps:
      - bash: "actual-reader analyze compare --months 3 2>&1 || true"
    verify:
      - NotEmpty

  - name: top-spending-categories
    description: List top spending categories
    steps:
      - bash: "actual-reader analyze top-categories --limit 5 2>&1 || true"
    verify:
      - NotEmpty

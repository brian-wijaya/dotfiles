# Actual-Dictation Voice Capture E2E Tests

vocabularies: [services]

stories:
  - name: check-microphone-available
    description: Verify microphone is available
    steps:
      - bash: "actual-dictation check-mic 2>&1 || true"
    verify:
      - NotEmpty

  - name: list-audio-devices
    description: List available audio input devices
    steps:
      - bash: "actual-dictation list-devices 2>&1 || true"
    verify:
      - NotEmpty
      - Contains: "device|input|mic"

  - name: test-recording-short
    description: Test short voice recording
    steps:
      - bash: "timeout 2 actual-dictation record --test --duration 1 2>&1 || true"
    verify:
      - NotEmpty

  - name: check-audio-level
    description: Check microphone input level
    steps:
      - bash: "actual-dictation check-level --duration 1 2>&1 || true"
    verify:
      - NotEmpty

  - name: verify-audio-format
    description: Verify supported audio formats
    steps:
      - bash: "actual-dictation info formats 2>&1 || true"
    verify:
      - NotEmpty
      - Contains: "wav|format|audio"

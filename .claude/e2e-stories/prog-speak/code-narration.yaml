# Prog-Speak Code Narration E2E Tests

vocabularies: [services]

metadata:
  feature: prog-speak
  component: code-narration
  tags: [prog-speak]
  estimated_duration_ms: 5000

stories:
  - name: narrate-code-file
    description: Narrate code file contents
    steps:
      - bash: "timeout 3 prog-speak narrate test.py --duration 2 2>&1 || echo 'No test code file'"
    verify:
      - NotEmpty

  - name: explain-code-structure
    description: Explain code structure and functions
    steps:
      - bash: "prog-speak explain test.py 2>&1 || echo 'No test code file'"
    verify:
      - NotEmpty

  - name: list-supported-languages
    description: List supported programming languages
    steps:
      - bash: "prog-speak languages 2>&1 || true"
    verify:
      - NotEmpty
      - Contains: "python|javascript|language"

  - name: narrate-with-syntax-highlighting
    description: Narrate code with syntax context
    steps:
      - bash: "prog-speak narrate --syntax-aware test.py 2>&1 || echo 'No test code file'"
    verify:
      - NotEmpty

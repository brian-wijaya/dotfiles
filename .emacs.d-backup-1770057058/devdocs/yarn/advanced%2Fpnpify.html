<header><h1>PnPify</h1></header><div class="theme-admonition theme-admonition-danger admonition_w2cE alert alert--danger">
<div class="admonitionHeading_zjKb">
<span class="admonitionIcon_xnvX"><svg viewbox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div>
<div class="admonitionContent_SoUl"><p>PnPify is mostly deprecated since Yarn supports <a href="../configuration/yarnrc#nodeLinker"><code>node_modules</code></a> installs out of the box.</p></div>
</div> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">​</a>
</h2> <p>Plug'n'Play is, by design, compatible with all projects that only make use of the <code>require</code> API - whether it's <code>require</code>, <code>require.resolve</code>, or <code>createRequire</code>. However, some rare projects prefer to reimplement the Node resolution themselves and as such aren't compatible by default with our environment (unless they integrate their resolvers with the <a href="pnpapi">PnP API</a>).</p> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="pnpify">PnPify<a href="#pnpify" class="hash-link" aria-label="Direct link to PnPify" title="Direct link to PnPify">​</a>
</h2> <p>PnPify is a tool designed to work around these compatibility issues. It's not perfect - it brings its own set of caveats and doesn't allow you to leverage all the features that PnP has to offer - but it's often good enough to unblock you until better solutions are implemented.</p> <p>How it works is simple: when a non-PnP-compliant project tries to access the <code>node_modules</code> directories (for example through <code>readdir</code> or <code>readFile</code>), PnPify intercepts those calls and converts them into calls to the PnP API. Then, based on the result, it simulates the existence of a virtual <code>node_modules</code> folder that the underlying tool will then consume - still unaware that the files are extracted from a virtual filesystem.</p> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a>
</h2> <ol> <li>Add PnPify to your dependencies:</li> </ol> <div class="language-bash codeBlockContainer_iUqV theme-code-block"><div class="codeBlockContent_Xs1n">
<pre tabindex="0" class="prism-code language-bash codeBlock_hDG7 thin-scrollbar" data-language="bash">yarn add @yarnpkg/pnpify</pre>
<div class="buttonGroup_ipu6"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FbbJ" aria-hidden="true"><svg viewbox="0 0 24 24" class="copyButtonIcon_Nh6j"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewbox="0 0 24 24" class="copyButtonSuccessIcon_wXPl"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div>
</div></div> <ol start="2"> <li>Use pnpify to run the incompatible tool:</li> </ol> <div class="language-bash codeBlockContainer_iUqV theme-code-block"><div class="codeBlockContent_Xs1n">
<pre tabindex="0" class="prism-code language-bash codeBlock_hDG7 thin-scrollbar" data-language="bash">yarn pnpify tsc</pre>
<div class="buttonGroup_ipu6"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FbbJ" aria-hidden="true"><svg viewbox="0 0 24 24" class="copyButtonIcon_Nh6j"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewbox="0 0 24 24" class="copyButtonSuccessIcon_wXPl"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div>
</div></div> <p>More details about the run command can be found on its <a href="../cli/pnpify/run" target="_blank" rel="noopener noreferrer">dedicated page</a>.</p> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="caveat">Caveat<a href="#caveat" class="hash-link" aria-label="Direct link to Caveat" title="Direct link to Caveat">​</a>
</h2> <ul> <li> <p>Due to how PnPify emulates the <code>node_modules</code> directory, some problems are to be expected, especially with tools that watch directories inside <code>node_modules</code>.</p> </li> <li> <p>PnPify isn't designed to be a long-term solution; its purpose is purely to help projects during their transition to the stricter Plug'n'Play module resolution scheme. Relying on PnPify doesn't allow you to take full advantage of everything Plug'n'Play has to offer, in particular perfect flattening and boundary checks.</p> </li> </ul> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="ide-support">IDE Support<a href="#ide-support" class="hash-link" aria-label="Direct link to IDE Support" title="Direct link to IDE Support">​</a>
</h2> <p>When using Plug'n'Play installs with your favorite text editors you will probably want to keep using your extensions, like ESLint or Prettier. To do so, you may need to use <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <span class="token_Ye2a" data-type="positional">sdks</span></code></span>. For more information, consult the detailed documentation in the <a href="../getting-started/editor-sdks">Editor SDKs</a> section.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/advanced/pnpify" class="_attribution-link">https://yarnpkg.com/advanced/pnpify</a>
  </p>
</div>

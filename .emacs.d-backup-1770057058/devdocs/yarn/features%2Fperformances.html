<header><h1>Performances</h1></header><h2 class="anchor anchorWithStickyNavbar_hhKX" id="official-benchmarks">Official benchmarks<a href="#official-benchmarks" class="hash-link" aria-label="Direct link to Official benchmarks" title="Direct link to Official benchmarks">​</a>
</h2> <p>The two following graphs show the time it took to run a full install on the GitHub Action runners, every day of the past week, on all major package managers, averaged over multiple runs performed during the day, with each run being itself averaged over multiple installs.</p> <p>The first graph shows the install time of a Next.js project, and the second one of a Gatsby project. The two solid lines both represent the master branch of Yarn, with the light blue one being Yarn PnP installs, and the dark blue one being Yarn operating under <code data-tooltip-id="tooltip" data-tooltip-content="Define how Node packages should be installed."><a class="key_FEvO" href="../configuration/yarnrc#nodeLinker">nodeLinker</a><span class="assign_Ad7a">:</span> <span class="value_jT9z">node-modules</span></code>. The dotted blue line represents Yarn Classic.</p> <div class="theme-admonition theme-admonition-tip admonition_w2cE alert alert--success">
<div class="admonitionHeading_zjKb">
<span class="admonitionIcon_xnvX"><svg viewbox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div>
<div class="admonitionContent_SoUl"><p>This is only a small subset of the benchmarks we run every three hours on the latest version of each tool. To see all variants of those tests, consult our dedicated <a href="../benchmarks" target="_blank" rel="noopener noreferrer">Datadog dashboard</a>.</p></div>
</div> <iframe src="https://app.datadoghq.eu/graph/embed?token=417dae5b1bbcc11cddd9b4a86420ee808dd3e91f0c1d0f2ae67754c54ef3871c&amp;height=300&amp;width=600&amp;legend=true" width="600" height="300" frameborder="0"></iframe> <iframe src="https://app.datadoghq.eu/graph/embed?token=0668b77c5fd00c76a59378edea1c4a93e22cd2442c5854e3b0032aeede4037cc&amp;height=300&amp;width=600&amp;legend=true" width="600" height="300" frameborder="0"></iframe> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="dont-benchmark-from-pull-requests">Don't benchmark from pull requests<a href="#dont-benchmark-from-pull-requests" class="hash-link" aria-label="Direct link to Don't benchmark from pull requests" title="Direct link to Don't benchmark from pull requests">​</a>
</h2> <p>Or at least use a private repository when doing that.</p> <p>Yarn enables various security settings when it detects that the running environment is a pull request on a public repository. Amongst others (see <a href="security#hardened-mode">Hardened mode</a>), it will by default pull all metadata from the remote registry to confirm they match what's inside the lockfile. This makes installs much slower, but is important to protect our users against <a href="https://snyk.io/blog/why-npm-lockfiles-can-be-a-security-blindspot-for-injecting-malicious-modules/" target="_blank" rel="noopener noreferrer">lockfile poisoning</a>.</p> <h2 class="anchor anchorWithStickyNavbar_hhKX" id="about-diminishing-returns">About diminishing returns<a href="#about-diminishing-returns" class="hash-link" aria-label="Direct link to About diminishing returns" title="Direct link to About diminishing returns">​</a>
</h2> <p>Keep in mind when discussing package manager performances that those numbers are very relative. While major and minor releases often come with improvements in terms of install speed, shaving a couple of seconds doesn't have a significant impact - especially when those timings heavily depend on your exact environment (CI platform, cpu count, network speed, ...) and configuration (cache settings).</p> <p>Whether you plan to use Yarn or another package manager, make sure to not only base your decision on raw speed, but also on more structural reasons: features they each implement, settings they each offer, priorities they each set.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/features/performances" class="_attribution-link">https://yarnpkg.com/features/performances</a>
  </p>
</div>

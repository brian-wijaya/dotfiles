<header> <h1>svelte/<wbr>attachments</wbr>
</h1></header> <aside class="on-this-page svelte-wtnkd6"><label class="svelte-wtnkd6"> <h3 class="svelte-wtnkd6">On this page</h3></label> <nav class="svelte-wtnkd6"><ul class="svelte-wtnkd6">
<li class="svelte-wtnkd6"><a href="svelte-attachments" class="svelte-wtnkd6 active">svelte/attachments</a></li> <li class="svelte-wtnkd6"><a href="#createAttachmentKey" class="svelte-wtnkd6">createAttachmentKey</a></li>
<li class="svelte-wtnkd6"><a href="#fromAction" class="svelte-wtnkd6">fromAction</a></li>
<li class="svelte-wtnkd6"><a href="#Attachment" class="svelte-wtnkd6">Attachment</a></li>
</ul></nav></aside> <div class="text content"><div class="text svelte-zb31s9">
<div class="code-block">

<pre data-language="typescript" class="shiki css-variables twoslash lsp" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">import { createAttachmentKey, fromAction } from 'svelte/attachments';</pre>
</div>
<h2 id="createAttachmentKey">
<span>createAttachmentKey</span>
</h2>
<blockquote class="since note"> <p>Available since 5.29</p> </blockquote> <p>Creates an object key that will be recognised as an attachment when the object is spread onto an element, as a programmatic alternative to using <code>{@attach ...}</code>. This can be useful for library authors, though is generally not needed when building an app.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { createAttachmentKey } from 'svelte/attachments';

	const props = {
		class: 'cool',
		onclick: () =&gt; alert('clicked'),
		[createAttachmentKey()]: (node) =&gt; {
			node.textContent = 'attached!';
		}
	};
&lt;/script&gt;

&lt;button {...props}&gt;click me&lt;/button&gt;</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function createAttachmentKey(): symbol;</pre></div>
</div> <h2 id="fromAction">
<span>fromAction</span>
</h2>
<p>Converts an <a href="use">action</a> into an <a href="@attach">attachment</a> keeping the same behavior. It’s useful if you want to start using attachments on components but you have actions provided by a library.</p> <p>Note that the second argument, if provided, must be a function that <em>returns</em> the argument to the action function, not the argument itself.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;!-- with an action --&gt;
&lt;div use:foo={bar}&gt;...&lt;/div&gt;

&lt;!-- with an attachment --&gt;
&lt;div {@attach fromAction(foo, () =&gt; bar)}&gt;...&lt;/div&gt;</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function fromAction&lt;
	E extends EventTarget,
	T extends unknown
&gt;(
	action:
		| Action&lt;E, T&gt;
		| ((element: E, arg: T) =&gt; void | ActionReturn&lt;T&gt;),
	fn: () =&gt; T
): Attachment&lt;E&gt;;</pre></div>
</div> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function fromAction&lt;E extends EventTarget&gt;(
	action:
		| Action&lt;E, void&gt;
		| ((element: E) =&gt; void | ActionReturn&lt;void&gt;)
): Attachment&lt;E&gt;;</pre></div>
</div> <h2 id="Attachment">
<span>Attachment</span>
</h2>
<p>An <a href="@attach">attachment</a> is a function that runs when an element is mounted to the DOM, and optionally returns a function that is called when the element is later removed.</p> <p>It can be attached to an element with an <code>{@attach ...}</code> tag, or by spreading an object containing a property created with <a href="svelte-attachments#createAttachmentKey"><code>createAttachmentKey</code></a>.</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">interface Attachment&lt;T extends EventTarget = Element&gt; {…}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">(element: T): void | (() =&gt; void);</pre></div>
 </div>
</div>
</div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016–2025 Rich Harris and contributors<br>Licensed under the MIT License.<br>
    <a href="https://svelte.dev/docs/svelte/svelte-attachments" class="_attribution-link">https://svelte.dev/docs/svelte/svelte-attachments</a>
  </p>
</div>

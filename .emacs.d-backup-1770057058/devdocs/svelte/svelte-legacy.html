<header> <h1>svelte/<wbr>legacy</wbr>
</h1></header> <aside class="on-this-page svelte-wtnkd6"><label class="svelte-wtnkd6"> <h3 class="svelte-wtnkd6">On this page</h3></label> <nav class="svelte-wtnkd6"><ul class="svelte-wtnkd6">
<li class="svelte-wtnkd6"><a href="svelte-legacy" class="svelte-wtnkd6 active">svelte/legacy</a></li> <li class="svelte-wtnkd6"><a href="#asClassComponent" class="svelte-wtnkd6">asClassComponent</a></li>
<li class="svelte-wtnkd6"><a href="#createBubbler" class="svelte-wtnkd6">createBubbler</a></li>
<li class="svelte-wtnkd6"><a href="#createClassComponent" class="svelte-wtnkd6">createClassComponent</a></li>
<li class="svelte-wtnkd6"><a href="#handlers" class="svelte-wtnkd6">handlers</a></li>
<li class="svelte-wtnkd6"><a href="#nonpassive" class="svelte-wtnkd6">nonpassive</a></li>
<li class="svelte-wtnkd6"><a href="#once" class="svelte-wtnkd6">once</a></li>
<li class="svelte-wtnkd6"><a href="#passive" class="svelte-wtnkd6">passive</a></li>
<li class="svelte-wtnkd6"><a href="#preventDefault" class="svelte-wtnkd6">preventDefault</a></li>
<li class="svelte-wtnkd6"><a href="#run" class="svelte-wtnkd6">run</a></li>
<li class="svelte-wtnkd6"><a href="#self" class="svelte-wtnkd6">self</a></li>
<li class="svelte-wtnkd6"><a href="#stopImmediatePropagation" class="svelte-wtnkd6">stopImmediatePropagation</a></li>
<li class="svelte-wtnkd6"><a href="#stopPropagation" class="svelte-wtnkd6">stopPropagation</a></li>
<li class="svelte-wtnkd6"><a href="#trusted" class="svelte-wtnkd6">trusted</a></li>
<li class="svelte-wtnkd6"><a href="#LegacyComponentType" class="svelte-wtnkd6">LegacyComponentType</a></li>
</ul></nav></aside> <div class="text content"><div class="text svelte-zb31s9">
<p>This module provides various functions for use during the migration, since some features can’t be replaced one to one with new features. All imports are marked as deprecated and should be migrated away from over time.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables twoslash lsp" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">import {
	asClassComponent,
	createBubbler,
	createClassComponent,
	run,
	self,
	stopImmediatePropagation,
	stopPropagation,
	trusted
} from 'svelte/legacy';</pre>
</div>
<h2 id="asClassComponent">
<span>asClassComponent</span>
</h2>
<blockquote class="tag deprecated note"> <p>Use this only as a temporary solution to migrate your imperative component code to Svelte 5.</p> </blockquote> <p>Takes the component function and returns a Svelte 4 compatible component constructor.</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function asClassComponent&lt;
	Props extends Record&lt;string, any&gt;,
	Exports extends Record&lt;string, any&gt;,
	Events extends Record&lt;string, any&gt;,
	Slots extends Record&lt;string, any&gt;
&gt;(
	component:
		| SvelteComponent&lt;Props, Events, Slots&gt;
		| Component&lt;Props&gt;
): ComponentType&lt;
	SvelteComponent&lt;Props, Events, Slots&gt; &amp; Exports
&gt;;</pre></div>
</div> <h2 id="createBubbler">
<span>createBubbler</span>
</h2>
<blockquote class="tag deprecated note"> <p>Use this only as a temporary solution to migrate your automatically delegated events in Svelte 5.</p> </blockquote> <p>Function to create a <code>bubble</code> function that mimic the behavior of <code>on:click</code> without handler available in svelte 4.</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function createBubbler(): (
	type: string
) =&gt; (event: Event) =&gt; boolean;</pre></div>
</div> <h2 id="createClassComponent">
<span>createClassComponent</span>
</h2>
<blockquote class="tag deprecated note"> <p>Use this only as a temporary solution to migrate your imperative component code to Svelte 5.</p> </blockquote> <p>Takes the same options as a Svelte 4 component and the component function and returns a Svelte 4 compatible component.</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function createClassComponent&lt;
	Props extends Record&lt;string, any&gt;,
	Exports extends Record&lt;string, any&gt;,
	Events extends Record&lt;string, any&gt;,
	Slots extends Record&lt;string, any&gt;
&gt;(
	options: ComponentConstructorOptions&lt;Props&gt; &amp; {
		component:
			| ComponentType&lt;SvelteComponent&lt;Props, Events, Slots&gt;&gt;
			| Component&lt;Props&gt;;
	}
): SvelteComponent&lt;Props, Events, Slots&gt; &amp; Exports;</pre></div>
</div> <h2 id="handlers">
<span>handlers</span>
</h2>
<p>Function to mimic the multiple listeners available in svelte 4</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function handlers(
	...handlers: EventListener[]
): EventListener;</pre></div>
</div> <h2 id="nonpassive">
<span>nonpassive</span>
</h2>
<p>Substitute for the <code>nonpassive</code> event modifier, implemented as an action</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function nonpassive(
	node: HTMLElement,
	[event, handler]: [
		event: string,
		handler: () =&gt; EventListener
	]
): void;</pre></div>
</div> <h2 id="once">
<span>once</span>
</h2>
<p>Substitute for the <code>once</code> event modifier</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function once(
	fn: (event: Event, ...args: Array&lt;unknown&gt;) =&gt; void
): (event: Event, ...args: unknown[]) =&gt; void;</pre></div>
</div> <h2 id="passive">
<span>passive</span>
</h2>
<p>Substitute for the <code>passive</code> event modifier, implemented as an action</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function passive(
	node: HTMLElement,
	[event, handler]: [
		event: string,
		handler: () =&gt; EventListener
	]
): void;</pre></div>
</div> <h2 id="preventDefault">
<span>preventDefault</span>
</h2>
<p>Substitute for the <code>preventDefault</code> event modifier</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function preventDefault(
	fn: (event: Event, ...args: Array&lt;unknown&gt;) =&gt; void
): (event: Event, ...args: unknown[]) =&gt; void;</pre></div>
</div> <h2 id="run">
<span>run</span>
</h2>
<blockquote class="tag deprecated note"> <p>Use this only as a temporary solution to migrate your component code to Svelte 5.</p> </blockquote> <p>Runs the given function once immediately on the server, and works like <code>$effect.pre</code> on the client.</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function run(fn: () =&gt; void | (() =&gt; void)): void;</pre></div>
</div> <h2 id="self">
<span>self</span>
</h2>
<p>Substitute for the <code>self</code> event modifier</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function self(
	fn: (event: Event, ...args: Array&lt;unknown&gt;) =&gt; void
): (event: Event, ...args: unknown[]) =&gt; void;</pre></div>
</div> <h2 id="stopImmediatePropagation">
<span>stopImmediatePropagation</span>
</h2>
<p>Substitute for the <code>stopImmediatePropagation</code> event modifier</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function stopImmediatePropagation(
	fn: (event: Event, ...args: Array&lt;unknown&gt;) =&gt; void
): (event: Event, ...args: unknown[]) =&gt; void;</pre></div>
</div> <h2 id="stopPropagation">
<span>stopPropagation</span>
</h2>
<p>Substitute for the <code>stopPropagation</code> event modifier</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function stopPropagation(
	fn: (event: Event, ...args: Array&lt;unknown&gt;) =&gt; void
): (event: Event, ...args: unknown[]) =&gt; void;</pre></div>
</div> <h2 id="trusted">
<span>trusted</span>
</h2>
<p>Substitute for the <code>trusted</code> event modifier</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function trusted(
	fn: (event: Event, ...args: Array&lt;unknown&gt;) =&gt; void
): (event: Event, ...args: unknown[]) =&gt; void;</pre></div>
</div> <h2 id="LegacyComponentType">
<span>LegacyComponentType</span>
</h2>
<p>Support using the component as both a class and function during the transition period</p> <div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">type LegacyComponentType = {
	new (o: ComponentConstructorOptions): SvelteComponent;
	(
		...args: Parameters&lt;Component&lt;Record&lt;string, any&gt;&gt;&gt;
	): ReturnType&lt;
		Component&lt;Record&lt;string, any&gt;, Record&lt;string, any&gt;&gt;
	&gt;;
};</pre></div>
</div>
</div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016–2025 Rich Harris and contributors<br>Licensed under the MIT License.<br>
    <a href="https://svelte.dev/docs/svelte/svelte-legacy" class="_attribution-link">https://svelte.dev/docs/svelte/svelte-legacy</a>
  </p>
</div>

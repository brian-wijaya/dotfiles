<header> <h1>svelte/<wbr>reactivity</wbr>
</h1></header> <aside class="on-this-page svelte-wtnkd6"><label class="svelte-wtnkd6"> <h3 class="svelte-wtnkd6">On this page</h3></label> <nav class="svelte-wtnkd6"><ul class="svelte-wtnkd6">
<li class="svelte-wtnkd6"><a href="svelte-reactivity" class="svelte-wtnkd6 active">svelte/reactivity</a></li> <li class="svelte-wtnkd6"><a href="#MediaQuery" class="svelte-wtnkd6">MediaQuery</a></li>
<li class="svelte-wtnkd6"><a href="#SvelteDate" class="svelte-wtnkd6">SvelteDate</a></li>
<li class="svelte-wtnkd6"><a href="#SvelteMap" class="svelte-wtnkd6">SvelteMap</a></li>
<li class="svelte-wtnkd6"><a href="#SvelteSet" class="svelte-wtnkd6">SvelteSet</a></li>
<li class="svelte-wtnkd6"><a href="#SvelteURL" class="svelte-wtnkd6">SvelteURL</a></li>
<li class="svelte-wtnkd6"><a href="#SvelteURLSearchParams" class="svelte-wtnkd6">SvelteURLSearchParams</a></li>
<li class="svelte-wtnkd6"><a href="#createSubscriber" class="svelte-wtnkd6">createSubscriber</a></li>
</ul></nav></aside> <div class="text content"><div class="text svelte-zb31s9">
<p>Svelte provides reactive versions of various built-ins like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code>URL</code></a> that can be used just like their native counterparts, as well as a handful of additional utilities for handling reactivity.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables twoslash lsp" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">import {
	MediaQuery,
	SvelteDate,
	SvelteMap,
	SvelteSet,
	SvelteURL,
	SvelteURLSearchParams,
	createSubscriber
} from 'svelte/reactivity';</pre>
</div>
<h2 id="MediaQuery">
<span>MediaQuery</span>
</h2>
<blockquote class="since note"> <p>Available since 5.7.0</p> </blockquote> <p>Creates a media query and provides a <code>current</code> property that reflects whether or not it matches.</p> <p>Use it carefully â€” during server-side rendering, there is no way to know what the correct value should be, potentially causing content to change upon hydration. If you can use the media query in CSS to achieve the same effect, do that.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { MediaQuery } from 'svelte/reactivity';

	const large = new MediaQuery('min-width: 800px');
&lt;/script&gt;

&lt;h1&gt;{large.current ? 'large screen' : 'small screen'}&lt;/h1&gt;</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">class MediaQuery extends ReactiveValue&lt;boolean&gt; {â€¦}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">constructor(query: string, fallback?: boolean | undefined);</pre></div>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<code>query</code> A media query string</li> <li>
<code>fallback</code> Fallback value for the server</li> </ul> </div> </div> </div>
</div> <h2 id="SvelteDate">
<span>SvelteDate</span>
</h2>
<p>A reactive version of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"><code>Date</code></a> object. Reading the date (whether with methods like <code>date.getTime()</code> or <code>date.toString()</code>, or via things like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat"><code>Intl.DateTimeFormat</code></a>) in an <a href="$effect">effect</a> or <a href="$derived">derived</a> will cause it to be re-evaluated when the value of the date changes.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { SvelteDate } from 'svelte/reactivity';

	const date = new SvelteDate();

	const formatter = new Intl.DateTimeFormat(undefined, {
	  hour: 'numeric',
	  minute: 'numeric',
	  second: 'numeric'
	});

	$effect(() =&gt; {
		const interval = setInterval(() =&gt; {
			date.setTime(Date.now());
		}, 1000);

		return () =&gt; {
			clearInterval(interval);
		};
	});
&lt;/script&gt;

&lt;p&gt;The time is {formatter.format(date)}&lt;/p&gt;</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">class SvelteDate extends Date {â€¦}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">constructor(...params: any[]);</pre></div>
 </div>
</div> <h2 id="SvelteMap">
<span>SvelteMap</span>
</h2>
<p>A reactive version of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a> object. Reading contents of the map (by iterating, or by reading <code>map.size</code> or calling <code>map.get(...)</code> or <code>map.has(...)</code> as in the <a href="https://svelte.dev/playground/0b0ff4aa49c9443f9b47fe5203c78293">tic-tac-toe example</a> below) in an <a href="$effect">effect</a> or <a href="$derived">derived</a> will cause it to be re-evaluated as necessary when the map is updated.</p> <p>Note that values in a reactive map are <em>not</em> made <a href="$state#Deep-state">deeply reactive</a>.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { SvelteMap } from 'svelte/reactivity';
	import { result } from './game.js';

	let board = new SvelteMap();
	let player = $state('x');
	let winner = $derived(result(board));

	function reset() {
		player = 'x';
		board.clear();
	}
&lt;/script&gt;

&lt;div class="board"&gt;
	{#each Array(9), i}
		&lt;button
			disabled={board.has(i) || winner}
			onclick={() =&gt; {
				board.set(i, player);
				player = player === 'x' ? 'o' : 'x';
			}}
		&gt;{board.get(i)}&lt;/button&gt;
	{/each}
&lt;/div&gt;

{#if winner}
	&lt;p&gt;{winner} wins!&lt;/p&gt;
	&lt;button onclick={reset}&gt;reset&lt;/button&gt;
{:else}
	&lt;p&gt;{player} is next&lt;/p&gt;
{/if}</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">class SvelteMap&lt;K, V&gt; extends Map&lt;K, V&gt; {â€¦}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">constructor(value?: Iterable&lt;readonly [K, V]&gt; | null | undefined);</pre></div>
 </div> <div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">set(key: K, value: V): this;</pre></div>
 </div>
</div> <h2 id="SvelteSet">
<span>SvelteSet</span>
</h2>
<p>A reactive version of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a> object. Reading contents of the set (by iterating, or by reading <code>set.size</code> or calling <code>set.has(...)</code> as in the <a href="https://svelte.dev/playground/53438b51194b4882bcc18cddf9f96f15">example</a> below) in an <a href="$effect">effect</a> or <a href="$derived">derived</a> will cause it to be re-evaluated as necessary when the set is updated.</p> <p>Note that values in a reactive set are <em>not</em> made <a href="$state#Deep-state">deeply reactive</a>.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { SvelteSet } from 'svelte/reactivity';
	let monkeys = new SvelteSet();

	function toggle(monkey) {
		if (monkeys.has(monkey)) {
			monkeys.delete(monkey);
		} else {
			monkeys.add(monkey);
		}
	}
&lt;/script&gt;

{#each ['ðŸ™ˆ', 'ðŸ™‰', 'ðŸ™Š'] as monkey}
	&lt;button onclick={() =&gt; toggle(monkey)}&gt;{monkey}&lt;/button&gt;
{/each}

&lt;button onclick={() =&gt; monkeys.clear()}&gt;clear&lt;/button&gt;

{#if monkeys.has('ðŸ™ˆ')}&lt;p&gt;see no evil&lt;/p&gt;{/if}
{#if monkeys.has('ðŸ™‰')}&lt;p&gt;hear no evil&lt;/p&gt;{/if}
{#if monkeys.has('ðŸ™Š')}&lt;p&gt;speak no evil&lt;/p&gt;{/if}</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">class SvelteSet&lt;T&gt; extends Set&lt;T&gt; {â€¦}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">constructor(value?: Iterable&lt;T&gt; | null | undefined);</pre></div>
 </div> <div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">add(value: T): this;</pre></div>
 </div>
</div> <h2 id="SvelteURL">
<span>SvelteURL</span>
</h2>
<p>A reactive version of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code>URL</code></a> object. Reading properties of the URL (such as <code>url.href</code> or <code>url.pathname</code>) in an <a href="$effect">effect</a> or <a href="$derived">derived</a> will cause it to be re-evaluated as necessary when the URL changes.</p> <p>The <code>searchParams</code> property is an instance of <a href="svelte-reactivity#SvelteURLSearchParams">SvelteURLSearchParams</a>.</p> <p><a href="https://svelte.dev/playground/5a694758901b448c83dc40dc31c71f2a">Example</a>:</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { SvelteURL } from 'svelte/reactivity';

	const url = new SvelteURL('https://example.com/path');
&lt;/script&gt;

&lt;!-- changes to these... --&gt;
&lt;input bind:value={url.protocol} /&gt;
&lt;input bind:value={url.hostname} /&gt;
&lt;input bind:value={url.pathname} /&gt;

&lt;hr /&gt;

&lt;!-- will update `href` and vice versa --&gt;
&lt;input bind:value={url.href} size="65" /&gt;</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">class SvelteURL extends URL {â€¦}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">get searchParams(): SvelteURLSearchParams;</pre></div>
 </div>
</div> <h2 id="SvelteURLSearchParams">
<span>SvelteURLSearchParams</span>
</h2>
<p>A reactive version of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a> object. Reading its contents (by iterating, or by calling <code>params.get(...)</code> or <code>params.getAll(...)</code> as in the <a href="https://svelte.dev/playground/b3926c86c5384bab9f2cf993bc08c1c8">example</a> below) in an <a href="$effect">effect</a> or <a href="$derived">derived</a> will cause it to be re-evaluated as necessary when the params are updated.</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">&lt;script&gt;
	import { SvelteURLSearchParams } from 'svelte/reactivity';

	const params = new SvelteURLSearchParams('message=hello');

	let key = $state('key');
	let value = $state('value');
&lt;/script&gt;

&lt;input bind:value={key} /&gt;
&lt;input bind:value={value} /&gt;
&lt;button onclick={() =&gt; params.append(key, value)}&gt;append&lt;/button&gt;

&lt;p&gt;?{params.toString()}&lt;/p&gt;

{#each params as [key, value]}
	&lt;p&gt;{key}: {value}&lt;/p&gt;
{/each}</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">class SvelteURLSearchParams extends URLSearchParams {â€¦}</pre></div>
<div class="ts-block-property"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">[REPLACE](params: URLSearchParams): void;</pre></div>
 </div>
</div> <h2 id="createSubscriber">
<span>createSubscriber</span>
</h2>
<blockquote class="since note"> <p>Available since 5.7.0</p> </blockquote> <p>Returns a <code>subscribe</code> function that integrates external event-based systems with Svelteâ€™s reactivity. Itâ€™s particularly useful for integrating with web APIs like <code>MediaQuery</code>, <code>IntersectionObserver</code>, or <code>WebSocket</code>.</p> <p>If <code>subscribe</code> is called inside an effect (including indirectly, for example inside a getter), the <code>start</code> callback will be called with an <code>update</code> function. Whenever <code>update</code> is called, the effect re-runs.</p> <p>If <code>start</code> returns a cleanup function, it will be called when the effect is destroyed.</p> <p>If <code>subscribe</code> is called in multiple effects, <code>start</code> will only be called once as long as the effects are active, and the returned teardown function will only be called when all effects are destroyed.</p> <p>Itâ€™s best understood with an example. Hereâ€™s an implementation of <a href="svelte-reactivity#MediaQuery"><code>MediaQuery</code></a>:</p> <div class="code-block">

<pre data-language="typescript" class="shiki css-variables twoslash lsp" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">import { createSubscriber } from 'svelte/reactivity';
import { on } from 'svelte/events';

export class MediaQuery {
	#query;
	#subscribe;

	constructor(query) {
		this.#query = window.matchMedia(`(${query})`);

		this.#subscribe = createSubscriber((update) =&gt; {
			// when the `change` event occurs, re-run any effects that read `this.current`
			const off = on(this.#query, 'change', update);

			// stop listening when all the effects are destroyed
			return () =&gt; off();
		});
	}

	get current() {
		// This makes the getter reactive, if read in an effect
		this.#subscribe();

		// Return the current state of the query, whether or not we're in an effect
		return this.#query.matches;
	}
}</pre>
</div>
<div class="ts-block"> <div class="code-block"><pre data-language="typescript" class="shiki css-variables" style="background-color:var(--shiki-background);color:var(--shiki-foreground)">function createSubscriber(
	start: (update: () =&gt; void) =&gt; (() =&gt; void) | void
): () =&gt; void;</pre></div>
</div>
</div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016â€“2025 Rich Harris and contributors<br>Licensed under the MIT License.<br>
    <a href="https://svelte.dev/docs/svelte/svelte-reactivity" class="_attribution-link">https://svelte.dev/docs/svelte/svelte-reactivity</a>
  </p>
</div>

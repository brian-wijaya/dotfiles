<h1>mask-composite</h1> <details class="baseline-indicator low" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title">  Baseline <span class="not-bold"> 2023 </span>   </div> <div class="pill">Newly available</div>   </summary> <div class="extra"> <p> Since ⁨December 2023⁩, this feature works across the latest devices and browser versions. This feature might not work in older devices or browsers. </p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FCSS%2Fmask-composite&amp;level=low" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details> <section class="content-section">  <p>The <code>mask-composite</code> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> property represents a compositing operation used on the current mask layer with the mask layers below it.</p> </section>    <mdn-survey></mdn-survey> <section class="content-section" aria-labelledby="syntax"> <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="css">/* Keyword values */
mask-composite: add;
mask-composite: subtract;
mask-composite: intersect;
mask-composite: exclude;

/* Global values */
mask-composite: inherit;
mask-composite: initial;
mask-composite: revert;
mask-composite: revert-layer;
mask-composite: unset;
</pre></div> </section><section class="content-section" aria-labelledby="values"> <h3 id="values" class="heading">Values</h3> <p>The property accepts a comma-separated list of <code>&lt;compositing-operator&gt;</code> keyword values, each representing a Porter-Duff compositing operator which defines the compositing operation used on the current mask layer with the mask layers below it, including:</p> <dl> <dt id="add"><a href="#add"><code>add</code></a></dt> <dd> <p>The associated mask image is placed over all mask layers below it (with the corresponding compositing operators applied). This is the default value.</p> </dd> <dt id="subtract"><a href="#subtract"><code>subtract</code></a></dt> <dd> <p>The associated mask image is placed, where it falls outside of all mask layers below it (with the corresponding compositing operators applied).</p> </dd> <dt id="intersect"><a href="#intersect"><code>intersect</code></a></dt> <dd> <p>The parts of the associated mask image that overlap all composited mask layers below it replace those previously composited layers.</p> </dd> <dt id="exclude"><a href="#exclude"><code>exclude</code></a></dt> <dd> <p>The non-overlapping regions of the associated mask image and the mask layers below it, with their corresponding compositing operators applied, are combined.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="description"> <h2 id="description" class="heading">Description</h2> <p>When an element has multiple mask layers applied, the <code>mask-composite</code> property can be used to define how the multiple masks interact with each other, or are combined, in creating the final mask effect.</p> <p>The number of layers is determined by the number of comma-separated values in the <code>mask-image</code> property value (even if a value is <code>none</code>). Each <code>mask-composite</code> value in the comma-separated list of values is matched up with a <code>mask-image</code> value, in order. If the number of values in <code>mask-composite</code> are equal to or greater than the number of <code>mask-image</code> values, the extra values are ignored. If the <code>mask-composite</code> property doesn't have enough comma-separated values to match the number of layers, the list of values are repeated until there are enough.</p> <p>For processing, the <em>source layer</em>, which is current or associated mask layer image, is either added to (the default), subtracted from, intersected with, or is excluded from, the destination layers. The <em>destination layers</em> are the mask layers below the source with their corresponding compositing operators applied; this includes all the previous layers, composed in order of appearance within the comma-separated list of masks. All mask layers below the current mask layer must be composited before applying the compositing operation for the current mask layer. Mask layer images are transformed to alpha masks for processing before being combined by the defined compositing value.</p> <p>The multiple mask layers applied to any element or pseudo-element act as if they are rendered into an isolated group. In other words, the mask layers are composited with other mask layers, not with the element's content or the content behind the element.</p> </section><section class="content-section" aria-labelledby="formal_definition"> <h2 id="formal_definition" class="heading">Formal definition</h2> <figure class="table-container"><div class="_table"><table class="properties"><tbody>
<tr>
<th scope="row"><a href="css_cascade/value_processing#initial_value">Initial value</a></th>
<td><code>add</code></td>
</tr>
<tr>
<th scope="row">Applies to</th>
<td>all elements; In SVG, it applies to container elements excluding the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element/defs"><code>&lt;defs&gt;</code></a> element and all graphics elements</td>
</tr>
<tr>
<th scope="row"><a href="css_cascade/inheritance">Inherited</a></th>
<td>no</td>
</tr>
<tr>
<th scope="row"><a href="css_cascade/value_processing#computed_value">Computed value</a></th>
<td>as specified</td>
</tr>
<tr>
<th scope="row"><a href="css_animated_properties">Animation type</a></th>
<td>discrete</td>
</tr>
</tbody></table></div></figure> </section><section class="content-section" aria-labelledby="formal_syntax"> <h2 id="formal_syntax" class="heading">Formal syntax</h2> <pre class="notranslate css-formal-syntax"><span class="token property" id="mask-composite">mask-composite = </span><br>  <span class="token property">&lt;compositing-operator&gt;</span><a href="css_values_and_units/value_definition_syntax#hash_mark">#</a>  <br><br><span class="token property" id="&lt;compositing-operator&gt;">&lt;compositing-operator&gt; = </span><br>  <span class="token keyword">add</span>        <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">subtract</span>   <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">intersect</span>  <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">exclude</span>    <br></pre> <footer>Sources: <a href="https://drafts.fxtf.org/css-masking-1/" target="_blank">CSS Masking Module Level 1</a></footer> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> &gt; </section><section class="content-section" aria-labelledby="basic_usage"> <h3 id="basic_usage" class="heading">Basic usage</h3> <p>This example demonstrates the basic usage of the <code>mask-composite</code> property.</p> <h4 id="html">HTML</h4> <p>We include an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/div"><code>&lt;div&gt;</code></a> element, that we will then style.</p> <div class="code-example"><pre data-language="html">&lt;div&gt;&lt;/div&gt;
</pre></div> <h4 id="css">CSS</h4> <p>We provide size and color our <code>&lt;div&gt;</code>, then add two <a href="mask-image"><code>mask-image</code></a>s, and make their size match that of the element they're masking with the <a href="mask-size"><code>mask-size</code></a> property. Lastly, we subtract the second mask image from the first mask image with the <code>mask-composite</code> property set to <code>subtract</code>.</p> <div class="code-example"><pre data-language="css">div {
  width: 100px;
  height: 100px;
  background-color: red;

  mask-image:
    url("https://mdn.github.io/shared-assets/images/examples/mdn.svg"),
    url("https://mdn.github.io/shared-assets/images/examples/mask-star.svg");
  mask-size: 100% 100%;

  mask-composite: subtract;
}
</pre></div> <h4 id="results">Results</h4> <div class="code-example"><iframe class="sample-code-frame" title="basic usage sample" id="frame_basic_usage" height="150px" src="about:blank" data-live-path="/en-US/docs/Web/CSS/mask-composite/" data-live-id="basic_usage" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div> </section><section class="content-section" aria-labelledby="value_comparison"> <h3 id="value_comparison" class="heading">Value comparison</h3> <p>This example demonstrates the <code>mask-composite</code> property's four <code>&lt;compositing-operator&gt;</code> keyword values, along with comparing the effects of <a href="mask-type"><code>alpha</code> and <code>luminance</code></a> mask modes.</p> <h4 id="html_2">HTML</h4> <p>We have a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/table"><code>&lt;table&gt;</code></a> that contains eight images. The <code>&lt;table&gt;</code> has been hidden for brevity.</p>  <div class="code-example"><pre data-language="html">&lt;img
  src="https://mdn.github.io/shared-assets/images/examples/progress-pride-flag.jpg"
  alt="Pride flag" /&gt;
</pre></div> <p>And an SVG with 4 masks; an alpha heart and circle and a luminance heart and circle. The heart masks are defined using solid colors. The circle masks are created using semi-transparent white and black <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Attribute/stroke"><code>stroke</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Attribute/fill"><code>fill</code></a> colors.</p> <div class="code-example"><pre data-language="html">&lt;svg height="0" width="0"&gt;
  &lt;mask id="heartAlpha" class="alpha"&gt;
    &lt;path
      d="M20,70 A40,40,0,0,1,100,70 A40,40,0,0,1,180,70 Q180,130,100,190 Q20,130,20,70 Z"
      fill="green"
      stroke="white"
      stroke-width="20" /&gt;
  &lt;/mask&gt;
  &lt;mask id="circleAlpha" class="alpha"&gt;
    &lt;circle
      cx="130"
      cy="130"
      r="50"
      fill="rgb(0 0 0 / 0.5)"
      stroke="rgb(255 255 255 / 0.5)"
      stroke-width="20" /&gt;
  &lt;/mask&gt;
  &lt;mask id="heartLuminance" class="luminance"&gt;
    &lt;path
      d="M20,70 A40,40,0,0,1,100,70 A40,40,0,0,1,180,70 Q180,130,100,190 Q20,130,20,70 Z"
      fill="green"
      stroke="white"
      stroke-width="20" /&gt;
  &lt;/mask&gt;
  &lt;mask id="circleLuminance" class="luminance"&gt;
    &lt;circle
      cx="130"
      cy="130"
      r="50"
      fill="rgb(0 0 0 / 0.5)"
      stroke="rgb(255 255 255 / 0.5)"
      stroke-width="20" /&gt;
  &lt;/mask&gt;
&lt;/svg&gt;
</pre></div> <h4 id="css_2">CSS</h4> <p>First we style the <code>&lt;mask&gt;</code> elements, providing each mask with a <a href="mask-type"><code>mask-type</code></a> property value of either <code>alpha</code> or <code>luminance</code>.</p> <div class="code-example"><pre data-language="css">mask.luminance {
  mask-type: luminance;
}

mask.alpha {
  mask-type: alpha;
}
</pre></div> <p>We then apply the heart and circle masks as the comma-separated <a href="mask-image"><code>mask-image</code></a> property values. These are applied to each <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/img"><code>&lt;img&gt;</code></a> element, with all the images in a row getting the same masks.</p> <div class="code-example"><pre data-language="css">/* apply the mask images */
tr.alphaMaskType img {
  mask-image: url("#heartAlpha"), url("#circleAlpha");
}

tr.luminanceMaskType img {
  mask-image: url("#heartLuminance"), url("#circleLuminance");
}
</pre></div> <p>Finally, we compose the masks using the <code>mask-composite</code> property, applying the four different enumerated <code>mask-composite</code> values by table column.</p> <div class="code-example"><pre data-language="css">/* property we're testing */
td:nth-of-type(1) img {
  mask-composite: add;
}
td:nth-of-type(2) img {
  mask-composite: subtract;
}
td:nth-of-type(3) img {
  mask-composite: intersect;
}
td:nth-of-type(4) img {
  mask-composite: exclude;
}
</pre></div> <p>The table styles have been hidden for the sake of brevity.</p>  <h4 id="results_2">Results</h4> <div class="code-example"><iframe class="sample-code-frame" title="value comparison sample" id="frame_value_comparison" height="600" src="about:blank" data-live-path="/en-US/docs/Web/CSS/mask-composite/" data-live-id="value_comparison" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.fxtf.org/css-masking/#the-mask-composite" rel="noopener" target="_blank">CSS Masking Module Level 1&gt;<br># the-mask-composite&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="browser_compatibility"> <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>mask-composite</code></th>
<td class="bc-supports-yes"><details><summary>120</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes">
<details><summary>120</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details>18–79</td>
<td class="bc-supports-yes">5353</td>
<td class="bc-supports-yes"><details><summary>106</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes"><details><summary>15.4</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes"><details><summary>120</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes">5353</td>
<td class="bc-supports-yes"><details><summary>80</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes"><details><summary>15.4</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes"><details><summary>25.0</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes"><details><summary>120</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
<td class="bc-supports-yes"><details><summary>15.4</summary>See also <a href="https://developer.mozilla.org/docs/Web/CSS/-webkit-mask-composite"><code>-webkit-mask-composite</code></a> for a similar non-standard property that uses different keywords.</details></td>
</tr>
<tr>
<th><code>add</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
<tr>
<th><code>exclude</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
<tr>
<th><code>intersect</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
<tr>
<th><code>subtract</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
</tbody>
</table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li>
<a href="mask"><code>mask</code></a> shorthand</li> <li><a href="mask-type"><code>mask-type</code></a></li> <li><a href="mask-mode"><code>mask-mode</code></a></li> <li><a href="css_masking/masking">Introduction to CSS masking</a></li> <li><a href="css_masking/mask_properties">CSS <code>mask</code> properties</a></li> <li><a href="css_masking/multiple_masks">Declaring multiple masks</a></li> <li>
<a href="css_masking">CSS masking</a> module</li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask-composite" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/mask-composite</a>
  </p>
</div>

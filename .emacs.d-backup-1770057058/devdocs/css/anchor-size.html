<h1>anchor-size()</h1> <details class="baseline-indicator not" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> <span class="not-bold">Limited availability</span> </div>    </summary> <div class="extra"> <p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FCSS%2Fanchor-size&amp;level=not" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details> <section class="content-section">  <p>The <code>anchor-size()</code> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> <a href="css_values_and_units/css_value_functions">function</a> enables setting anchor-positioned element's <a href="css_anchor_positioning/using#sizing_elements_based_on_anchor_size">size</a>, <a href="css_anchor_positioning/using#setting_element_position_based_on_anchor_size">position</a>, and <a href="css_anchor_positioning/using#setting_element_margin_based_on_anchor_size">margins</a> relative to the dimensions of anchor elements. It returns the <code>&lt;length&gt;</code> of a specified side of the target anchor element. <code>anchor-size()</code> is only valid when used within the value of anchor-positioned elements' <a href="#properties_that_accept_anchor-size_function_values">sizing, inset, and margin properties</a>.</p> <p>For detailed information on anchor features and usage, see the <a href="css_anchor_positioning">CSS anchor positioning</a> module landing page and the <a href="css_anchor_positioning/using">Using CSS anchor positioning</a> guide.</p> </section>    <mdn-survey></mdn-survey> <section class="content-section" aria-labelledby="syntax"> <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="css">/* sizing relative to anchor side */
width: anchor-size(width);
block-size: anchor-size(block);
height: calc(anchor-size(self-inline) + 2em);

/* sizing relative to named anchor's side */
width: anchor-size(--my-anchor width);
block-size: anchor-size(--my-anchor block);

/* sizing relative to named anchor's side with fallback */
width: anchor-size(--my-anchor width, 50%);
block-size: anchor-size(--my-anchor block, 200px);

/* positioning relative to anchor side */
left: anchor-size(width);
inset-inline-end: anchor-size(--my-anchor height, 100px);

/* setting margin relative to anchor side */
margin-left: calc(anchor-size(width) / 4);
margin-block-start: anchor-size(--my-anchor self-block, 20px);
</pre></div> </section><section class="content-section" aria-labelledby="parameters"> <h3 id="parameters" class="heading">Parameters</h3> <p>The <code>anchor-size()</code> function's syntax is as follows:</p> <pre data-language="plain">anchor-size(&lt;anchor-name&gt; &lt;anchor-size&gt;, &lt;length-percentage&gt;)
</pre> <p>The parameters are:</p> <dl> <dt id="anchor-name"><a href="#anchor-name"><code>&lt;anchor-name&gt;</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The <a href="anchor-name"><code>anchor-name</code></a> property value of an anchor element you want to set the element's size, position, or margins relative to. This is a <code>&lt;dashed-ident&gt;</code> value. If omitted, the element's default anchor is used.</p> <div class="notecard note"> <p><strong>Note:</strong> Specifying an <code>&lt;anchor-name&gt;</code> inside an <code>anchor-size()</code> function neither associates nor tethers an element to an anchor; it only defines which anchor the element's property values should be set relative to.</p> </div> </dd> <dt id="anchor-size"><a href="#anchor-size"><code>&lt;anchor-size&gt;</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Specifies the dimension of the anchor element that the positioned element's property values will be set relative to. Valid values include:</p> <dl> <dt id="width"><a href="#width"><code>width</code></a></dt> <dd> <p>The width of the anchor element.</p> </dd> <dt id="height"><a href="#height"><code>height</code></a></dt> <dd> <p>The height of the anchor element.</p> </dd> <dt id="block"><a href="#block"><code>block</code></a></dt> <dd> <p>The length of the anchor element's <a href="css_display/containing_block">containing block</a> in the block direction.</p> </dd> <dt id="inline"><a href="#inline"><code>inline</code></a></dt> <dd> <p>The length of the anchor element's containing block in the inline direction.</p> </dd> <dt id="self-block"><a href="#self-block"><code>self-block</code></a></dt> <dd> <p>The length of the anchor element in the block direction.</p> </dd> <dt id="self-inline"><a href="#self-inline"><code>self-inline</code></a></dt> <dd> <p>The length of the anchor element in the inline direction.</p> </dd> </dl> <div class="notecard note"> <p><strong>Note:</strong> If this parameter is omitted, the dimension defaults to the <code>&lt;anchor-size&gt;</code> keyterm that matches the axis of the property in which the function is included. For example, <code>width: anchor-size();</code> is equivalent to <code>width: anchor-size(width);</code>.</p> </div> </dd> <dt id="length-percentage">
<a href="length-percentage"><code>&lt;length-percentage&gt;</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>Specifies the size to use as a fallback value if the element is not absolutely or fixed positioned, or the anchor element doesn't exist. If this parameter is omitted in a case when the fallback would otherwise be used, the declaration is invalid.</p> </dd> </dl> <div class="notecard note"> <p><strong>Note:</strong> The anchor dimension you set the positioned element's property values relative to does not have to be along the same axis as the sizing value being set. For example, <code>width: anchor-size(height)</code> is valid.</p> </div> </section><section class="content-section" aria-labelledby="return_value"> <h3 id="return_value" class="heading">Return value</h3> <p>Returns a <a href="length"><code>&lt;length&gt;</code></a> value.</p> </section><section class="content-section" aria-labelledby="description"> <h2 id="description" class="heading">Description</h2> <p>The <code>anchor-size()</code> function enables a positioned element's sizing, position, and margin values to be expressed in terms of an anchor element's dimensions; it returns a <a href="length"><code>&lt;length&gt;</code></a> value representing the dimension of a specific anchor element the positioned element's property values are set relative to. It is a valid value for <a href="#properties_that_accept_anchor-size_function_values">sizing, inset, and margin properties</a> set on anchor-positioned elements.</p> <p>The length returned is the vertical or horizontal size of an anchor element or its containing block. The dimension used is defined by the <code>&lt;anchor-size&gt;</code> parameter. If that parameter is omitted, the dimension used will match the axis of the sizing, position, or margin property is it set on. So for example:</p> <ul> <li>
<code>width: anchor-size()</code> is equivalent to <code>width: anchor-size(width)</code>.</li> <li>
<code>top: anchor-size()</code> is equivalent to <code>top: anchor-size(height)</code>.</li> <li>
<code>margin-inline-end: anchor-size()</code> is equivalent to <code>margin-inline-end: anchor-size(self-inline)</code>. <code>margin-inline-end: anchor-size()</code> is also equivalent to <code>margin-inline-end: anchor-size(width)</code> in horizontal writing modes, or <code>margin-inline-end: anchor-size(height)</code> in vertical writing modes.</li> </ul> <p>The anchor element used as the basis for the dimension length is the element with the <code>anchor-name</code> specified in the <code>&lt;anchor-name&gt;</code> parameter. If more than one element has the same anchor name, the last element with that anchor name in the DOM order is used.</p> <p>If no <code>&lt;anchor-name&gt;</code> parameter is included in the function call, the element's <strong>default anchor</strong>, referenced in its <a href="position-anchor"><code>position-anchor</code></a> property, or associated with the element via the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Global_attributes/anchor"><code>anchor</code></a> HTML attribute, is used.</p> <p>If an <code>&lt;anchor-name&gt;</code> parameter is included and there are no elements matching that anchor name, the fallback value is used. If no fallback was included, the declaration is ignored. For example, if <code>width: anchor-size(--foo width, 50px); height: anchor-size(--foo width);</code> were specified on the positioned element but no anchor named <code>--foo</code> exists in the DOM, the <code>width</code> would be <code>50px</code> and the <code>height</code> declaration would have no effect.</p> <p>If an element has sizing, position, or margin properties with <code>anchor-size()</code> values set on them, but it is not an anchor-positioned element (it does not have its <a href="position"><code>position</code></a> property set to <code>absolute</code> or <code>fixed</code> or does not have an anchor associated with it via its <code>position-anchor</code> property), the fallback value will be used if one is available. If no fallback is available, the declaration is ignored.</p> <p>For example, if <code>width: anchor-size(width, 50px);</code> were specified on the positioned element but no anchor was associated with it, the fallback value would be used, so <code>width</code> would get a computed value of <code>50px</code>.</p> <p>For detailed information on anchor features and usage, see the <a href="css_anchor_positioning">CSS anchor positioning</a> module landing page and the <a href="css_anchor_positioning/using">Using CSS anchor positioning</a> guide.</p> </section><section class="content-section" aria-labelledby="properties_that_accept_anchor-size_function_values"> <h3 id="properties_that_accept_anchor-size_function_values" class="heading">Properties that accept <code>anchor-size()</code> function values</h3> <p>The properties that accept an <code>anchor-size()</code> function as a value include:</p> <ul> <li>Sizing properties: <ul> <li><a href="width"><code>width</code></a></li> <li><a href="height"><code>height</code></a></li> <li><a href="min-width"><code>min-width</code></a></li> <li><a href="min-height"><code>min-height</code></a></li> <li><a href="max-width"><code>max-width</code></a></li> <li><a href="max-height"><code>max-height</code></a></li> <li><a href="block-size"><code>block-size</code></a></li> <li><a href="inline-size"><code>inline-size</code></a></li> <li><a href="min-block-size"><code>min-block-size</code></a></li> <li><a href="min-inline-size"><code>min-inline-size</code></a></li> <li><a href="max-block-size"><code>max-block-size</code></a></li> <li><a href="max-inline-size"><code>max-inline-size</code></a></li> </ul> </li> <li>Inset properties: <ul> <li><a href="bottom"><code>bottom</code></a></li> <li><a href="left"><code>left</code></a></li> <li><a href="right"><code>right</code></a></li> <li><a href="top"><code>top</code></a></li> <li>
<a href="inset"><code>inset</code></a> shorthand</li> <li>
<a href="inset-block"><code>inset-block</code></a> shorthand</li> <li><a href="inset-block-end"><code>inset-block-end</code></a></li> <li><a href="inset-block-start"><code>inset-block-start</code></a></li> <li>
<a href="inset-inline"><code>inset-inline</code></a> shorthand</li> <li><a href="inset-inline-end"><code>inset-inline-end</code></a></li> <li><a href="inset-inline-start"><code>inset-inline-start</code></a></li> </ul> </li> <li>Margin properties: <ul> <li>
<a href="margin"><code>margin</code></a> shorthand</li> <li><a href="margin-bottom"><code>margin-bottom</code></a></li> <li><a href="margin-left"><code>margin-left</code></a></li> <li><a href="margin-right"><code>margin-right</code></a></li> <li><a href="margin-top"><code>margin-top</code></a></li> <li>
<a href="margin-block"><code>margin-block</code></a> shorthand</li> <li><a href="margin-block-end"><code>margin-block-end</code></a></li> <li><a href="margin-block-start"><code>margin-block-start</code></a></li> <li>
<a href="margin-inline"><code>margin-inline</code></a> shorthand</li> <li><a href="margin-inline-end"><code>margin-inline-end</code></a></li> <li><a href="margin-inline-start"><code>margin-inline-start</code></a></li> </ul> </li> </ul> </section><section class="content-section" aria-labelledby="using_anchor-size_inside_calc"> <h3 id="using_anchor-size_inside_calc" class="heading">Using <code>anchor-size()</code> inside <code>calc()</code>
</h3> <p>The most common <code>anchor-size()</code> functions you'll use will just refer to a dimension of the default anchor. Alternative, include the <code>anchor-size()</code> function inside a <a href="calc"><code>calc()</code></a> function to modify the size applied to the positioned element.</p> <p>For example, this rule sizes the positioned element's width equal to the default anchor element's width:</p> <div class="code-example"><pre data-language="css">.positionedElem {
  width: anchor-size(width);
}
</pre></div> <p>This rule sizes the positioned element's inline size to 4 times the anchor element's inline size, with the multiplication being done inside a <a href="calc"><code>calc()</code></a> function:</p> <div class="code-example"><pre data-language="css">.positionedElem {
  inline-size: calc(anchor-size(self-inline) * 4);
}
</pre></div> </section><section class="content-section" aria-labelledby="formal_syntax"> <h2 id="formal_syntax" class="heading">Formal syntax</h2> <pre class="notranslate css-formal-syntax"><span class="token property" id="&lt;anchor-size()&gt;">&lt;anchor-size()&gt; = </span><br>  <span class="token function">anchor-size(</span> <a href="css_values_and_units/value_definition_syntax#brackets">[</a> <span class="token property">&lt;anchor-name&gt;</span> <a href="css_values_and_units/value_definition_syntax#double_bar">||</a> <span class="token property">&lt;anchor-size&gt;</span> <a href="css_values_and_units/value_definition_syntax#brackets">]</a><a href="css_values_and_units/value_definition_syntax#question_mark">?</a> , <span class="token property">&lt;length-percentage&gt;</span><a href="css_values_and_units/value_definition_syntax#question_mark">?</a> <span class="token function">)</span>  <br><br><span class="token property" id="&lt;anchor-name&gt;">&lt;anchor-name&gt; = </span><br>  <a href="dashed-ident"><span class="token property">&lt;dashed-ident&gt;</span></a>  <br><br><span class="token property" id="&lt;anchor-size&gt;">&lt;anchor-size&gt; = </span><br>  <span class="token keyword">width</span>        <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">height</span>       <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">block</span>        <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">inline</span>       <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">self-block</span>   <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">self-inline</span>  <br><br><span class="token property" id="&lt;length-percentage&gt;">&lt;length-percentage&gt; = </span><br>  <a href="length"><span class="token property">&lt;length&gt;</span></a>      <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <a href="percentage"><span class="token property">&lt;percentage&gt;</span></a>  <br></pre> <footer>Sources: <a href="https://drafts.csswg.org/css-anchor-position-1/" target="_blank">CSS Anchor Positioning</a>, <a href="https://drafts.csswg.org/css-values-4/" target="_blank">CSS Values and Units Module Level 4</a></footer> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> &gt; </section><section class="content-section" aria-labelledby="basic_anchor-size_usage"> <h3 id="basic_anchor-size_usage" class="heading">Basic <code>anchor-size()</code> usage</h3> <p>This example shows two elements positioned relative to an anchor and sized using <code>anchor-size()</code> functions.</p> <h4 id="html">HTML</h4> <p>We specify three <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/div"><code>&lt;div&gt;</code></a> elements, one <code>anchor</code> element and the two <code>infobox</code> elements we'll position relative to the anchor. We also include filler text to make the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/body"><code>&lt;body&gt;</code></a> tall enough to require scrolling, but this has been hidden for the sake of brevity.</p>  <div class="code-example"><pre data-language="html">&lt;div class="anchor"&gt;⚓︎&lt;/div&gt;

&lt;div class="infobox" id="infobox1"&gt;
  &lt;p&gt;This is the first infobox.&lt;/p&gt;
&lt;/div&gt;

&lt;div class="infobox" id="infobox2"&gt;
  &lt;p&gt;This is the second infobox.&lt;/p&gt;
&lt;/div&gt;
</pre></div>  <h4 id="css">CSS</h4> <p>We declare the <code>anchor</code> <code>&lt;div&gt;</code> as an anchor element by giving it an <a href="anchor-name"><code>anchor-name</code></a>. The positioned elements, with their <a href="position"><code>position</code></a> properties set to <code>fixed</code>, are associated with the anchor element via their <a href="position-anchor"><code>position-anchor</code></a> properties. We also set absolute <a href="height"><code>height</code></a> and <a href="width"><code>width</code></a> dimensions on the anchor to provide a reference point when checking the positioned element dimensions, for example, with browser developer tools:</p>  <div class="code-example"><pre data-language="css">.anchor {
  anchor-name: --my-anchor;
  width: 100px;
  height: 100px;
}

.infobox {
  position-anchor: --my-anchor;
  position: fixed;
}
</pre></div> <p>We set some distinct property values on the positioned elements:</p> <ul> <li>The positioned elements are tethered to the anchor with different <a href="position-area"><code>position-area</code></a> values that position the elements in different places around the anchor element.</li> <li>The <a href="height"><code>height</code></a> of the first infobox is set to the same height as the anchor element: <code>anchor-size(height)</code> returns the anchor element's height. The element's <a href="width"><code>width</code></a> is set to double the anchor element's width using the <code>anchor-size()</code> function within a <a href="calc"><code>calc()</code></a> function: <code>anchor-size(width)</code> retrieves the anchor element's width, which is then multiplied by two.</li> <li>The <a href="height"><code>height</code></a> of the second infobox is set to two-thirds of the anchor element's height, using a similar technique.</li> <li>Margin values are included to provide some separation from the anchor element.</li> </ul> <div class="code-example"><pre data-language="css">#infobox1 {
  position-area: right;
  height: anchor-size(height);
  width: calc(anchor-size(width) * 2);
  margin-left: 5px;
}

#infobox2 {
  position-area: top span-right;
  height: calc(anchor-size(height) / 1.5);
  margin-bottom: 5px;
}
</pre></div> <h4 id="result">Result</h4> <div class="code-example"><iframe class="sample-code-frame" title="Basic `anchor-size()` usage sample" id="frame_basic_anchor-size_usage" width="100%" height="240" src="about:blank" data-live-path="/en-US/docs/Web/CSS/anchor-size/" data-live-id="basic_anchor-size_usage" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div> <p>Use your browser tools to inspect the anchor-positioned elements. The first infobox will be <code>100px</code> tall and <code>200px</code> wide, while the second infobox will have a height of approximately <code>66.7px</code>, with the <code>width</code> defaulting to <a href="max-content"><code>max-content</code></a>.</p> </section><section class="content-section" aria-labelledby="position_and_margin_example"> <h3 id="position_and_margin_example" class="heading">Position and margin example</h3> <p>See <a href="css_anchor_positioning/using#anchor-size_position_and_margin_example"><code>anchor-size()</code> position and margin example</a>.</p> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.csswg.org/css-anchor-position-1/#anchor-size-fn" rel="noopener" target="_blank">CSS Anchor Positioning&gt;<br># anchor-size-fn&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="browser_compatibility"> <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>anchor-size</code></th>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">27.0</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">26</td>
</tr>
<tr>
<th><code>inset_margin</code></th>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">117</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">87</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-yes">26</td>
</tr>
</tbody>
</table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="anchor-name"><code>anchor-name</code></a></li> <li><a href="position-anchor"><code>position-anchor</code></a></li> <li>
<a href="anchor"><code>anchor()</code></a> function</li> <li>
<a href="css_anchor_positioning/using">Using CSS anchor positioning</a> guide</li> <li>
<a href="css_anchor_positioning">CSS anchor positioning</a> module</li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/anchor-size" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/anchor-size</a>
  </p>
</div>

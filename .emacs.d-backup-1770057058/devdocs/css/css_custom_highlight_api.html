<h1>CSS custom highlight API</h1>  <section class="content-section">  <p>The <strong>CSS custom highlight API</strong> module provides a programmatic way to target specific ranges of text defined by range objects, without affecting the underlying DOM structure. The range objects can then be selected via <code>::highlight()</code> pseudo-elements, and have highlight styles added and removed. The features of this module can create highlight effects similar to how text editors highlight spelling or grammar errors, and code editors highlight syntax errors.</p> <p>The CSS Custom Highlight API extends the concept of other highlight pseudo-elements such as <a href="::selection"><code>::selection</code></a>, <a href="::spelling-error"><code>::spelling-error</code></a>, <a href="::grammar-error"><code>::grammar-error</code></a>, and <a href="::target-text"><code>::target-text</code></a> by providing a way to create arbitrary text ranges (defined as <a href="https://developer.mozilla.org/en-US/docs/Web/API/Range"><code>Range</code></a> objects in JavaScript) and style them via CSS, rather than being limited to browser-defined ranges.</p> </section>    <mdn-survey></mdn-survey> <section class="content-section" aria-labelledby="custom_highlight_api_in_action"> <h2 id="custom_highlight_api_in_action" class="heading">Custom highlight API in action</h2> <p>To enable styling text ranges on a webpage using the CSS Custom Highlight API, you create a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Range"><code>Range</code></a> object, then a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Highlight"><code>Highlight</code></a> object for the range. After registering the highlight using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HighlightRegistry/set"><code>HighlightRegistry.set()</code></a> method, you can then select the range using the <a href="::highlight"><code>::highlight()</code></a> pseudo-element. The name defined in the <code>set()</code> method is used as the parameter of the <code>::highlight()</code> pseudo-element selector to select that range.The range selected by the <code>::highlight()</code> pseudo-element can be styled using a <a href="::highlight#allowable_properties">limited number of properties</a>.</p>  <p>This example uses the <a href="text-decoration"><code>text-decoration</code></a> property to strike through the <code>steps</code> highlight range defined by our JavaScript:</p> <div class="code-example"><pre data-language="css">::highlight(steps) {
  text-decoration: line-through;
  color: blue;
}
</pre></div> <p>We create a <code>Range</code> with a start and end node (which is the same node in this case). We then set this range as the <code>Highlight</code> using the <code>set()</code> method of the CSS <code>HighlightRegistry</code> interface.</p> <div class="code-example"><pre data-language="js">const rangeToHighlight = new Range();
const list = document.querySelector("ol");
rangeToHighlight.setStart(list, 0);
rangeToHighlight.setEnd(list, 0);

CSS.highlights.set("steps", new Highlight(rangeToHighlight));
</pre></div> <p>An event listener updates the end of the highlighted range when the number of completed steps changes:</p> <div class="code-example"><pre data-language="js">const currentPositionSlider = document.querySelector("input");
currentPositionSlider.addEventListener("change", (e) =&gt; {
  rangeToHighlight.setEnd(list, e.target.value);
});
</pre></div> <div class="code-example"><iframe class="sample-code-frame" title="Custom highlight API in action sample" id="frame_custom_highlight_api_in_action" width="700" height="300" src="about:blank" data-live-path="/en-US/docs/Web/CSS/CSS_custom_highlight_API/" data-live-id="custom_highlight_api_in_action" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div> </section><section class="content-section" aria-labelledby="reference"> <h2 id="reference" class="heading">Reference</h2> &gt; </section><section class="content-section" aria-labelledby="pseudo-elements"> <h3 id="pseudo-elements" class="heading">Pseudo-elements</h3> <ul> <li><a href="::highlight"><code>::highlight()</code></a></li> </ul> </section><section class="content-section" aria-labelledby="interfaces"> <h3 id="interfaces" class="heading">Interfaces</h3> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Highlight"><code>Highlight</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HighlightRegistry"><code>HighlightRegistry</code></a></li> </ul> </section><section class="content-section" aria-labelledby="interface_extensions"> <h3 id="interface_extensions" class="heading">Interface extensions</h3> <p>This module adds properties and methods to interfaces defined in other specifications.</p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS"><code>CSS</code></a> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS/highlights_static"><code>CSS.highlights</code></a></li> </ul> </li> </ul> </section><section class="content-section" aria-labelledby="guides"> <h2 id="guides" class="heading">Guides</h2> <dl> <dt id="css_custom_highlight_api"><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Custom_Highlight_API#concepts_and_usage">CSS custom highlight API</a></dt> <dd> <p>The concepts and usage of the CSS custom highlight API, including creating <code>Range</code> and <code>Highlight</code> objects, registering the highlights using the <code>HighlightRegistry</code>, and styling the highlights using the <code>::highlight()</code> pseudo-element.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="related_concepts"> <h2 id="related_concepts" class="heading">Related concepts</h2> <ul> <li><a href="::grammar-error"><code>::grammar-error</code></a></li> <li><a href="::selection"><code>::selection</code></a></li> <li><a href="::spelling-error"><code>::spelling-error</code></a></li> <li><a href="::target-text"><code>::target-text</code></a></li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Range"><code>Range</code></a> Interface and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Range/Range"><code>Range()</code></a> constructor</li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/URI/Reference/Fragment/Text_fragments">Text fragments</a></li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/FragmentDirective"><code>FragmentDirective</code></a> Interface</li> </ul> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.csswg.org/css-highlight-api-1/" rel="noopener" target="_blank">CSS Custom Highlight API Module Level 1&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="css_pseudo-elements">CSS pseudo-element module</a></li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model">CSS Object Model (CSSOM)</a> APIs</li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_custom_highlight_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_custom_highlight_API</a>
  </p>
</div>

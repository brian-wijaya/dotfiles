<h1>mask-mode</h1> <details class="baseline-indicator low" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title">  Baseline <span class="not-bold"> 2023 </span>   </div> <div class="pill">Newly available</div>   </summary> <div class="extra"> <p> Since ⁨December 2023⁩, this feature works across the latest devices and browser versions. This feature might not work in older devices or browsers. </p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FCSS%2Fmask-mode&amp;level=low" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details> <section class="content-section">  <p>The <code>mask-mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> property is set on the element being masked. It sets whether the mask reference defined by the <a href="mask-image"><code>mask-image</code></a> is treated as a luminance or alpha mask.</p> </section>    <mdn-survey></mdn-survey> <section class="content-section" aria-labelledby="syntax"> <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="css">/* Keyword values */
mask-mode: alpha;
mask-mode: luminance;
mask-mode: match-source;

/* Multiple values */
mask-mode: alpha, match-source;

/* Global values */
mask-mode: inherit;
mask-mode: initial;
mask-mode: revert;
mask-mode: revert-layer;
mask-mode: unset;
</pre></div> </section><section class="content-section" aria-labelledby="values"> <h3 id="values" class="heading">Values</h3> <p>The <code>mask-mode</code> property can take multiple comma-separated <code>&lt;masking-mode&gt;</code> keyword values, including:</p> <dl> <dt id="alpha"><a href="#alpha"><code>alpha</code></a></dt> <dd> <p>Indicates that the alpha (transparency) values of the mask image should be used.</p> </dd> <dt id="luminance"><a href="#luminance"><code>luminance</code></a></dt> <dd> <p>Indicates that the <a href="#understanding_luminance">luminance (brightness)</a> values of the mask image should be used.</p> </dd> <dt id="match-source"><a href="#match-source"><code>match-source</code></a></dt> <dd> <p>Indicates that the type of mask is determined by the source. This is the default property value.</p> <ul> <li>If the <a href="mask-image"><code>mask-image</code></a> references an SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element/mask"><code>&lt;mask&gt;</code></a>, its <a href="mask-type"><code>mask-type</code></a> property value is used, or it's <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Attribute/mask-type"><code>mask-type</code></a> attribute, if present. If neither is explicitly set, this value defaults to <code>luminance</code>.</li> <li>If the mask image source is an <a href="image"><code>&lt;image&gt;</code></a> or a <a href="gradient"><code>&lt;gradient&gt;</code></a>, the <code>alpha</code> values of the mask image are used.</li> </ul> </dd> </dl> </section><section class="content-section" aria-labelledby="description"> <h2 id="description" class="heading">Description</h2> <p>A mask transfers its transparency, and depending on the mask type, it's luminance, to the element it is masking. If the mask is of type <a href="image"><code>&lt;image&gt;</code></a>, by default the alpha values of the mask image determine the visibility of each part of the masked element: where the mask is opaque, the corresponding part of the masked element is visible; where the mask is translucent, the element is as well, with those areas of the element being hidden. This is the default behavior for <code>&lt;image&gt;</code> masks when the <code>mask-mode</code> property is set to or defaults to <code>match-source</code>, and it is always the case when the <code>mask-mode</code> is explicitly set to <code>alpha</code>.</p> </section><section class="content-section" aria-labelledby="understanding_luminance"> <h3 id="understanding_luminance" class="heading">Understanding luminance</h3> <p>In the case of <code>luminance</code> masks, the visibility of the masked element depends on both the opacity of the mask and the lightness of the color of the opaque areas. White (100% luminance) opaque areas (alpha = 1) will be masked and visible, and black areas (0% luminance) transparent (alpha = 0) will be clipped. Areas with colors in between white and black and with partial opacity will be partially masked, reflecting the luminance and alpha transparency of each color making up the mask.</p> <p>The opacity of a <code>luminance</code> mask is determined by the <code>R</code>, <code>G</code>, <code>B</code>, and <code>A</code> values of an <code>rgb()</code> color using the formula:</p> <p><code>((0.2125 * R) + (0.7154 * G) + (0.0721 * B)) * A</code></p> <p>For example, the color <code>green</code> is <code>#008000</code> or <code>rgb(0% 50% 0% / 1)</code>. In a <code>luminance</code> mask, any area masked by a solid <code>green</code> mask will be <code>35.77%</code> opaque. If the <code>mask-mode</code> for this mask is set to <code>alpha</code>, since <code>green</code> is a fully opaque color, the masked area will be <code>100%</code> opaque.</p> </section><section class="content-section" aria-labelledby="multiple_values"> <h3 id="multiple_values" class="heading">Multiple values</h3> <p>Each <code>mask-mode</code> value is a comma-separated list of values. When multiple values are present, each value corresponds to a mask layer in the same position in the <a href="mask-image"><code>mask-image</code></a> property. The values define whether the associated mask images are treated as a <code>luminance</code> or an <code>alpha</code> mask.</p> </section><section class="content-section" aria-labelledby="understanding_match-source"> <h3 id="understanding_match-source" class="heading">Understanding <code>match-source</code>
</h3> <p>In the case of <code>match-source</code>, whether <code>luminance</code> or <code>alpha</code> is used depends on the mask mode of the mask source. If the <code>mask-image</code> property values is a reference to an SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element/mask"><code>&lt;mask&gt;</code></a> element, the <code>&lt;mask&gt;</code> element's <a href="mask-type"><code>mask-type</code></a> property value is used. If there is no CSS <code>mask-type</code> property set on the <code>&lt;mask&gt;</code> element, the value of the <code>&lt;mask&gt;</code> element's <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Attribute/mask-type"><code>mask-type</code></a> attribute is used, if present and supported. If neither is explicitly set, this value defaults to <code>luminance</code>; but only in the case of the <code>&lt;mask&gt;</code> element as the mask source. Otherwise, as noted before, if the mask image source is an <a href="image"><code>&lt;image&gt;</code></a>, rather than an SVG <code>&lt;mask&gt;</code>, the <code>alpha</code> values of the mask layer image is used.</p> </section><section class="content-section" aria-labelledby="formal_definition"> <h2 id="formal_definition" class="heading">Formal definition</h2> <figure class="table-container"><div class="_table"><table class="properties"><tbody>
<tr>
<th scope="row"><a href="css_cascade/value_processing#initial_value">Initial value</a></th>
<td><code>match-source</code></td>
</tr>
<tr>
<th scope="row">Applies to</th>
<td>all elements; In SVG, it applies to container elements excluding the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element/defs"><code>&lt;defs&gt;</code></a> element and all graphics elements</td>
</tr>
<tr>
<th scope="row"><a href="css_cascade/inheritance">Inherited</a></th>
<td>no</td>
</tr>
<tr>
<th scope="row"><a href="css_cascade/value_processing#computed_value">Computed value</a></th>
<td>as specified</td>
</tr>
<tr>
<th scope="row"><a href="css_animated_properties">Animation type</a></th>
<td>discrete</td>
</tr>
</tbody></table></div></figure> </section><section class="content-section" aria-labelledby="formal_syntax"> <h2 id="formal_syntax" class="heading">Formal syntax</h2> <pre class="notranslate css-formal-syntax"><span class="token property" id="mask-mode">mask-mode = </span><br>  <span class="token property">&lt;masking-mode&gt;</span><a href="css_values_and_units/value_definition_syntax#hash_mark">#</a>  <br><br><span class="token property" id="&lt;masking-mode&gt;">&lt;masking-mode&gt; = </span><br>  <span class="token keyword">alpha</span>         <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">luminance</span>     <a href="css_values_and_units/value_definition_syntax#single_bar">|</a><br>  <span class="token keyword">match-source</span>  <br></pre> <footer>Sources: <a href="https://drafts.fxtf.org/css-masking-1/" target="_blank">CSS Masking Module Level 1</a></footer> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> &gt; </section><section class="content-section" aria-labelledby="usage_and_values"> <h3 id="usage_and_values" class="heading">Usage and values</h3> <p>This example demonstrates the basic usage and different values of the <code>mask-mode</code> property.</p> <h4 id="html">HTML</h4> <p>We include three <code>&lt;div&gt;</code> elements, so we can demonstrate the three enumerated <code>mask-mode</code> keyword values.</p> <div class="code-example"><pre data-language="html">&lt;div class="alpha"&gt;ALPHA&lt;/div&gt;
&lt;div class="luminance"&gt;LUMINANCE&lt;/div&gt;
&lt;div class="matchSource"&gt;MATCH-SOURCE&lt;/div&gt;
</pre></div> <h4 id="css">CSS</h4> <p>Each <code>&lt;div&gt;</code> is provided with the same background and masking image. The only difference between each <code>&lt;div&gt;</code> is the value of the <code>mask-mode</code> property:</p> <div class="code-example"><pre data-language="css">div {
  background: blue linear-gradient(red, blue);
  mask-image: url("https://mdn.github.io/shared-assets/images/examples/mdn.svg");
}

.alpha {
  mask-mode: alpha;
}

.luminance {
  mask-mode: luminance;
}

.matchSource {
  mask-mode: match-source;
}
</pre></div>  <h4 id="results">Results</h4> <div class="code-example"><iframe class="sample-code-frame" title="Usage and values sample" id="frame_usage_and_values" height="250px" src="about:blank" data-live-path="/en-US/docs/Web/CSS/mask-mode/" data-live-id="usage_and_values" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div> <p>Because the mask source is an <code>&lt;image&gt;</code> and not an SVG <code>&lt;mask&gt;</code>, the <code>match-source</code> value resolves to <code>alpha</code>.</p> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.fxtf.org/css-masking/#the-mask-mode" rel="noopener" target="_blank">CSS Masking Module Level 1&gt;<br># the-mask-mode&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="browser_compatibility"> <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>mask-mode</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
<tr>
<th><code>alpha</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
<tr>
<th><code>luminance</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
<tr>
<th><code>match-source</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">15.4</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">15.4</td>
</tr>
</tbody>
</table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="mask-type"><code>mask-type</code></a></li> <li><a href="mask-image"><code>mask-image</code></a></li> <li>
<a href="mask"><code>mask</code></a> shorthand</li> <li><a href="css_masking/masking">Introduction to CSS masking</a></li> <li><a href="css_masking/mask_properties">CSS <code>mask</code> properties</a></li> <li><a href="css_masking/multiple_masks">Declaring multiple masks</a></li> <li>
<a href="css_masking">CSS masking</a> module</li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask-mode" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/mask-mode</a>
  </p>
</div>

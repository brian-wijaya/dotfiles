<section id="ansible-builtin-mount-facts-module-retrieve-mount-information"> <h1>ansible.builtin.mount_facts module – Retrieve mount information.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of <code>ansible-core</code> and included in all Ansible installations. In most cases, you can use the short module name <code>mount_facts</code> even without specifying the <a class="reference internal" href="../../../collections_guide/collections_using_playbooks#collections-keyword"><span class="std std-ref">collections keyword</span></a>. However, we recommend you use the <a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/glossary.html#term-Fully-Qualified-Collection-Name-FQCN"><span class="xref std std-term">Fully Qualified Collection Name (FQCN)</span></a> <code>ansible.builtin.mount_facts</code> for easy linking to the module documentation and to avoid conflicting with other collections that may have the same module name.</p> </div> <p class="ansible-version-added">New in ansible-core 2.18</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#attributes" id="id3">Attributes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Retrieve information about mounts from preferred sources and filter the results based on the filesystem type and device.</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-devices"><strong>devices</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of fnmatch patterns to filter mounts by the special device or remote file system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-fstypes"><strong>fstypes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of fnmatch patterns to filter mounts by the type of the file system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-include-aggregate-mounts"><strong>include_aggregate_mounts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether or not the module should return the <code>aggregate_mounts</code> list in <code>ansible_facts</code>.</p> <p>When this is <code>null</code>, a warning will be emitted if multiple mounts for the same mount point are found.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-mount-binary"><strong>mount_binary</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-mount-binary"><span class="std std-ref">mount_binary</span></a></strong></code> is used if <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-sources"><span class="std std-ref">sources</span></a></strong></code> contain the value “mount”, or if <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-sources"><span class="std std-ref">sources</span></a></strong></code> contains a dynamic source, and none were found (as can be expected on BSD or AIX hosts).</p> <p>Set to <code>null</code> to stop after no dynamic file source is found instead.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"mount"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-on-timeout"><strong>on_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The action to take when gathering mount information exceeds <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-timeout"><span class="std std-ref">timeout</span></a></strong></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"error"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"warn"</code></li> <li><code>"ignore"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-sources"><strong>sources</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of sources used to determine the mounts. Missing file sources (or empty files) are skipped. Repeat sources, including symlinks, are skipped.</p> <p>The <code>mount_points</code> return value contains the first definition found for a mount point.</p> <p>Additional mounts to the same mount point are available from <code>aggregate_mounts</code> (if enabled).</p> <p>By default, mounts are retrieved from all of the standard locations, which have the predefined aliases <code>all</code>/<code>static</code>/<code>dynamic</code>.</p> <p><code>all</code> contains <code>dynamic</code> and <code>static</code>.</p> <p><code>dynamic</code> contains <code>/etc/mtab</code>, <code>/proc/mounts</code>, <code>/etc/mnttab</code>, and the value of <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-mount-binary"><span class="std std-ref">mount_binary</span></a></strong></code> if it is not None. This allows platforms like BSD or AIX, which don’t have an equivalent to <code>/proc/mounts</code>, to collect the current mounts by default. See the <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-mount-binary"><span class="std std-ref">mount_binary</span></a></strong></code> option to disable the fall back or configure a different executable.</p> <p><code>static</code> contains <code>/etc/fstab</code>, <code>/etc/vfstab</code>, and <code>/etc/filesystems</code>. Note that <code>/etc/filesystems</code> is specific to AIX. The Linux file by this name has a different format/purpose and is ignored.</p> <p>The value of <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-mount-binary"><span class="std std-ref">mount_binary</span></a></strong></code> can be configured as a source, which will cause it to always execute. Depending on the other sources configured, this could be inefficient/redundant. For example, if <code>/proc/mounts</code> and <code>mount</code> are listed as <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-sources"><span class="std std-ref">sources</span></a></strong></code>, Linux hosts will retrieve the same mounts twice.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-parameter-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">float</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This is the maximum number of seconds to wait for each mount to complete. When this is <code>null</code>, wait indefinitely.</p> <p>Configure in conjunction with <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-on-timeout"><span class="std std-ref">on_timeout</span></a></strong></code> to skip unresponsive mounts.</p> <p>This timeout also applies to the <code><strong><a class="reference internal" href="#ansible-collections-ansible-builtin-mount-facts-module-parameter-mount-binary"><span class="std std-ref">mount_binary</span></a></strong></code> command to list mounts.</p> <p>If the module is configured to run during the play’s fact gathering stage, set a timeout using module_defaults to prevent a hang (see example).</p> </div></td> </tr>  </table> </section> <section id="attributes"> <h2>Attributes</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Attribute</p></th> <th class="head"><p>Support</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-attribute-check-mode"><strong>check_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Can run in check_mode and return changed status prediction without modifying target, if not supported the action will be skipped.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-attribute-diff-mode"><strong>diff_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-none">none</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Will return details on what has changed (or possibly needs changing in check_mode), when in diff mode</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-builtin-mount-facts-module-attribute-platform"><strong>platform</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-property">Platform:</strong> <strong class="ansible-attribute-support-full">posix</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Target OS/families that can be operated against</p> </div></td> </tr>  </table> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Get non-local devices
  mount_facts:
    devices: "[!/]*"

- name: Get FUSE subtype mounts
  mount_facts:
    fstypes:
      - "fuse.*"

- name: Get NFS mounts during gather_facts with timeout
  hosts: all
  gather_facts: true
  vars:
    ansible_facts_modules:
      - ansible.builtin.mount_facts
  module_default:
    ansible.builtin.mount_facts:
      timeout: 10
      fstypes:
        - nfs
        - nfs4

- name: Get mounts from a non-default location
  mount_facts:
    sources:
      - /usr/etc/fstab

- name: Get mounts from the mount binary
  mount_facts:
    sources:
      - mount
    mount_binary: /sbin/mount
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ansible Core Team</li> <li>Sloane Hertel (@s-hertel)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible/ansible/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible/ansible" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a class="reference internal" href="index#communication-for-ansible-builtin"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2025 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/mount_facts_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/ansible/builtin/mount_facts_module.html</a>
  </p>
</div>

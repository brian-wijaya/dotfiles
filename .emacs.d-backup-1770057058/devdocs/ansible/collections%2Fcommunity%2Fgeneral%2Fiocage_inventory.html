<section id="community-general-iocage-inventory-iocage-inventory-source"> <h1>community.general.iocage inventory – iocage inventory source</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This inventory plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/general/">community.general collection</a> (version 10.7.3).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>. You need further requirements to be able to use this inventory plugin, see <a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.general.iocage</code>.</p> </div> <p class="ansible-version-added">New in community.general 10.2.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Get inventory hosts from the iocage jail manager running on <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code>.</li> <li>By default, <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code> is <code>localhost</code>. If <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code> is not <code>localhost</code> it is expected that the user running Ansible on the controller can connect to the <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code> account <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-user"><span class="std std-ref">user</span></a></strong></code> with SSH non-interactively and execute the command <code>iocage list</code>.</li> <li>Uses a configuration file as an inventory source, it must end in <code>.iocage.yml</code> or <code>.iocage.yaml</code>.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-general-iocage-inventory-requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this inventory.</p> <ul class="simple"> <li>iocage &gt;= 1.8</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-cache"><strong>cache</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Toggle to enable/disable the caching of the inventory’s source data, requires a cache plugin setup to work.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>INI entry:</p> <pre data-language="ini">[inventory]
cache = false
</pre> </li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_INVENTORY_CACHE" id="index-0"><code>ANSIBLE_INVENTORY_CACHE</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-cache-connection"><strong>cache_connection</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Cache connection data or path, read cache plugin documentation for specifics.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>INI entries:</p> <pre data-language="ini">[defaults]
fact_caching_connection = VALUE
</pre> <pre data-language="ini">[inventory]
cache_connection = VALUE
</pre> </li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_CACHE_PLUGIN_CONNECTION" id="index-1"><code>ANSIBLE_CACHE_PLUGIN_CONNECTION</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_INVENTORY_CACHE_CONNECTION" id="index-2"><code>ANSIBLE_INVENTORY_CACHE_CONNECTION</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-cache-plugin"><strong>cache_plugin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Cache plugin to use for the inventory’s source data.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"memory"</code></p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>INI entries:</p> <pre data-language="ini">[defaults]
fact_caching = memory
</pre> <pre data-language="ini">[inventory]
cache_plugin = memory
</pre> </li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_CACHE_PLUGIN" id="index-3"><code>ANSIBLE_CACHE_PLUGIN</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_INVENTORY_CACHE_PLUGIN" id="index-4"><code>ANSIBLE_INVENTORY_CACHE_PLUGIN</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-cache-prefix"><strong>cache_prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Prefix to use for cache plugin files/tables.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"ansible_inventory_"</code></p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>INI entries:</p> <pre data-language="ini">[defaults]
fact_caching_prefix = ansible_inventory_
</pre> <pre data-language="ini">[inventory]
cache_prefix = ansible_inventory_
</pre> </li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_CACHE_PLUGIN_PREFIX" id="index-5"><code>ANSIBLE_CACHE_PLUGIN_PREFIX</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_INVENTORY_CACHE_PLUGIN_PREFIX" id="index-6"><code>ANSIBLE_INVENTORY_CACHE_PLUGIN_PREFIX</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-cache-timeout"><strong>cache_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Cache duration in seconds.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>3600</code></p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>INI entries:</p> <pre data-language="ini">[defaults]
fact_caching_timeout = 3600
</pre> <pre data-language="ini">[inventory]
cache_timeout = 3600
</pre> </li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_CACHE_PLUGIN_TIMEOUT" id="index-7"><code>ANSIBLE_CACHE_PLUGIN_TIMEOUT</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../../reference_appendices/config#envvar-ANSIBLE_INVENTORY_CACHE_TIMEOUT" id="index-8"><code>ANSIBLE_INVENTORY_CACHE_TIMEOUT</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-compose"><strong>compose</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Create vars from jinja2 expressions.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-env"><strong>env</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p><code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-user"><span class="std std-ref">user</span></a></strong></code>‘s environment on <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code>.</p> <p>Enable <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-sudo-preserve-env"><span class="std std-ref">sudo_preserve_env</span></a></strong></code> if <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-sudo"><span class="std std-ref">sudo</span></a></strong></code> is enabled.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-get-properties"><strong>get_properties</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Get jails’ properties. Creates dictionary <code>iocage_properties</code> for each added host.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-groups"><strong>groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Add hosts to group based on Jinja2 conditionals.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-hooks-results"><strong>hooks_results</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> <p><em class="ansible-option-versionadded">added in community.general 10.4.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>List of paths to the files in a jail.</p> <p>Content of the files is stored in the items of the list <code>iocage_hooks</code>.</p> <p>If a file is not available the item keeps the dash character <code>-</code>.</p> <p>The variable <code>iocage_hooks</code> is not created if <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-hooks-results"><span class="std std-ref">hooks_results</span></a></strong></code> is empty.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-host"><strong>host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The IP/hostname of the <code>iocage</code> host.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"localhost"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups"><strong>keyed_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Add hosts to group based on the values of a variable.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-default-value"><strong>default_value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in ansible-core 2.12</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The default value when the host variable’s value is an empty string.</p> <p>This option is mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-trailing-separator"><span class="std std-ref">keyed_groups[].trailing_separator</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-key"><strong>key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The key from input dictionary used to generate groups.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-parent-group"><strong>parent_group</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>parent group for keyed group.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-prefix"><strong>prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A keyed group name will start with this prefix.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-separator"><strong>separator</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>separator used to build the keyed group name.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"_"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-trailing-separator"><strong>trailing_separator</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in ansible-core 2.12</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Set this option to <code>false</code> to omit the <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-separator"><span class="std std-ref">keyed_groups[].separator</span></a></strong></code> after the host variable when the value is an empty string.</p> <p>This option is mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-keyed-groups-default-value"><span class="std std-ref">keyed_groups[].default_value</span></a></strong></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-leading-separator"><strong>leading_separator</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in ansible-core 2.11</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Use in conjunction with <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-keyed-groups"><span class="std std-ref">keyed_groups</span></a></strong></code>.</p> <p>By default, a keyed group that does not have a prefix or a separator provided will have a name that starts with an underscore.</p> <p>This is because the default prefix is <code>""</code> and the default separator is <code>"_"</code>.</p> <p>Set this option to <code>false</code> to omit the leading underscore (or other separator) if no prefix is given.</p> <p>If the group name is derived from a mapping the separator is still used to concatenate the items.</p> <p>To not use a separator in the group name at all, set the separator for the keyed group to an empty string instead.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-plugin"><strong>plugin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of this plugin, it should always be set to <code>community.general.iocage</code> for this plugin to recognize it as its own.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"community.general.iocage"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-strict"><strong>strict</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <code>yes</code> make invalid entries a fatal error, otherwise skip and continue.</p> <p>Since it is possible to use facts in the expressions they might not always be available and we ignore those errors by default.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-sudo"><strong>sudo</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.general 10.3.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Enable execution as root.</p> <p>This requires passwordless sudo of the command <code>iocage list*</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-sudo-preserve-env"><strong>sudo_preserve_env</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.general 10.3.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Preserve environment if <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-sudo"><span class="std std-ref">sudo</span></a></strong></code> is enabled.</p> <p>This requires <code>SETENV</code> sudoers tag.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-use-extra-vars"><strong>use_extra_vars</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in ansible-core 2.11</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Merge extra vars into the available variables for composition (highest precedence).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>INI entry:</p> <pre data-language="ini">[inventory_plugins]
use_extra_vars = false
</pre> </li> <li>Environment variable: <a class="reference internal" href="../../environment_variables#envvar-ANSIBLE_INVENTORY_USE_EXTRA_VARS" id="index-9"><code>ANSIBLE_INVENTORY_USE_EXTRA_VARS</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-general-iocage-inventory-parameter-user"><strong>user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p><code>iocage</code> user. It is expected that the <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-user"><span class="std std-ref">user</span></a></strong></code> is able to connect to the <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code> with SSH and execute the command <code>iocage list</code>. This option is not required if <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code> is <code>localhost</code>.</p> </div></td> </tr>  </table> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Configuration entries listed above for each entry type (Ansible variable, environment variable, and so on) have a low to high priority order. For example, a variable that is lower in the list will override a variable that is higher up. The entry types are also ordered by precedence from low to high priority order. For example, an ansible.cfg entry (further up in the list) is overwritten by an Ansible variable (further down in the list).</p> </div> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>You might want to test the command <code>ssh user@host iocage list -l</code> on the controller before using this inventory plugin with <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-user"><span class="std std-ref">user</span></a></strong></code> specified and with <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-host"><span class="std std-ref">host</span></a></strong></code> other than <code>localhost</code>.</li> <li>If you run this inventory plugin on <code>localhost</code> <code>ssh</code> is not used. In this case, test the command <code>iocage list -l</code>.</li> <li>This inventory plugin creates variables <code>iocage_*</code> for each added host.</li> <li>The values of these variables are collected from the output of the command <code>iocage list -l</code>.</li> <li>The names of these variables correspond to the output columns.</li> <li>The column <code>NAME</code> is used to name the added host.</li> <li>The option <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-hooks-results"><span class="std std-ref">hooks_results</span></a></strong></code> expects the <code>poolname</code> of a jail is mounted to <code>/poolname</code>. For example, if you activate the pool <code>iocage</code> this plugin expects to find the <code><strong><a class="reference internal" href="#ansible-collections-community-general-iocage-inventory-parameter-hooks-results"><span class="std std-ref">hooks_results</span></a></strong></code> items in the path <code>/iocage/iocage/jails/&lt;name&gt;/root</code>. If you mount the <code>poolname</code> to a different path the easiest remedy is to create a symlink.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">---
# file name must end with iocage.yaml or iocage.yml
plugin: community.general.iocage
host: 10.1.0.73
user: admin

---
# user is not required if iocage is running on localhost (default)
plugin: community.general.iocage

---
# run cryptography without legacy algorithms
plugin: community.general.iocage
host: 10.1.0.73
user: admin
env:
  CRYPTOGRAPHY_OPENSSL_NO_LEGACY: 1

---
# execute as root
# sudoers example 'admin ALL=(ALL) NOPASSWD:SETENV: /usr/local/bin/iocage list*'
plugin: community.general.iocage
host: 10.1.0.73
user: admin
sudo: true
sudo_preserve_env: true
env:
  CRYPTOGRAPHY_OPENSSL_NO_LEGACY: 1

---
# enable cache
plugin: community.general.iocage
host: 10.1.0.73
user: admin
env:
  CRYPTOGRAPHY_OPENSSL_NO_LEGACY: 1
cache: true

---
# see inventory plugin ansible.builtin.constructed
plugin: community.general.iocage
host: 10.1.0.73
user: admin
env:
  CRYPTOGRAPHY_OPENSSL_NO_LEGACY: 1
cache: true
strict: false
compose:
  ansible_host: iocage_ip4
  release: iocage_release | split('-') | first
groups:
  test: inventory_hostname.startswith('test')
keyed_groups:
  - prefix: distro
    key: iocage_release
  - prefix: state
    key: iocage_state

---
# Read the file /var/db/dhclient-hook.address.epair0b in the jails and use it as ansible_host
plugin: community.general.iocage
host: 10.1.0.73
user: admin
hooks_results:
  - /var/db/dhclient-hook.address.epair0b
compose:
  ansible_host: iocage_hooks.0
groups:
  test: inventory_hostname.startswith('test')
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Vladimir Botka (@vbotka)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.general/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.general" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://forum.ansible.com/c/help/6/none" rel="noopener external" target="_blank">Ask for help</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.general/issues/new?assignees=&amp;labels=&amp;template=bug_report.yml" rel="noopener external" target="_blank">Submit a bug report</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.general/issues/new?assignees=&amp;labels=&amp;template=feature_request.yml" rel="noopener external" target="_blank">Request a feature</a></span></li> <li><span><a class="reference internal" href="index#communication-for-community-general"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2025 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/iocage_inventory.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/iocage_inventory.html</a>
  </p>
</div>

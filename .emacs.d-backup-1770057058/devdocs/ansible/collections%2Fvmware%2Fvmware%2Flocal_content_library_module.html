<section id="vmware-vmware-local-content-library-module-manage-a-local-content-library"> <h1>vmware.vmware.local_content_library module – Manage a local content library.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/vmware/vmware/">vmware.vmware collection</a> (version 1.11.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install vmware.vmware</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>vmware.vmware.local_content_library</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Create, update, or destroy a local content library.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-vmware-vmware-local-content-library-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>vSphere Automation SDK</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-current-password"><strong>authentication_current_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The current password for the library when the library is using BASIC authentication.</p> <p>If not supplied, the value of <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-password"><span class="std std-ref">authentication_password</span></a></strong></code> is used.</p> <p>You must supply a password when the library is already configured with BASIC auth and <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-state"><span class="std std-ref">state</span></a></strong></code> is <code>present</code>.</p> <p>If you want to update the password, set this to the old password and <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-password"><span class="std std-ref">authentication_password</span></a></strong></code> to the new password.</p> <p>If BASIC auth is not enabled, this option is ignored.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-method"><strong>authentication_method</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The method of authentication to use if this is published local library.</p> <p>The only options are NONE for no authentication or BASIC for username and password authentication.</p> <p>The username for BASIC authentication cannot be changed and is vcsp.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"BASIC"</code></li> <li>
<code><strong>"NONE"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-password"><strong>authentication_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password to use when <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-method"><span class="std std-ref">authentication_method</span></a></strong></code> is <code>BASIC</code>.</p> <p>If authentication is already enabled on the library, you must supply the password to update the library.</p> <p>If <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-current-password"><span class="std std-ref">authentication_current_password</span></a></strong></code> is supplied, <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-authentication-password"><span class="std std-ref">authentication_password</span></a></strong></code> should be the new password you want to use for this library.</p> <p>If BASIC auth is not enabled, this option is ignored.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-datastore-name"><strong id="ansible-collections-vmware-vmware-local-content-library-module-parameter-datastore">datastore</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: datastore_name</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the datastore that should be a storage backing for the library.</p> <p>This parameter is required when <code><strong><a class="reference internal" href="#ansible-collections-vmware-vmware-local-content-library-module-parameter-state"><span class="std std-ref">state</span></a></strong></code> is <code>present</code></p> <p>This parameter only takes effect when the library is first created. You cannot change the storage backing for an existing library, and the module will not check this value in that case.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-library-description"><strong id="ansible-collections-vmware-vmware-local-content-library-module-parameter-description">description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: library_description</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The description for the content library.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-hostname"><strong>hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The hostname or IP address of the vSphere vCenter server.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_HOST"><code>VMWARE_HOST</code></a> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-name"><strong id="ansible-collections-vmware-vmware-local-content-library-module-parameter-library-name">name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: library_name</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the local content library to manage.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-pwd"><strong id="ansible-collections-vmware-vmware-local-content-library-module-parameter-pass">password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: pass, pwd</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password of the vSphere vCenter server.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_PASSWORD"><code>VMWARE_PASSWORD</code></a> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-persist-json-enabled"><strong>persist_json_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If true, a JSON file describing the library metadata will be kept in the library.</p> <p>This file allows you to sync a remote library by copying the library contents instead of relying on HTTP.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The port number of the vSphere vCenter server.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_PORT"><code>VMWARE_PORT</code></a> will be used instead.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>443</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-proxy-host"><strong>proxy_host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The address of a proxy that will receive all HTTPS requests and relay them.</p> <p>The format is a hostname or a IP.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_PROXY_HOST"><code>VMWARE_PROXY_HOST</code></a> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-proxy-port"><strong>proxy_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The port of the HTTP proxy that will receive all HTTPS requests and relay them.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_PROXY_PORT"><code>VMWARE_PROXY_PORT</code></a> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-proxy-protocol"><strong id="ansible-collections-vmware-vmware-local-content-library-module-parameter-protocol">proxy_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: protocol</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The proxy connection protocol to use.</p> <p>This option is used if the correct proxy protocol cannot be automatically determined.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"http"</code></li> <li>
<code><strong>"https"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-publish"><strong>publish</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If true, this library will be published so other libraries can subscribe to it.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether the content library should be present or absent.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-username"><strong id="ansible-collections-vmware-vmware-local-content-library-module-parameter-admin">username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: admin, user</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The username of the vSphere vCenter server.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_USER"><code>VMWARE_USER</code></a> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Allows connection when SSL certificates are not valid. Set to <code>false</code> when certificates are not trusted.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="../../environment_variables#envvar-VMWARE_VALIDATE_CERTS"><code>VMWARE_VALIDATE_CERTS</code></a> will be used instead.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>All modules require API write access and hence are not supported on a free ESXi license.</li> <li>All variables and VMware object names are case sensitive.</li> <li>Modules may rely on the ‘requests’ python library, which does not use the system certificate store by default. You can specify the certificate store by setting the REQUESTS_CA_BUNDLE environment variable. Example: ‘export REQUESTS_CA_BUNDLE=/path/to/your/ca_bundle.pem’</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Create Local Content Library
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    datastore_name: "{{ shared_storage }}"
    name: my-library
    state: present


- name: Publish Library Without Authentication
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    datastore_name: "{{ shared_storage }}"
    name: my-library
    publish: true
    persist_json_enabled: true
    state: present

- name: Publish Library With Authentication
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    datastore_name: "{{ shared_storage }}"
    name: my-library
    authentication_method: BASIC
    authentication_password: Mypassword!
    publish: true
    persist_json_enabled: true
    state: present

- name: Update Library Password
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    datastore_name: "{{ shared_storage }}"
    name: my-library
    authentication_method: BASIC
    authentication_password: MyNewPassword1234!
    authentication_current_password: Mypassword!
    publish: true
    persist_json_enabled: true
    state: present

- name: Remove Library Password
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    datastore_name: "{{ shared_storage }}"
    name: my-library
    authentication_password: MyNewPassword1234!
    publish: true
    persist_json_enabled: true
    state: present

- name: Unpublish Library Password
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    datastore_name: "{{ shared_storage }}"
    name: my-library
    publish: false
    state: present


- name: Destroy Library
  vmware.vmware.local_content_library:
    validate_certs: false
    hostname: "{{ vcenter_hostname }}"
    username: "{{ vcenter_username }}"
    password: "{{ vcenter_password }}"
    name: my-library
    state: absent
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-local-content-library-module-return-library"><strong>library</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Identifying information about the library</p> <p>If the library was removed, only the name is returned</p> <p>If the library was published, the publish_url is returned</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> On success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"library": {"id": "example-cluster", "name": "domain-c111111", "publish_url": "https://vcenter.com:443/cls/vcsp/lib/111111-111111111-11111-111111/lib.json"}}</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ansible Cloud Team (@ansible-collections)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vmware.vmware/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vmware.vmware" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vmware.vmware/issues/new/choose" rel="noopener external" target="_blank">Report an issue</a></span></li> <li><span><a class="reference internal" href="index#communication-for-vmware-vmware"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2025 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/vmware/vmware/local_content_library_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/vmware/vmware/local_content_library_module.html</a>
  </p>
</div>

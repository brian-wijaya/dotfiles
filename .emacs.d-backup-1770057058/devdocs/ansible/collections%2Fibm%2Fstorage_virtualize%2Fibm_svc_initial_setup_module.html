<section id="ibm-storage-virtualize-ibm-svc-initial-setup-module-this-module-allows-users-to-manage-the-initial-setup-configuration-on-ibm-storage-virtualize-family-systems"> <h1>ibm.storage_virtualize.ibm_svc_initial_setup module – This module allows users to manage the initial setup configuration on IBM Storage Virtualize family systems</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/ibm/storage_virtualize/">ibm.storage_virtualize collection</a> (version 2.7.4).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install ibm.storage_virtualize</code>.</p> <p>To use it in a playbook, specify: <code>ibm.storage_virtualize.ibm_svc_initial_setup</code>.</p> </div> <p class="ansible-version-added">New in ibm.storage_virtualize 1.7.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Ansible interface to perform various initial system configuration</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-chapsecret"><strong>chapsecret</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in ibm.storage_virtualize 2.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify the CHAP secret to authenticate the system using iSCSI.</p> <p>Required when <em>iscsiauthmethod=chap</em>, to modify a CHAP secret.</p> <p>If <em>chapsecret</em> is specified as an empty string (“”), it is treated as nochapsecret, which clears current chapsecret.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-cloud"><strong>cloud</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the number of enclosures for the transparent cloud tiering function.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-clustername"><strong>clustername</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The hostname or management IP of the Storage Virtualize system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-compression"><strong>compression</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Changes system licensing for the compression function.</p> <p>Depending on the type of system, specify a capacity value in terabytes (TB) or specify the total number of storage capacity units (SCUs) that user is licensed to virtualize across tiers of storage on the system or specify the total number of internal and external enclosures that user has licensed on the system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-dnsip"><strong>dnsip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the DNS server Internet Protocol (IP) address.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-dnsname"><strong>dnsname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies a unique name for the system DNS server being created.</p> <p>Maximum two DNS servers can be configured. User needs to provide the complete list of DNS servers that are required to be configured.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-domain"><strong>domain</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Domain for the Storage Virtualize system.</p> <p>Valid when hostname is used for the parameter <em>clustername</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-easytier"><strong>easytier</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the number of enclosures on which user can run Easy Tier.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-encryption"><strong>encryption</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies whether the encryption license function is enabled or disabled.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"on"</code></li> <li><code>"off"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-flash"><strong>flash</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Changes system licensing for the FlashCopy function.</p> <p>Depending on the type of system, specify a capacity value in terabytes (TB) or specify the total number of internal and external enclosures for the FlashCopy function.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-flashcopydefaultgrainsize"><strong>flashcopydefaultgrainsize</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in ibm.storage_virtualize 2.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Allow a user to change the FC grainsize to be one of either 64K or 256K.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-iscsiauthmethod"><strong>iscsiauthmethod</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in ibm.storage_virtualize 2.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify the authentication method for iSCSI communications on the system.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"none"</code></li> <li><code>"chap"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-license-key"><strong>license_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Provides the license key to activate a feature that contains 16 hexadecimal characters organized in four groups of four numbers with each group separated by a hyphen (such as 0123-4567-89AB-CDEF).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-log-path"><strong>log_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Path of debug log file.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-ntpip"><strong>ntpip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the IPv4 address or fully qualified domain name (FQDN) for the Network Time Protocol (NTP) server.</p> <p>To remove an already configured NTP IP, user must specify 0.0.0.0.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-password"><strong>password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>REST API password for the Storage Virtualize system.</p> <p>The parameters <em>username</em> and <em>password</em> are required if not using <em>token</em> to authenticate a user.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-physical-flash"><strong>physical_flash</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>For physical disk licensing, this parameter enables or disables the FlashCopy function.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"on"</code></li> <li>
<code><strong>"off"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-remote"><strong>remote</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Changes system licensing for remote-copy functions such as Metro Mirror, Global Mirror, and HyperSwap.</p> <p>Depending on the type of system, specify a capacity value in terabytes (TB) or specify the total number of internal and external enclosures that user has licensed on the system. There must be an enclosure license for all enclosures.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-storageinsightscontrolaccess"><strong>storageinsightscontrolaccess</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in ibm.storage_virtualize 2.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether the storage insights control access for the system is enabled or disabled.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"yes"</code></li> <li><code>"no"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-system-name"><strong>system_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies system name.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-time"><strong>time</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the time to which the system must be set.</p> <p>This value must be in the following format MMDDHHmmYYYY (where M is month, D is day, H is hour, m is minute, and Y is year).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-timezone"><strong>timezone</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the time zone to set for the system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-token"><strong>token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The authentication token to verify a user on the Storage Virtualize system.</p> <p>To generate a token, use the <a class="reference internal" href="ibm_svc_auth_module#ansible-collections-ibm-storage-virtualize-ibm-svc-auth-module"><span class="std std-ref">ibm.storage_virtualize.ibm_svc_auth</span></a> module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-username"><strong>username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>REST API username for the Storage Virtualize system.</p> <p>The parameters <em>username</em> and <em>password</em> are required if not using <em>token</em> to authenticate a user.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Validates certification.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-vdiskprotectionenabled"><strong>vdiskprotectionenabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in ibm.storage_virtualize 2.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies whether the volume protection is enabled or disabled.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"yes"</code></li> <li><code>"no"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-vdiskprotectiontime"><strong>vdiskprotectiontime</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in ibm.storage_virtualize 2.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies the volume protection time (in minutes).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ibm-storage-virtualize-ibm-svc-initial-setup-module-parameter-virtualization"><strong>virtualization</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Changes system licensing for the Virtualization function.</p> <p>Depending on the type of system, specify a capacity value in terabytes (TB) or specify the total number of storage capacity units (SCUs) that user is licensed to virtualize across tiers of storage on the system or specify the number of enclosures of external storage that user is authorized to use.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module supports <code>check_mode</code>.</li> <li>Error Considerations - CMMVC5708E A parameter is missing a value. - CMMVC5713E Some parameters are mutually exclusive. - CMMVC7218E The provided license key is not valid.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Initial configuration on FlashSystem 9200
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    domain: "{{ domain }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    system_name: cluster_test_0
    time: 101009142021
    timezone: 200
    remote: 50
    virtualization: 50
    flash: 50
    license_key:
      - 0123-4567-89AB-CDEF
      - 8921-4567-89AB-GHIJ
- name: Add DNS servers
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    domain: "{{ domain }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    system_name: cluster_test_
    dnsname:
      - dns_01
      - dns_02
    dnsip:
      - '1.1.1.1'
      - '2.2.2.2'
- name: Delete dns_02 server
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    domain: "{{ domain }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    system_name: cluster_test_
    dnsname:
      - dns_01
    dnsip:
      - '1.1.1.1'
- name: Change flashcopydefaultgrainsize to 64 and storageinsightscontrolaccess to no.
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    flashcopydefaultgrainsize: 64
    storageinsightscontrolaccess: "no"
- name: Change vdiskprotectiontime to 20 and vdiskprotectionenabled to yes.
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    vdiskprotectiontime: 20
    vdiskprotectionenabled: "yes"
- name: Change iscsiauthmethod to chap and set chapsecret.
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    iscsiauthmethod: chap
    chapsecret: "test_cs"
- name: Change iscsiauthmethod to none and clear chapsecret.
  ibm.storage_virtualize.ibm_svc_initial_setup:
    clustername: "{{ clustername }}"
    username: "{{ username }}"
    password: "{{ password }}"
    log_path: /tmp/playbook.debug
    iscsiauthmethod: none
    chapsecret: ""
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Shilpi Jain (@Shilpi-J)</li> <li>Lavanya C R (@lavanyacr)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/ibm.storage_virtualize/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/ibm.storage_virtualize" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/ibm.storage_virtualize/issues/new/choose" rel="noopener external" target="_blank">Report an issue</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2025 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/ibm/storage_virtualize/ibm_svc_initial_setup_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/ibm/storage_virtualize/ibm_svc_initial_setup_module.html</a>
  </p>
</div>

<section id="ansible-tips-and-tricks"> <h1 id="tips-tricks-index">Ansible tips and tricks</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p><strong>Making Open Source More Inclusive</strong></p> <p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. We ask that you open an issue or pull request if you come upon a term that we have missed. For more details, see <a class="reference external" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wrightâ€™s message</a>.</p> </div> <p>Welcome to the Ansible tips and tricks guide. These tips and tricks have helped us optimize our Ansible usage and we offer them here as suggestions. We hope they will help you organize content, write playbooks, maintain inventory, and execute Ansible. Ultimately, though, you should use Ansible in the way that makes the most sense for your organization and your goals.</p>  <ul> <li class="toctree-l1">
<a class="reference internal" href="ansible_tips_tricks">General tips</a><ul> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#keep-it-simple">Keep it simple</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#use-version-control">Use version control</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#customize-the-cli-output">Customize the CLI output</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#avoid-configuration-dependent-content">Avoid configuration-dependent content</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="ansible_tips_tricks#playbook-tips">Playbook tips</a><ul> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#use-whitespace">Use whitespace</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#always-name-plays-tasks-and-blocks">Always name plays, tasks, and blocks</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#always-mention-the-state">Always mention the state</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#use-comments">Use comments</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#use-fully-qualified-collection-names">Use fully qualified collection names</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="ansible_tips_tricks#inventory-tips">Inventory tips</a><ul> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#use-dynamic-inventory-with-clouds">Use dynamic inventory with clouds</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#group-inventory-by-function">Group inventory by function</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#separate-production-and-staging-inventory">Separate production and staging inventory</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#keep-vaulted-variables-safely-visible">Keep vaulted variables safely visible</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="ansible_tips_tricks#execution-tricks">Execution tricks</a><ul> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#use-execution-environments">Use Execution Environments</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#try-it-in-staging-first">Try it in staging first</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#update-in-batches">Update in batches</a></li> <li class="toctree-l2"><a class="reference internal" href="ansible_tips_tricks#handling-os-and-distro-differences">Handling OS and distro differences</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="sample_setup">Sample Ansible setup</a><ul> <li class="toctree-l2"><a class="reference internal" href="sample_setup#sample-directory-layout">Sample directory layout</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#alternative-directory-layout">Alternative directory layout</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#sample-group-and-host-variables">Sample group and host variables</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#sample-playbooks-organized-by-function">Sample playbooks organized by function</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#sample-task-and-handler-files-in-a-function-based-role">Sample task and handler files in a function-based role</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#what-the-sample-setup-enables">What the sample setup enables</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#organizing-for-deployment-or-configuration">Organizing for deployment or configuration</a></li> <li class="toctree-l2"><a class="reference internal" href="sample_setup#using-local-ansible-modules">Using local Ansible modules</a></li> </ul> </li> </ul>  </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2025 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/tips_tricks/index.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/tips_tricks/index.html</a>
  </p>
</div>

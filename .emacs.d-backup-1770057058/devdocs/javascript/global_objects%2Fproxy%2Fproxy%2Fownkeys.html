<mdn-survey></mdn-survey> <h1>handler.ownKeys()</h1> <details class="baseline-indicator high" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> Baseline <span class="not-bold"> Widely available </span> </div>   </summary> <div class="extra"> <p> This feature is well established and works across many devices and browser versions. It’s been available across browsers since ⁨September 2016⁩. </p> <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FProxy%2FProxy%2FownKeys&amp;level=high" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details><section class="content-section"> <p>The <code>handler.ownKeys()</code> method is a trap for the <code>[[OwnPropertyKeys]]</code> <a href="../../proxy#object_internal_methods">object internal method</a>, which is used by operations such as <a href="../../object/keys"><code>Object.keys()</code></a>, <a href="../../reflect/ownkeys"><code>Reflect.ownKeys()</code></a>, etc.</p> </section>    <section class="content-section" aria-labelledby="try_it"> <h2 id="try_it" class="heading">Try it</h2> <interactive-example name="JavaScript Demo: handler.ownKeys()" height="taller"></interactive-example> <div class="code-example"><pre data-language="js">const monster = {
  _age: 111,
  [Symbol("secret")]: "I am scared!",
  eyeCount: 4,
};

const handler = {
  ownKeys(target) {
    return Reflect.ownKeys(target);
  },
};

const proxy = new Proxy(monster, handler);

for (const key of Object.keys(proxy)) {
  console.log(key);
  // Expected output: "_age"
  // Expected output: "eyeCount"
}
</pre></div> </section><section class="content-section" aria-labelledby="syntax"> <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="js">new Proxy(target, {
  ownKeys(target) {
  }
})
</pre></div> </section><section class="content-section" aria-labelledby="parameters"> <h3 id="parameters" class="heading">Parameters</h3> <p>The following parameter is passed to the <code>ownKeys()</code> method. <code>this</code> is bound to the handler.</p> <dl> <dt id="target"><a href="#target"><code>target</code></a></dt> <dd> <p>The target object.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="return_value"> <h3 id="return_value" class="heading">Return value</h3> <p>The <code>ownKeys()</code> method must return an <a href="../../array#array-like_objects">array-like object</a> where each element is either a <a href="../../string"><code>String</code></a> or a <a href="../../symbol"><code>Symbol</code></a> containing no duplicate items.</p> </section><section class="content-section" aria-labelledby="description"> <h2 id="description" class="heading">Description</h2> &gt; </section><section class="content-section" aria-labelledby="interceptions"> <h3 id="interceptions" class="heading">Interceptions</h3> <p>This trap can intercept these operations:</p> <ul> <li><a href="../../object/getownpropertynames"><code>Object.getOwnPropertyNames()</code></a></li> <li><a href="../../object/getownpropertysymbols"><code>Object.getOwnPropertySymbols()</code></a></li> <li><a href="../../object/keys"><code>Object.keys()</code></a></li> <li><a href="../../reflect/ownkeys"><code>Reflect.ownKeys()</code></a></li> </ul> <p>Or any other operation that invokes the <code>[[OwnPropertyKeys]]</code> <a href="../../proxy#object_internal_methods">internal method</a>.</p> </section><section class="content-section" aria-labelledby="invariants"> <h3 id="invariants" class="heading">Invariants</h3> <p>The proxy's <code>[[OwnPropertyKeys]]</code> internal method throws a <a href="../../typeerror"><code>TypeError</code></a> if the handler definition violates one of the following invariants:</p> <ul> <li>The result is an <a href="../../object"><code>Object</code></a>.</li> <li>The list of keys contains no duplicate values.</li> <li>The type of each key is either a <a href="../../string"><code>String</code></a> or a <a href="../../symbol"><code>Symbol</code></a>.</li> <li>The result list must contain the keys of all non-configurable own properties of the target object. That is, for all keys returned by <a href="../../reflect/ownkeys"><code>Reflect.ownKeys()</code></a> on the target object, if the key reports <code>configurable: false</code> by <a href="../../reflect/getownpropertydescriptor"><code>Reflect.getOwnPropertyDescriptor()</code></a>, then the key must be included in the result List.</li> <li>If the target object is not extensible, then the result list must contain all the keys of the own properties of the target object and no other values. That is, if <a href="../../reflect/isextensible"><code>Reflect.isExtensible()</code></a> returns <code>false</code> on <code>target</code>, then the result list must contain the same values as the result of <a href="../../reflect/ownkeys"><code>Reflect.ownKeys()</code></a> on <code>target</code>.</li> </ul> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> &gt; </section><section class="content-section" aria-labelledby="trapping_of_getownpropertynames"> <h3 id="trapping_of_getownpropertynames" class="heading">Trapping of getOwnPropertyNames</h3> <p>The following code traps <a href="../../object/getownpropertynames"><code>Object.getOwnPropertyNames()</code></a>.</p> <div class="code-example"><pre data-language="js">const p = new Proxy(
  {},
  {
    ownKeys(target) {
      console.log("called");
      return ["a", "b", "c"];
    },
  },
);

console.log(Object.getOwnPropertyNames(p));
// "called"
// [ 'a', 'b', 'c' ]
</pre></div> <p>The following code violates an invariant.</p> <div class="code-example"><pre data-language="js">const obj = {};
Object.defineProperty(obj, "a", {
  configurable: false,
  enumerable: true,
  value: 10,
});

const p = new Proxy(obj, {
  ownKeys(target) {
    return [123, 12.5, true, false, undefined, null, {}, []];
  },
});

console.log(Object.getOwnPropertyNames(p));

// TypeError: proxy [[OwnPropertyKeys]] must return an array
// with only string and symbol elements
</pre></div> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-proxy-object-internal-methods-and-internal-slots-ownpropertykeys" rel="noopener" target="_blank">ECMAScript® 2026 Language Specification&gt;<br># sec-proxy-object-internal-methods-and-internal-slots-ownpropertykeys&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="browser_compatibility"> <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
<th colspan="3">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
<th>Bun</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody><tr>
<th><code>ownKeys</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2016-03-02">49</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-07-29">12</abbr></td>
<td class="bc-supports-yes"><details><summary><abbr title="Release date: 2013-01-08">18</abbr></summary>In Firefox 42, the implementation got updated to reflect the final ES2015 specification: The result is now checked if it is an array and if the array elements are either of type string or of type symbol. Enumerating duplicate own property names is not a failure anymore.</details></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-03-15">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-09-20">10</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-03-09">49</abbr></td>
<td class="bc-supports-yes"><details><summary><abbr title="Release date: 2013-01-08">18</abbr></summary>In Firefox for Android 42, the implementation got updated to reflect the final ES2015 specification: The result is now checked if it is an array and if the array elements are either of type string or of type symbol. Enumerating duplicate own property names is not a failure anymore.</details></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-03-31">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-09-13">10</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-12-15">5.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-03-09">49</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-09-13">10</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2020-05-13">1.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2016-04-26">6.0.0</abbr></td>
</tr></tbody>
</table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="../../proxy"><code>Proxy</code></a></li> <li><a href="../proxy"><code>Proxy()</code> constructor</a></li> <li><a href="../../object/getownpropertynames"><code>Object.getOwnPropertyNames()</code></a></li> <li><a href="../../reflect/ownkeys"><code>Reflect.ownKeys()</code></a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/ownKeys" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/ownKeys</a>
  </p>
</div>

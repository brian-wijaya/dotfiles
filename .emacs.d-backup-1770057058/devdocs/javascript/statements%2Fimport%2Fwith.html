<mdn-survey></mdn-survey> <h1>Import attributes</h1> <details class="baseline-indicator low" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> Baseline <span class="not-bold"> 2025 </span> * </div> <div class="pill">Newly available</div>   </summary> <div class="extra"> <p> Since ⁨April 2025⁩, this feature works across the latest devices and browser versions. This feature might not work in older devices or browsers. </p> <p>* Some parts of this feature may have varying levels of support.</p> <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FStatements%2Fimport%2Fwith&amp;level=low" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details><section class="content-section"> <div class="notecard note"> <p><strong>Note:</strong> A previous version of this proposal used the <code>assert</code> keyword instead of <code>with</code>. The assertion feature is now non-standard. Check the <a href="#browser_compatibility">browser compatibility table</a> for details.</p> </div> <p>The <strong>import attributes</strong> feature instructs the runtime about how a module should be loaded, including the behavior of module resolution, fetching, parsing, and evaluation. It's supported in <a href="../import"><code>import</code></a> declarations, <a href="../export#re-exporting_aggregating"><code>export...from</code></a> declarations, and dynamic <a href="../../operators/import"><code>import()</code></a>.</p> <p>Attributes can be attached to any kind of <code>import</code>/<code>export from</code> statement, including default import, namespace import, etc. They follow the module specifier string and start with the <code>with</code> keyword. When used with <code>import()</code>, the attributes are specified in the <code>options</code> parameter as the <code>with</code> property.</p> </section>    <section class="content-section" aria-labelledby="syntax"> <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="js">import { names } from "module-name" with {};
import { names } from "module-name" with { key: "data" };
import { names } from "module-name" with { key: "data", key2: "data2" };
import { names } from "module-name" with { key: "data", key2: "data2", /* …, */ keyN: "dataN" };

export { names } from "module-name" with {};
export { names } from "module-name" with { key: "data" };
export { names } from "module-name" with { key: "data", key2: "data2" };
export { names } from "module-name" with { key: "data", key2: "data2", /* …, */ keyN: "dataN" };
</pre></div> </section><section class="content-section" aria-labelledby="parameters"> <h3 id="parameters" class="heading">Parameters</h3> <dl> <dt id="keyn"><a href="#keyn"><code>keyN</code></a></dt> <dd> <p>An attribute key. Can be an identifier or a string literal. All keys must be unique and must be known to the runtime.</p> </dd> <dt id="datan"><a href="#datan"><code>"dataN"</code></a></dt> <dd> <p>An attribute value. Must be a string literal.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="exceptions"> <h3 id="exceptions" class="heading">Exceptions</h3> <dl> <dt id="syntaxerror"><a href="../../global_objects/syntaxerror"><code>SyntaxError</code></a></dt> <dd> <p>An unsupported <code>key</code> was specified in a <em>static import</em>.</p> </dd> <dt id="typeerror"><a href="../../global_objects/typeerror"><code>TypeError</code></a></dt> <dd> <p>An unsupported <code>key</code> was specified in a <em>dynamic import</em>.</p> </dd> </dl> <p>Note that specifying an unsupported value for a supported key may also result in an exception in some cases, depending on the key.</p> </section><section class="content-section" aria-labelledby="description"> <h2 id="description" class="heading">Description</h2> <p>Import attributes tell the runtime how a particular module should be loaded.</p> <p>The primary use case is to load non-JS modules, such as JSON modules and CSS modules. Consider the following statement:</p> <div class="code-example"><pre data-language="js">import data from "https://example.com/data.json";
</pre></div> <p>On the web, each import statement results in a HTTP request. The response is then prepared into a JavaScript value and made available to the program by the runtime. For example, the response may look like this:</p> <div class="code-example"><pre data-language="http">HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
...
{"name":"Maria"}
</pre></div> <p>Modules are identified and parsed only according to their served <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/MIME_types">media type (MIME type)</a> — the file extension in the URL cannot be used to identify a file's type. In this case, the MIME type is <code>application/json</code>, which tells the browser that the file is JSON and must be parsed as JSON. If, for some reason (e.g., the server is hijacked or bogus), the media type in the server response is set to <code>text/javascript</code> (for JavaScript source), then the file would be parsed and executed as code. If the "JSON" file actually contains malicious code, the <code>import</code> declaration would unintentionally execute external code, posing a serious security threat.</p> <p>Import attributes fix this problem by allowing the author to explicitly specify how a module should be validated. In particular, the <code>type</code> attribute allows you to validate that the file is served with a particular media type, and fails the import if a different media type is used.</p> <p>For example, the code above can be written to specify that the expected type is <code>"json"</code> and the import would fail if it was served with the <code>text/javascript</code> (or any media type other than <code>application/json</code>):</p> <div class="code-example"><pre data-language="js">import data from "https://example.com/data.json" with { type: "json" };
</pre></div> <p>The <code>type</code> attribute allows you to specify that modules are served as JSON or CSS (and implicitly as JavaScript).</p> <p>Other attributes may also be supported, and <a href="#intended_semantics_for_import_attributes">can affect the behavior of different parts of the loading process</a>. A syntax error is thrown if an unknown attribute is used.</p> </section><section class="content-section" aria-labelledby="standard_attributes"> <h3 id="standard_attributes" class="heading">Standard attributes</h3> <p>The available attributes depend on the language and runtime environment. The ECMAScript standard <a href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#sec-HostLoadImportedModule" target="_blank">defines the <code>type</code> attribute with the value of <code>"json"</code></a>.</p> <p>The HTML specification also <a href="https://html.spec.whatwg.org/multipage/webappapis.html#module-type-allowed" target="_blank">defines the <code>type</code> attribute with values <code>"json"</code> and <code>"css"</code></a> — these are the attributes that are supported in browser environments.</p> <h4 id="json_modules_type_json">JSON Modules (<code>{ type: "json" }</code>)</h4> <p>The <code>json</code> type indicates that the imported file must contain JSON. You can load JSON from a file into the <code>data</code> object using the following code:</p> <div class="code-example"><pre data-language="js">import data from "https://example.com/data.json" with { type: "json" };
</pre></div> <p>If the file is served with any other media type than <code>"application/json"</code>, the import will fail.</p> <p>The <code>type</code> attribute changes how the module is fetched (the browser sends the request with <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Accept"><code>Accept</code></a>: application/json</code> header), but does <em>not</em> change how the module is parsed or evaluated. The runtime already knows to parse the module as JSON given the response MIME type. It only uses the attribute to do <em>after-the-fact</em> checking that the <code>data.json</code> module is, in fact, a JSON module. For example, if the response header changes to <code>Content-Type: text/javascript</code> instead, the program will fail with a similar error as above.</p> <p>The specification explicitly calls out <code>type: "json"</code> to be supported — if a module is asserted to be <code>type: "json"</code> and the runtime does not fail this import, then it must be parsed as JSON.</p> <p>However, there's no behavior requirement otherwise: for imports without a <code>type: "json"</code> attribute, the runtime may still parse it as JSON if security is not an issue in this environment.</p> <p>Browsers, on the other hand, implicitly assume that the module is JavaScript if the <code>type</code> is not specified, and fail if the module is not JavaScript (for example, JSON). This ensures that module types are always strictly validated and prevents any security risks. Non-browser runtimes such as Node and Deno align with browser semantics and enforce <code>type</code> for JSON modules.</p> <p>In other words, if you omit the <code>type</code> and attempt to import a file as <code>"application/json"</code> you will usually get an error like the following:</p> <pre data-language="plain">Failed to load module script: Expected a JavaScript module script but the server responded with a MIME type of "application/json". Strict MIME type checking is enforced for module scripts per HTML spec.
</pre> <h4 id="css_modules_type_css">CSS Modules (<code>{ type: "css" }</code>)</h4> <p>The HTML spec defines the <code>css</code> type, which imports a stylesheet into a script as an <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet"><code>CSSStyleSheet</code></a> object.</p> <p>The code below shows how you might import a style and add it to your document. The import will throw an exception if <code>example_styles.css</code> is served with any media type other than <code>"text/css"</code>.</p> <div class="code-example"><pre data-language="js">import exampleStyles from "https://example.com/example_styles.css" with { type: "css" };

document.adoptedStyleSheets.push(exampleStyles);
</pre></div> <p>Note that importing CSS modules into workers is usually not supported, because the CSSOM specification only exposes <code>CSSStyleSheet</code> in the window context.</p> </section><section class="content-section" aria-labelledby="intended_semantics_for_import_attributes"> <h3 id="intended_semantics_for_import_attributes" class="heading">Intended semantics for import attributes</h3> <p>An attribute can change the runtime's behavior at every stage of the module loading process:</p> <ul> <li> <p>Resolution: the attribute is part of the module specifier (the string in the <code>from</code> clause). Therefore, given the same string path, different attributes may lead to entirely different modules being loaded. For example, <a href="https://devblogs.microsoft.com/typescript/announcing-typescript-5-3/#stable-support-resolution-mode-in-import-types" target="_blank">TypeScript supports the <code>resolution-mode</code> attribute</a>.</p> <div class="code-example"><pre data-language="ts">import type { TypeFromRequire } from "pkg" with {
  "resolution-mode": "require",
};
</pre></div> </li> <li> <p>Fetching: for example, CSS modules are fetched with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/destination"><code>destination</code></a> set to <code>"style"</code>, and JSON modules are fetched with <code>destination: "json"</code>. This means given the same destination URL, the server may still return different content.</p> </li> <li> <p>Parsing and evaluation: the runtime may use the attribute to determine how to parse and evaluate the module.</p> </li> </ul> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> &gt; </section><section class="content-section" aria-labelledby="importing_json_modules_with_the_type_attribute"> <h3 id="importing_json_modules_with_the_type_attribute" class="heading">Importing JSON modules with the type attribute</h3> <p>In <code>data.json</code>:</p> <div class="code-example"><pre data-language="json">{
  "name": "Shilpa"
}
</pre></div> <p>In <code>index.html</code>:</p> <div class="code-example"><pre data-language="html">&lt;!doctype html&gt;
&lt;html lang="en-US"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;script type="module"&gt;
      import data from "./data.json" with { type: "json" };

      const p = document.createElement("p");
      p.textContent = `name: ${data.name}`;
      document.body.appendChild(p);
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;&lt;/body&gt;
&lt;/html&gt;
</pre></div> <p>Start a local HTTP server (see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#troubleshooting">troubleshooting</a>) and go to the <code>index.html</code> page. You should see <code>Shilpa</code> on the page.</p> <div class="notecard note"> <p><strong>Note:</strong> JSON modules only have one default export. You cannot do named imports from them (like <code>import { name } from "data.json"</code>).</p> </div> </section><section class="content-section" aria-labelledby="using_import_attributes_with_dynamic_import"> <h3 id="using_import_attributes_with_dynamic_import" class="heading">Using import attributes with dynamic import</h3> <p>Import attributes are also accepted as the second parameter of the <code>import()</code> syntax.</p> <div class="code-example"><pre data-language="js">const data = await import("./data.json", {
  with: { type: "json" },
});
</pre></div> <p>Note that, like static imports, dynamic imports are cached for the lifetime of the environment (e.g., a page or worker). If you expect this data to change (such as the latest news or a user's credits), use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> instead.</p> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#prod-WithClause" rel="noopener" target="_blank">ECMAScript® 2026 Language Specification&gt;<br># prod-WithClause&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="browser_compatibility"> <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
<th colspan="3">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
<th>Bun</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>with</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-22">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2025-04-29">138</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-27">109</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-12-11">17.2</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2025-04-29">138</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-05-02">82</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-12-11">17.2</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-11-06">27.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-12-11">17.2</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-20">1.37</abbr></td>
<td class="bc-supports-yes">
<abbr title="Release date: 2023-11-22">20.10.0</abbr><abbr title="Release date: 2024-03-26">18.20.0</abbr>–19.0.0</td>
</tr>
<tr>
<th><code>type_css</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-22">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2026-01-13">147</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-27">109</abbr></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2026-01-13">147</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-05-02">82</abbr></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-11-06">27.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>type_json</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-22">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2025-04-29">138</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-27">109</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-12-11">17.2</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2025-04-29">138</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-05-02">82</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-12-11">17.2</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-11-06">27.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2024-03-19">123</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-12-11">17.2</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-20">1.37</abbr></td>
<td class="bc-supports-yes">
<abbr title="Release date: 2023-11-22">20.10.0</abbr><abbr title="Release date: 2024-03-26">18.20.0</abbr>–19.0.0</td>
</tr>
</tbody>
</table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="../import"><code>import</code></a></li> <li><a href="../export"><code>export</code></a></li> <li><a href="../../operators/import"><code>import()</code></a></li> <li><a href="https://github.com/tc39/proposal-import-attributes" target="_blank">Import attributes proposal</a></li> <li><a href="https://github.com/tc39/proposal-json-modules" target="_blank">JSON modules proposal</a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import/with" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import/with</a>
  </p>
</div>

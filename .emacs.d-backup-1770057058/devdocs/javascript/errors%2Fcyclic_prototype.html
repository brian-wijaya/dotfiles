<mdn-survey></mdn-survey> <h1>TypeError: can't set prototype: it would cause a prototype chain cycle</h1> <section class="content-section"> <p>The JavaScript exception "TypeError: can't set prototype: it would cause a prototype chain cycle" occurs when an object's prototype is set to an object such that the <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Advanced_JavaScript_objects/Object_prototypes#the_prototype_chain">prototype chain</a> becomes circular (<code>a</code> and <code>b</code> both have each other in their prototype chains).</p> </section>    <section class="content-section" aria-labelledby="message"> <h2 id="message" class="heading">Message</h2> <pre data-language="plain">TypeError: Cyclic __proto__ value (V8-based)
TypeError: can't set prototype: it would cause a prototype chain cycle (Firefox)
TypeError: cyclic __proto__ value (Safari)
</pre> </section><section class="content-section" aria-labelledby="error_type"> <h2 id="error_type" class="heading">Error type</h2> <a href="../global_objects/typeerror"><code>TypeError</code></a> </section><section class="content-section" aria-labelledby="what_went_wrong"> <h2 id="what_went_wrong" class="heading">What went wrong?</h2> <p>A loop, also called a cycle, was introduced in a prototype chain. That means that when walking this prototype chain, the same place would be accessed over and over again, instead of eventually reaching <code>null</code>.</p> <p>This error is thrown at the time of setting the prototype. In an operation like <code>Object.setPrototypeOf(a, b)</code>, if <code>a</code> already exists in the prototype chain of <code>b</code>, this error will be thrown.</p> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> <div class="code-example"><pre data-language="js">const a = {};
Object.setPrototypeOf(a, a);
// TypeError: can't set prototype: it would cause a prototype chain cycle
</pre></div> <div class="code-example"><pre data-language="js">const a = {};
const b = {};
const c = {};
Object.setPrototypeOf(a, b);
Object.setPrototypeOf(b, c);
Object.setPrototypeOf(c, a);
// TypeError: can't set prototype: it would cause a prototype chain cycle
</pre></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Advanced_JavaScript_objects/Object_prototypes">Object Prototypes</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain">Inheritance and the prototype chain</a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_prototype" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_prototype</a>
  </p>
</div>

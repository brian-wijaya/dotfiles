<mdn-survey></mdn-survey> <h1>WeakSet</h1> <details class="baseline-indicator high" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> Baseline <span class="not-bold"> Widely available </span> * </div>   </summary> <div class="extra"> <p> This feature is well established and works across many devices and browser versions. It’s been available across browsers since ⁨September 2015⁩. </p> <p>* Some parts of this feature may have varying levels of support.</p> <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FWeakSet&amp;level=high" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details><section class="content-section"> <p>A <code>WeakSet</code> is a collection of garbage-collectable values, including objects and <a href="symbol#shared_symbols_in_the_global_symbol_registry">non-registered symbols</a>. A value in the <code>WeakSet</code> may only occur once. It is unique in the <code>WeakSet</code>'s collection.</p> </section>    <section class="content-section" aria-labelledby="description"> <h2 id="description" class="heading">Description</h2> <p>Values of WeakSets must be garbage-collectable. Most <a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive">primitive data types</a> can be arbitrarily created and don't have a lifetime, so they cannot be stored. Objects and <a href="symbol#shared_symbols_in_the_global_symbol_registry">non-registered symbols</a> can be stored because they are garbage-collectable.</p> <p>The main differences to the <a href="set"><code>Set</code></a> object are:</p> <ul> <li> <p><code>WeakSet</code>s are collections of <strong>objects and symbols only</strong>. They cannot contain arbitrary values of any type, as <a href="set"><code>Set</code></a>s can.</p> </li> <li> <p>The <code>WeakSet</code> is <em>weak</em>, meaning references to objects in a <code>WeakSet</code> are held <em>weakly</em>. If no other references to a value stored in the <code>WeakSet</code> exist, those values can be garbage collected.</p> <div class="notecard note"> <p><strong>Note:</strong> This also means that there is no list of current values stored in the collection. <code>WeakSets</code> are not enumerable.</p> </div> </li> </ul> </section><section class="content-section" aria-labelledby="key_equality"> <h3 id="key_equality" class="heading">Key equality</h3> <p>Like regular <code>Set</code>, value equality is based on the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Equality_comparisons_and_sameness#same-value-zero_equality">SameValueZero</a> algorithm, which is the same as the <code>===</code> operator because <code>WeakSet</code> can only hold object and symbol values. This means that for object values, equality is based on object identity. They are compared by <a href="https://developer.mozilla.org/en-US/docs/Glossary/Object_reference">reference</a>, not by value.</p> </section><section class="content-section" aria-labelledby="constructor"> <h2 id="constructor" class="heading">Constructor</h2> <dl> <dt id="weakset"><a href="weakset/weakset"><code>WeakSet()</code></a></dt> <dd> <p>Creates a new <code>WeakSet</code> object.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="instance_properties"> <h2 id="instance_properties" class="heading">Instance properties</h2> <p>These properties are defined on <code>WeakSet.prototype</code> and shared by all <code>WeakSet</code> instances.</p> <dl> <dt id="weakset.prototype.constructor"><a href="object/constructor"><code>WeakSet.prototype.constructor</code></a></dt> <dd> <p>The constructor function that created the instance object. For <code>WeakSet</code> instances, the initial value is the <a href="weakset/weakset"><code>WeakSet</code></a> constructor.</p> </dd> <dt id="weakset.prototypesymbol.tostringtag"><a href="#weakset.prototypesymbol.tostringtag"><code>WeakSet.prototype[Symbol.toStringTag]</code></a></dt> <dd> <p>The initial value of the <a href="symbol/tostringtag"><code>[Symbol.toStringTag]</code></a> property is the string <code>"WeakSet"</code>. This property is used in <a href="object/tostring"><code>Object.prototype.toString()</code></a>.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="instance_methods"> <h2 id="instance_methods" class="heading">Instance methods</h2> <dl> <dt id="weakset.prototype.add"><a href="weakset/add"><code>WeakSet.prototype.add()</code></a></dt> <dd> <p>Inserts the specified value into this set, if it is not already present.</p> </dd> <dt id="weakset.prototype.delete"><a href="weakset/delete"><code>WeakSet.prototype.delete()</code></a></dt> <dd> <p>Removes the specified value from this set, if it is in the set.</p> </dd> <dt id="weakset.prototype.has"><a href="weakset/has"><code>WeakSet.prototype.has()</code></a></dt> <dd> <p>Returns a boolean indicating whether the specified value exists in this <code>WeakSet</code> or not.</p> </dd> </dl> </section><section class="content-section" aria-labelledby="examples"> <h2 id="examples" class="heading">Examples</h2> &gt; </section><section class="content-section" aria-labelledby="using_the_weakset_object"> <h3 id="using_the_weakset_object" class="heading">Using the WeakSet object</h3> <div class="code-example"><pre data-language="js">const ws = new WeakSet();
const foo = {};
const bar = {};

ws.add(foo);
ws.add(bar);

ws.has(foo); // true
ws.has(bar); // true

ws.delete(foo); // removes foo from the set
ws.has(foo); // false, foo has been removed
ws.has(bar); // true, bar is retained
</pre></div> <p>Note that <code>foo !== bar</code>. While they are similar objects, <em>they are not <strong>the same object</strong></em>. And so they are both added to the set.</p> </section><section class="content-section" aria-labelledby="detecting_circular_references"> <h3 id="detecting_circular_references" class="heading">Detecting circular references</h3> <p>Functions that call themselves recursively need a way of guarding against circular data structures by tracking which objects have already been processed.</p> <p><code>WeakSet</code>s are ideal for this purpose:</p> <div class="code-example"><pre data-language="js">// Execute a callback on everything stored inside an object
function execRecursively(fn, subject, _refs = new WeakSet()) {
  // Avoid infinite recursion
  if (_refs.has(subject)) {
    return;
  }

  fn(subject);
  if (typeof subject === "object" &amp;&amp; subject) {
    _refs.add(subject);
    for (const key in subject) {
      execRecursively(fn, subject[key], _refs);
    }
    _refs.delete(subject);
  }
}

const foo = {
  foo: "Foo",
  bar: {
    bar: "Bar",
  },
};

foo.bar.baz = foo; // Circular reference!
execRecursively((obj) =&gt; console.log(obj), foo);
</pre></div> <p>Here, a <code>WeakSet</code> is created on the first run, and passed along with every subsequent function call (using the internal <code>_refs</code> parameter).</p> <p>The number of objects or their traversal order is immaterial, so a <code>WeakSet</code> is more suitable (and performant) than a <a href="set"><code>Set</code></a> for tracking object references, especially if a very large number of objects is involved.</p> </section><section class="content-section" aria-labelledby="specifications"> <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://tc39.es/ecma262/multipage/keyed-collections.html#sec-weakset-objects" rel="noopener" target="_blank">ECMAScript® 2026 Language Specification&gt;<br># sec-weakset-objects&gt;</a></td> </tr> </tbody> </table></div> </section><section class="content-section" aria-labelledby="browser_compatibility"> <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
<th colspan="3">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
<th>Bun</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>WeakSet</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-07-29">12</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-22">23</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-30">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-10">24</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-04-10">3.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-03">37</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2020-05-13">1.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-02-06">0.12.0</abbr></td>
</tr>
<tr>
<th><code>WeakSet</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-07-29">12</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-22">23</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-30">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-10">24</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-04-10">3.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-03">37</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2020-05-13">1.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-02-06">0.12.0</abbr></td>
</tr>
<tr>
<th><code>add</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-07-29">12</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-22">23</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-30">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-10">24</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-04-10">3.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-03">37</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2020-05-13">1.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-02-06">0.12.0</abbr></td>
</tr>
<tr>
<th><code>delete</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-07-29">12</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-22">23</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-30">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-10">24</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-04-10">3.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-03">37</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2020-05-13">1.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-02-06">0.12.0</abbr></td>
</tr>
<tr>
<th><code>has</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-07-29">12</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-22">23</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-30">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-07-16">36</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-12-01">34</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-10">24</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-04-10">3.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2014-09-03">37</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-09-16">9</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2020-05-13">1.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2015-02-06">0.12.0</abbr></td>
</tr>
<tr>
<th><code>symbol_as_keys</code></th>
<td class="bc-supports-yes"><abbr title="Release date: 2023-01-10">109</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-01-12">109</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2025-12-09">146</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-02-01">95</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-03-27">16.4</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-01-10">109</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2025-12-09">146</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-03-13">74</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-03-27">16.4</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-05-19">21.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-01-10">109</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-03-27">16.4</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-09-08">1.0.0</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2022-11-13">1.28</abbr></td>
<td class="bc-supports-yes"><abbr title="Release date: 2023-04-18">20.0.0</abbr></td>
</tr>
</tbody>
</table></div> </section><section class="content-section" aria-labelledby="see_also"> <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="https://github.com/zloirock/core-js#weakset" target="_blank">Polyfill of <code>WeakSet</code> in <code>core-js</code></a></li> <li><a href="map"><code>Map</code></a></li> <li><a href="set"><code>Set</code></a></li> <li><a href="weakmap"><code>WeakMap</code></a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet</a>
  </p>
</div>

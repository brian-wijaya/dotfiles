<div id="control-structures.foreach" class="sect1"> <h2 class="title">foreach</h2> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p> <p class="para"> The <code class="literal">foreach</code> construct provides an easy way to iterate over <span class="type"><a href="language.types.array" class="type array">array</a></span>s and <span class="interfacename"><a href="class.traversable" class="interfacename">Traversable</a></span> objects. <code class="literal">foreach</code> will issue an error when used with a variable containing a different data type or with an uninitialized variable. </p>
<div class="informalexample"> <p class="simpara"> <code class="literal">foreach</code> can optionally get the <code class="literal">key</code> of each element: </p> <div class="example-contents"> <div class="cdata"><pre>
foreach (iterable_expression as $value) {
    statement_list
}

foreach (iterable_expression as $key =&gt; $value) {
    statement_list
}
</pre></div> </div> </div> <p class="simpara"> The first form traverses the iterable given by <code class="literal">iterable_expression</code>. On each iteration, the value of the current element is assigned to <code class="literal">$value</code>. </p> <p class="simpara"> The second form will additionally assign the current element's key to the <code class="literal">$key</code> variable on each iteration. </p> <p class="simpara"> Note that <code class="literal">foreach</code> does not modify the internal array pointer, which is used by functions such as <span class="function"><a href="function.current" class="function">current()</a></span> and <span class="function"><a href="function.key" class="function">key()</a></span>. </p> <p class="simpara"> It is possible to <a href="language.oop5.iterations" class="link">customize object iteration</a>. </p> <div class="example" id="example-1"> <p><strong>Example #1 Common <code class="literal">foreach</code> usages</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

/* Example: value only */
$array = [1, 2, 3, 17];

foreach ($array as $value) {
    echo "Current element of \$array: $value.\n";
}

/* Example: key and value */
$array = [
    "one" =&gt; 1,
    "two" =&gt; 2,
    "three" =&gt; 3,
    "seventeen" =&gt; 17
];

foreach ($array as $key =&gt; $value) {
    echo "Key: $key =&gt; Value: $value\n";
}

/* Example: multi-dimensional key-value arrays */
$grid = [];
$grid[0][0] = "a";
$grid[0][1] = "b";
$grid[1][0] = "y";
$grid[1][1] = "z";

foreach ($grid as $y =&gt; $row) {
    foreach ($row as $x =&gt; $value) {
        echo "Value at position x=$x and y=$y: $value\n";
    }
}

/* Example: dynamic arrays */
foreach (range(1, 5) as $value) {
    echo "$value\n";
}
?&gt;</pre> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> <code class="literal">foreach</code> does not support the ability to suppress error messages using the <a href="language.operators.errorcontrol" class="link"><code class="literal">@</code></a>. </p> </blockquote> <div class="sect2" id="control-structures.foreach.list"> <h3 class="title">Unpacking nested arrays</h3> <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p> <p class="para"> It is possible to iterate over an array of arrays and unpack the nested array into loop variables by using either <a href="language.types.array#language.types.array.syntax.destructuring" class="link">array destructuring</a> via <code class="literal">[]</code> or by using the <span class="function"><a href="function.list" class="function">list()</a></span> language construct as the value. </p>
<blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara"> Please note that <a href="language.types.array#language.types.array.syntax.destructuring" class="link">array destructuring</a> via <code class="literal">[]</code> is only possible as of PHP 7.1.0 </span> </p></blockquote> 
<div class="informalexample"> <p class="simpara"> In both of the following examples <code class="literal">$a</code> will be set to the first element of the nested array and <code class="literal">$b</code> will contain the second element: </p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = [
    [1, 2],
    [3, 4],
];

foreach ($array as [$a, $b]) {
    echo "A: $a; B: $b\n";
}

foreach ($array as list($a, $b)) {
    echo "A: $a; B: $b\n";
}
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
A: 1; B: 2
A: 3; B: 4
</pre></div> </div> </div> <p class="para"> When providing fewer variables than there are elements in the array, the remaining elements will be ignored. Similarly, elements can be skipped over by using a comma: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = [
    [1, 2, 5],
    [3, 4, 6],
];

foreach ($array as [$a, $b]) {
    // Note that there is no $c here.
    echo "$a $b\n";
}

foreach ($array as [, , $c]) {
    // Skipping over $a and $b
    echo "$c\n";
}
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
1 2
3 4
5
6
</pre></div> </div> </div> <p class="para"> A notice will be generated if there aren't enough array elements to fill the <span class="function"><a href="function.list" class="function">list()</a></span>: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = [
    [1, 2],
    [3, 4],
];

foreach ($array as [$a, $b, $c]) {
    echo "A: $a; B: $b; C: $c\n";
}
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
Notice: Undefined offset: 2 in example.php on line 7
A: 1; B: 2; C:

Notice: Undefined offset: 2 in example.php on line 7
A: 3; B: 4; C:
</pre></div> </div> </div> </div> <div class="sect2" id="control-structures.foreach.reference"> <h3 class="title">foreach and references</h3> <p class="para"> It is possible to directly modify array elements within a loop by preceding <code class="literal">$value</code> with <code class="literal">&amp;</code>. In that case the value will be assigned by <a href="https://www.php.net/manual/en/language.references.php" class="link">reference</a>. </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$arr = [1, 2, 3, 4];
foreach ($arr as &amp;$value) {
    $value = $value * 2;
}
// $arr is now [2, 4, 6, 8]
unset($value); // break the reference with the last element
?&gt;</pre> </div> </div> <div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> Reference to a <code class="literal">$value</code> of the last array element remain even after the <code class="literal">foreach</code> loop. It is recommended to destroy these using <span class="function"><a href="function.unset" class="function">unset()</a></span>. Otherwise, the following behavior will occur: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$arr = [1, 2, 3, 4];
foreach ($arr as &amp;$value) {
    $value = $value * 2;
}
// $arr is now [2, 4, 6, 8]

// without an unset($value), $value is still a reference to the last item: $arr[3]

foreach ($arr as $key =&gt; $value) {
    // $arr[3] will be updated with each value from $arr...
    echo "{$key} =&gt; {$value} ";
    print_r($arr);
}
// ...until ultimately the second-to-last value is copied onto the last value
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
0 =&gt; 2 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 2 )
1 =&gt; 4 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 4 )
2 =&gt; 6 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 6 )
3 =&gt; 6 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 6 )
</pre></div> </div> </div> </div> <div class="example" id="example-2"> <p><strong>Example #2 Iterate a constant array's values by reference</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
foreach ([1, 2, 3, 4] as &amp;$value) {
    $value = $value * 2;
}
?&gt;</pre> </div> </div> </div> <div class="sect2"> <h3 class="title">See Also</h3> <ul class="simplelist"> <li><a href="language.types.array" class="link">array</a></li> <li><span class="interfacename"><a href="class.traversable" class="interfacename">Traversable</a></span></li> <li><a href="language.types.iterable" class="link">iterable</a></li> <li><span class="function"><a href="function.list" class="function">list()</a></span></li> </ul> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2025 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/control-structures.foreach.php" class="_attribution-link">https://www.php.net/manual/en/control-structures.foreach.php</a>
  </p>
</div>

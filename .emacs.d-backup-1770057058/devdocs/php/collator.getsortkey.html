<div id="collator.getsortkey" class="refentry"> <div class="refnamediv"> <h1 class="refname">Collator::getSortKey</h1> <h1 class="refname">collator_get_sort_key</h1> <p class="verinfo">(PHP 5 &gt;= 5.3.2, PHP 7, PHP 8, PECL intl &gt;= 1.0.3)</p>
<p class="refpurpose"><span class="refname">Collator::getSortKey</span> -- <span class="refname">collator_get_sort_key</span> â€” <span class="dc-title">Get sorting key for a string</span></p> </div> <div class="refsect1 description" id="refsect1-collator.getsortkey-description"> <h3 class="title">Description</h3> <p class="para"> Object-oriented style </p> <pre class="methodsynopsis dc-description" data-language="php">public Collator::getSortKey(string $string): string|false</pre> <p class="para rdfs-comment"> Procedural style </p> <pre class="methodsynopsis dc-description" data-language="php">collator_get_sort_key(Collator $object, string $string): string|false</pre> <p class="para rdfs-comment"> Return collation key for a string. Collation keys can be compared directly instead of strings, though are implementation specific and may change between ICU library versions. Sort keys are generally only useful in databases or other circumstances where function calls are extremely expensive. </p> </div> <div class="refsect1 parameters" id="refsect1-collator.getsortkey-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">object</code></dt> <dd> <p class="para"> <span class="classname"><a href="class.collator" class="classname">Collator</a></span> object. </p> </dd> <dt><code class="parameter">string</code></dt> <dd> <p class="para"> The string to produce the key from. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-collator.getsortkey-returnvalues"> <h3 class="title">Return Values</h3> <p class="para">Returns the collation key for the string, or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> on failure.</p> <div class="warning">
<strong class="warning">Warning</strong><p class="simpara">This function may return Boolean <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong>, but may also return a non-Boolean value which evaluates to <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong>. Please read the section on <a href="language.types.boolean" class="link">Booleans</a> for more information. Use <a href="language.operators.comparison" class="link">the === operator</a> for testing the return value of this function.</p>
</div> </div> <div class="refsect1 examples" id="refsect1-collator.getsortkey-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1"> <p><strong>Example #1 <span class="function"><strong>collator_get_sort_key()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$s1 = 'Hello';

$coll = collator_create('en_US');
$res  = collator_get_sort_key($coll, $s1);

echo bin2hex($res);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen">
<br> 3832404046010901dc08<br> </div> </div> 
<div class="example" id="example-2"> <p><strong>Example #2 <span class="function"><strong>Collator::getSortKey()</strong></span> example with <span class="function"><a href="function.usort" class="function">usort()</a></span></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$data = [
    [ 'name' =&gt; 'ðŸ‡³ðŸ‡± Derick Rethans', 'linked_account' =&gt; 'https://phpc.social/users/derickr' ],
    [ 'name' =&gt; 'Elephpant', 'linked_account' =&gt; 'https://phpc.social/phpc' ],
    [ 'name' =&gt; 'ðŸ‡«ðŸ‡· Marcus Bointon', 'linked_account' =&gt; 'https://phpc.social/users/Synchro' ],
];

/* Create the collator */
$col = new Collator('en');

/* Sort upper-case letters before lower-case letters */
$col-&gt;setAttribute(Collator::CASE_FIRST, Collator::UPPER_FIRST);

/* Use a user-defined function with sort, that strips out the emojis */
usort(
    $data,
    function($a, $b) use ($col) {
        /* Remove the character class 'S' (the Symbols), and remove whitespace
         * (with trim) */
        $aName = trim(preg_replace('/\p{S}+/u', '', $a['name']));
        $bName = trim(preg_replace('/\p{S}+/u', '', $b['name']));

                                /* Create the sort key */
        $aKey = $col-&gt;getSortKey($aName);
        $bKey = $col-&gt;getSortKey($bName);

                                /* Use the sort key to signal which element sorts first */
        return $aKey &lt;=&gt; $bKey;
    }
);

var_dump($data);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen">
<br> array(3) {<br> [0] =&gt;<br> array(2) {<br> 'name' =&gt;<br> string(25) "ðŸ‡³ðŸ‡± Derick Rethans"<br> 'linked_account' =&gt;<br> string(33) "https://phpc.social/users/derickr"<br> }<br> [1] =&gt;<br> array(2) {<br> 'name' =&gt;<br> string(9) "Elephpant"<br> 'linked_account' =&gt;<br> string(24) "https://phpc.social/phpc"<br> }<br> [2] =&gt;<br> array(2) {<br> 'name' =&gt;<br> string(25) "ðŸ‡«ðŸ‡· Marcus Bointon"<br> 'linked_account' =&gt;<br> string(33) "https://phpc.social/users/Synchro"<br> }<br> }<br> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-collator.getsortkey-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="function"><a href="collator.sort" class="function" rel="rdfs-seeAlso">collator_sort()</a> - Sort array using specified collator</span></li> <li><span class="function"><a href="collator.sortwithsortkeys" class="function" rel="rdfs-seeAlso">collator_sort_with_sort_keys()</a> - Sort array using specified collator and sort keys</span></li> </ul> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2025 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/collator.getsortkey.php" class="_attribution-link">https://www.php.net/manual/en/collator.getsortkey.php</a>
  </p>
</div>

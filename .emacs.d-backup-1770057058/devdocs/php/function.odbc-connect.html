<div id="function.odbc-connect" class="refentry"> <div class="refnamediv"> <h1 class="refname">odbc_connect</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">odbc_connect</span> â€” <span class="dc-title">Connect to a datasource</span></p> </div> <div class="refsect1 description" id="refsect1-function.odbc-connect-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">odbc_connect(
 string $dsn,
 ?string $user = null,
 ?string $password = null,
 int $cursor_option = SQL_CUR_USE_DRIVER
): Odbc\Connection|false</pre> <p class="simpara"> The connection id returned by this functions is needed by other ODBC functions. You can have multiple connections open at once as long as they either use different db or different credentials. </p> <p class="simpara"> With some ODBC drivers, executing a complex stored procedure may fail with an error similar to: "Cannot open a cursor on a stored procedure that has anything other than a single select statement in it". Using SQL_CUR_USE_ODBC may avoid that error. Also, some drivers don't support the optional row_number parameter in <span class="function"><a href="function.odbc-fetch-row" class="function">odbc_fetch_row()</a></span>. SQL_CUR_USE_ODBC might help in that case, too. </p> </div> <div class="refsect1 parameters" id="refsect1-function.odbc-connect-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">dsn</code></dt> <dd> <p class="para"> The database source name for the connection. Alternatively, a DSN-less connection string can be used. </p> </dd> <dt><code class="parameter">user</code></dt> <dd> <p class="para"> The username. This parameter is ignored if <code class="parameter">dsn</code> contains <code class="literal">uid</code>. To connect without specifying a <code class="parameter">user</code>, use <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </p> </dd> <dt><code class="parameter">password</code></dt> <dd> <p class="para"> The password. This parameter is ignored if <code class="parameter">dsn</code> contains <code class="literal">pwd</code>. To connect without specifying a <code class="parameter">password</code>, use <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </p> </dd> <dt><code class="parameter">cursor_option</code></dt> <dd> <p class="para"> This sets the type of cursor to be used for this connection. This parameter is not normally needed, but can be useful for working around problems with some ODBC drivers. </p> <span class="simpara"> The following constants are defined for cursortype: </span> 
<ul class="itemizedlist"> <li class="listitem"> <span class="simpara"> SQL_CUR_USE_IF_NEEDED </span> </li> <li class="listitem"> <span class="simpara"> SQL_CUR_USE_ODBC </span> </li> <li class="listitem"> <span class="simpara"> SQL_CUR_USE_DRIVER </span> </li> </ul> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.odbc-connect-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns an ODBC connection, or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.odbc-connect-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.4.0</td> <td> <code class="parameter">odbc</code> expects an <span class="classname"><strong class="classname">Odbc\Connection</strong></span> instance now; previously, a <span class="type"><a href="language.types.resource" class="type resource">resource</a></span> was expected. </td> </tr> <tr> <td>8.4.0</td> <td> This function returns a <span class="classname"><strong class="classname">Odbc\Connection</strong></span> instance now; previously, a <span class="type"><a href="language.types.resource" class="type resource">resource</a></span> was returned. </td> </tr> <tr> <td>8.4.0</td> <td> <code class="parameter">user</code> and <code class="parameter">password</code> are now nullable, they are now also optional and default to <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </td> </tr> <tr> <td>8.4.0</td> <td> Previously, using an empty string for <code class="parameter">password</code> would not include <code class="literal">pwd</code> in the generated connection string for <code class="parameter">dsn</code>. It is now generated to include a <code class="literal">pwd</code> which has an empty string as its value. To restore the previous behaviour <code class="parameter">password</code> can now be set to <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </td> </tr> <tr> <td>8.4.0</td> <td> Previously, if <code class="parameter">dsn</code> contained <code class="literal">uid</code> or <code class="literal">pwd</code> both <code class="parameter">user</code> and <code class="parameter">password</code> parameters were ignored. Now <code class="parameter">user</code> is only ignored if <code class="parameter">dsn</code> contains <code class="literal">uid</code>, and <code class="parameter">password</code> is only ignored if <code class="parameter">dsn</code> contains <code class="literal">pwd</code>. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.odbc-connect-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1"> <p><strong>Example #1 DSN-less connections</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Microsoft SQL Server using the SQL Native Client 10.0 ODBC Driver - allows connection to SQL 7, 2000, 2005 and 2008
$connection = odbc_connect("Driver={SQL Server Native Client 10.0};Server=$server;Database=$database;", $user, $password);

// Microsoft Access
$connection = odbc_connect("Driver={Microsoft Access Driver (*.mdb)};Dbq=$mdbFilename", $user, $password);

// Microsoft Excel
$excelFile = realpath('C:/ExcelData.xls');
$excelDir = dirname($excelFile);
$connection = odbc_connect("Driver={Microsoft Excel Driver (*.xls)};DriverId=790;Dbq=$excelFile;DefaultDir=$excelDir" , '', '');
?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.odbc-connect-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li>For persistent connections: <span class="function"><a href="function.odbc-pconnect" class="function" rel="rdfs-seeAlso">odbc_pconnect()</a> - Open a persistent database connection</span>
</li> </ul> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2025 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.odbc-connect.php" class="_attribution-link">https://www.php.net/manual/en/function.odbc-connect.php</a>
  </p>
</div>

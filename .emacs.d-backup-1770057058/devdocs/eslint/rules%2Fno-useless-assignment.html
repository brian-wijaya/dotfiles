<h1>no-useless-assignment</h1> 
<p>Disallow variable assignments when the value is not used</p>   <p><a href="https://en.wikipedia.org/wiki/Dead_store">Wikipedia describes a “dead store”</a> as follows:</p> <blockquote> <p>In computer programming, a local variable that is assigned a value but is not read by any subsequent instruction is referred to as a <strong>dead store</strong>.</p> </blockquote> <p>“Dead stores” waste processing and memory, so it is better to remove unnecessary assignments to variables.</p> <p>Also, if the author intended the variable to be used, there is likely a mistake around the dead store. For example,</p> <ul> <li>you should have used a stored value but forgot to do so.</li> <li>you made a mistake in the name of the variable to be stored.</li> </ul> <div class="code-wrapper"> <pre class="language-js line-numbers-mode"><code><span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token string">"x1234"</span><span class="token punctuation">;</span>    <span class="token comment">// this is a "dead store" - this value ("x1234") is never read</span>

id <span class="token operator">=</span> <span class="token function">generateId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">doSomethingWith</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <h2 id="rule-details" tabindex="-1">Rule Details</h2> <p>This rule aims to report variable assignments when the value is not used.</p> <p>Examples of <strong>incorrect</strong> code for this rule:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IG5vLXVzZWxlc3MtYXNzaWdubWVudDogXCJlcnJvclwiICovXG5cbmZ1bmN0aW9uIGZuMSgpIHtcbiAgICBsZXQgdiA9ICd1c2VkJztcbiAgICBkb1NvbWV0aGluZyh2KTtcbiAgICB2ID0gJ3VudXNlZCc7XG59XG5cbmZ1bmN0aW9uIGZuMigpIHtcbiAgICBsZXQgdiA9ICd1c2VkJztcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHYgPSAndW51c2VkJztcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGRvU29tZXRoaW5nKHYpO1xufVxuXG5mdW5jdGlvbiBmbjMoKSB7XG4gICAgbGV0IHYgPSAndXNlZCc7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICBkb1NvbWV0aGluZyh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2ID0gJ3VudXNlZCc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmbjQoKSB7XG4gICAgbGV0IHYgPSAndW51c2VkJztcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHYgPSAndXNlZCc7XG4gICAgICAgIGRvU29tZXRoaW5nKHYpO1xuICAgICAgICByZXR1cm5cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZuNSgpIHtcbiAgICBsZXQgdiA9ICd1c2VkJztcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIGxldCB2ID0gJ3VzZWQnO1xuICAgICAgICBjb25zb2xlLmxvZyh2KTtcbiAgICAgICAgdiA9ICd1bnVzZWQnO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyh2KTtcbn0ifQ==" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint no-useless-assignment: "error" */</span>

<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token eslint-marked eslint-message-id-1" title="This assigned value is not used in subsequent statements.">v</span> <span class="token operator">=</span> <span class="token string">'unused'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token eslint-marked eslint-message-id-1" title="This assigned value is not used in subsequent statements.">v</span> <span class="token operator">=</span> <span class="token string">'unused'</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token eslint-marked eslint-message-id-1" title="This assigned value is not used in subsequent statements.">v</span> <span class="token operator">=</span> <span class="token string">'unused'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token eslint-marked eslint-message-id-1" title="This assigned value is not used in subsequent statements.">v</span> <span class="token operator">=</span> <span class="token string">'unused'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token eslint-marked eslint-message-id-1" title="This assigned value is not used in subsequent statements.">v</span> <span class="token operator">=</span> <span class="token string">'unused'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code for this rule:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IG5vLXVzZWxlc3MtYXNzaWdubWVudDogXCJlcnJvclwiICovXG5cbmZ1bmN0aW9uIGZuMSgpIHtcbiAgICBsZXQgdiA9ICd1c2VkJztcbiAgICBkb1NvbWV0aGluZyh2KTtcbiAgICB2ID0gJ3VzZWQtMic7XG4gICAgZG9Tb21ldGhpbmcodik7XG59XG5cbmZ1bmN0aW9uIGZuMigpIHtcbiAgICBsZXQgdiA9ICd1c2VkJztcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHYgPSAndXNlZC0yJztcbiAgICAgICAgZG9Tb21ldGhpbmcodik7XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBkb1NvbWV0aGluZyh2KTtcbn1cblxuZnVuY3Rpb24gZm4zKCkge1xuICAgIGxldCB2ID0gJ3VzZWQnO1xuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgZG9Tb21ldGhpbmcodik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdiA9ICd1c2VkLTInO1xuICAgICAgICBkb1NvbWV0aGluZyh2KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZuNCgpIHtcbiAgICBsZXQgdiA9ICd1c2VkJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgZG9Tb21ldGhpbmcodik7XG4gICAgICAgIHYgPSAndXNlZCBpbiBuZXh0IGl0ZXJhdGlvbic7XG4gICAgfVxufSJ9" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint no-useless-assignment: "error" */</span>

<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    v <span class="token operator">=</span> <span class="token string">'used-2'</span><span class="token punctuation">;</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        v <span class="token operator">=</span> <span class="token string">'used-2'</span><span class="token punctuation">;</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        v <span class="token operator">=</span> <span class="token string">'used-2'</span><span class="token punctuation">;</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'used'</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        v <span class="token operator">=</span> <span class="token string">'used in next iteration'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p>This rule will not report variables that are never read. Because it’s clearly an unused variable. If you want it reported, please enable the <a href="no-useless-assignment./no-unused-vars">no-unused-vars</a> rule.</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IG5vLXVzZWxlc3MtYXNzaWdubWVudDogXCJlcnJvclwiICovXG5cbmZ1bmN0aW9uIGZuKCkge1xuICAgIGxldCB2ID0gJ3VudXNlZCc7XG4gICAgdiA9ICd1bnVzZWQtMidcbiAgICBkb1NvbWV0aGluZygpO1xufSJ9" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint no-useless-assignment: "error" */</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token string">'unused'</span><span class="token punctuation">;</span>
    v <span class="token operator">=</span> <span class="token string">'unused-2'</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<h2 id="known-limitations" tabindex="-1">Known Limitations</h2> <p>This rule does not report certain variable reassignments when they occur inside the <code>try</code> block. This is intentional because such assignments may still be observed within the corresponding <code>catch</code> block or after the <code>try-catch</code> structure, due to potential early exits or error handling logic.</p> <div class="code-wrapper"> <pre class="language-js line-numbers-mode"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> bar<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token function">unsafeFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> bar <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// `bar` is observed in the catch block</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
<span class="token keyword">function</span> <span class="token function">unsafeFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> bar<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// This assignment is relevant if unsafeFn() throws an error</span>
        <span class="token function">unsafeFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bar <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
        <span class="token comment">// Error handling</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>   
<span class="token keyword">function</span> <span class="token function">unsafeFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <h2 id="when-not-to-use-it" tabindex="-1">When Not To Use It</h2> <p>If you don’t want to be notified about values that are never read, you can safely disable this rule.</p> <h2 id="related-rules">Related Rules</h2> <ul class="related-rules__list" role="list"> <li class="related-rules__list__item"> <a href="no-unused-vars"> <span>no-unused-vars</span>  </a> </li> </ul> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v9.0.0-alpha.1.</p> <h2 id="further-reading">Further Reading</h2> <article class="resource">  <div class="resource__content"> <a href="https://en.wikipedia.org/wiki/Dead_store" class="resource__title"> Dead store - Wikipedia </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://rules.sonarsource.com/javascript/RSPEC-1854/" class="resource__title"> JavaScript static code analysis: Unused assignments should be removed </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://cwe.mitre.org/data/definitions/563.html" class="resource__title"> CWE - CWE-563: Assignment to Variable without Use (4.13) </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://wiki.sei.cmu.edu/confluence/display/c/MSC13-C.+Detect+and+remove+unused+values" class="resource__title"> MSC13-C. Detect and remove unused values - SEI CERT C Coding Standard - Confluence </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://wiki.sei.cmu.edu/confluence/display/java/MSC56-J.+Detect+and+remove+superfluous+code+and+values" class="resource__title"> MSC56-J. Detect and remove superfluous code and values - SEI CERT Oracle Coding Standard for Java - Confluence </a><br>  </div>  </article> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/no-useless-assignment.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/no-useless-assignment.js">Tests source</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/no-useless-assignment" class="_attribution-link">https://eslint.org/docs/latest/rules/no-useless-assignment</a>
  </p>
</div>

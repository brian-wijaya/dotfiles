<h1>prefer-destructuring</h1> 
<p>Require destructuring from arrays and/or objects</p> <div class="rule-categories" aria-label="Rule Categories">
<div class="rule-category"> <span class="rule-category__icon">üîß <span class="visually-hidden">Fixable</span></span> <p> Some problems reported by this rule are automatically fixable by the <code>--fix</code> <a href="prefer-destructuring../use/command-line-interface#--fix">command line</a> option </p> </div>
<div class="rule-category"> <span class="rule-category__icon">‚ùÑÔ∏è <span class="visually-hidden">Frozen</span></span> <p> This rule is currently <a href="prefer-destructuring../contribute/core-rules#frozen-rules">frozen</a> and is not accepting feature requests. </p> </div>
</div>   <p>With JavaScript ES6, a new syntax was added for creating variables from an array index or object property, called <a href="#further-reading">destructuring</a>. This rule enforces usage of destructuring instead of accessing a property through a member expression.</p> <h2 id="rule-details" tabindex="-1">Rule Details</h2> <h3 id="options" tabindex="-1">Options</h3> <p>This rule takes two arguments, both of which are objects. The first object parameter determines what types of destructuring the rule applies to.</p> <p>In the first object, there are two properties, <code>array</code> and <code>object</code>, that can be used to turn on or off the destructuring requirement for each of those types independently. By default, both are <code>true</code>.</p> <div class="code-wrapper"> <pre class="language-json line-numbers-mode"><code><span class="token punctuation">{</span>
  <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefer-destructuring"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token property">"array"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">"object"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <p>For example, the following configuration enforces only object destructuring, but not array destructuring:</p> <div class="code-wrapper"> <pre class="language-json line-numbers-mode"><code><span class="token punctuation">{</span>
  <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefer-destructuring"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token property">"object"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token property">"array"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <p>Examples of <strong>incorrect</strong> code for this rule:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IHByZWZlci1kZXN0cnVjdHVyaW5nOiBcImVycm9yXCIgKi9cblxuLy8gV2l0aCBgYXJyYXlgIGVuYWJsZWRcbmNvbnN0IGZvbyA9IGFycmF5WzBdO1xuYmFyLmJheiA9IGFycmF5WzBdO1xuXG4vLyBXaXRoIGBvYmplY3RgIGVuYWJsZWRcbmNvbnN0IHF1eCA9IG9iamVjdC5xdXg7XG5jb25zdCBxdXV4ID0gb2JqZWN0WydxdXV4J107In0=" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint prefer-destructuring: "error" */</span>

<span class="token comment">// With `array` enabled</span>
<span class="token keyword">const</span> <span class="token eslint-marked eslint-message-id-1" title="Use array destructuring.">foo <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>
<span class="token eslint-marked eslint-message-id-1" title="Use array destructuring.">bar<span class="token punctuation">.</span>baz <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>

<span class="token comment">// With `object` enabled</span>
<span class="token keyword">const</span> <span class="token eslint-marked eslint-message-id-2" title="Use object destructuring.">qux <span class="token operator">=</span> object<span class="token punctuation">.</span>qux</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token eslint-marked eslint-message-id-2" title="Use object destructuring.">quux <span class="token operator">=</span> object<span class="token punctuation">[</span><span class="token string">'quux'</span><span class="token punctuation">]</span></span><span class="token punctuation">;</span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code for this rule:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IHByZWZlci1kZXN0cnVjdHVyaW5nOiBcImVycm9yXCIgKi9cblxuLy8gV2l0aCBgYXJyYXlgIGVuYWJsZWRcbmNvbnN0IFsgZm9vIF0gPSBhcnJheTtcbmNvbnN0IGFyciA9IGFycmF5W3NvbWVJbmRleF07XG5bYmFyLmJhel0gPSBhcnJheTtcblxuXG4vLyBXaXRoIGBvYmplY3RgIGVuYWJsZWRcbmNvbnN0IHsgYmF6IH0gPSBvYmplY3Q7XG5cbmNvbnN0IG9iaiA9IG9iamVjdC5iYXI7XG5cbmxldCBiYXI7XG4oeyBiYXIgfSA9IG9iamVjdCk7In0=" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint prefer-destructuring: "error" */</span>

<span class="token comment">// With `array` enabled</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span> foo <span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> array<span class="token punctuation">[</span>someIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>bar<span class="token punctuation">.</span>baz<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">;</span>


<span class="token comment">// With `object` enabled</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> baz <span class="token punctuation">}</span> <span class="token operator">=</span> object<span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> object<span class="token punctuation">.</span>bar<span class="token punctuation">;</span>

<span class="token keyword">let</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div>
<p>Alternatively, you can use separate configurations for different assignment types. The first argument accepts two other keys instead of <code>array</code> and <code>object</code>.</p> <p>One key is <code>VariableDeclarator</code> and the other is <code>AssignmentExpression</code>, which can be used to control the destructuring requirement for each of those types independently. Each property is an object containing two properties, <code>array</code> and <code>object</code>, which can be used to control the destructuring requirement for each of <code>array</code> and <code>object</code> independently for variable declarations and assignment expressions. By default, <code>array</code> and <code>object</code> are set to <code>true</code> for both <code>VariableDeclarator</code> and <code>AssignmentExpression</code>.</p> <div class="code-wrapper"> <pre class="language-json line-numbers-mode"><code><span class="token punctuation">{</span>
  <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefer-destructuring"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token property">"VariableDeclarator"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"array"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">"object"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"AssignmentExpression"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"array"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">"object"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <p>Examples of <strong>correct</strong> code when object destructuring in <code>VariableDeclarator</code> is enforced:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IHByZWZlci1kZXN0cnVjdHVyaW5nOiBbXCJlcnJvclwiLCB7VmFyaWFibGVEZWNsYXJhdG9yOiB7b2JqZWN0OiB0cnVlfX1dICovXG5jb25zdCB7YmFyOiBmb299ID0gb2JqZWN0OyJ9" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint prefer-destructuring: ["error", {VariableDeclarator: {object: true}}] */</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">bar</span><span class="token operator">:</span> foo<span class="token punctuation">}</span> <span class="token operator">=</span> object<span class="token punctuation">;</span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code when array destructuring in <code>AssignmentExpression</code> is enforced:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IHByZWZlci1kZXN0cnVjdHVyaW5nOiBbXCJlcnJvclwiLCB7QXNzaWdubWVudEV4cHJlc3Npb246IHthcnJheTogdHJ1ZX19XSAqL1xuW2Jhcl0gPSBhcnJheTsifQ==" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint prefer-destructuring: ["error", {AssignmentExpression: {array: true}}] */</span>
<span class="token punctuation">[</span>bar<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">;</span>
</code></pre>
</div>
<h4 id="enforceforrenamedproperties" tabindex="-1">enforceForRenamedProperties</h4> <p>The rule has a second object argument with a single key, <code>enforceForRenamedProperties</code>, which determines whether the <code>object</code> destructuring applies to renamed variables.</p> <div class="code-wrapper"> <pre class="language-json line-numbers-mode"><code><span class="token punctuation">{</span>
  <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefer-destructuring"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"object"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"enforceForRenamedProperties"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <p>Examples of <strong>incorrect</strong> code when <code>enforceForRenamedProperties</code> is enabled:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IFwicHJlZmVyLWRlc3RydWN0dXJpbmdcIjogW1wiZXJyb3JcIiwgeyBcIm9iamVjdFwiOiB0cnVlIH0sIHsgXCJlbmZvcmNlRm9yUmVuYW1lZFByb3BlcnRpZXNcIjogdHJ1ZSB9XSAqL1xuY29uc3QgZm9vID0gb2JqZWN0LmJhcjsifQ==" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint "prefer-destructuring": ["error", { "object": true }, { "enforceForRenamedProperties": true }] */</span>
<span class="token keyword">const</span> <span class="token eslint-marked eslint-message-id-1" title="Use object destructuring.">foo <span class="token operator">=</span> object<span class="token punctuation">.</span>bar</span><span class="token punctuation">;</span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code when <code>enforceForRenamedProperties</code> is enabled:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IFwicHJlZmVyLWRlc3RydWN0dXJpbmdcIjogW1wiZXJyb3JcIiwgeyBcIm9iamVjdFwiOiB0cnVlIH0sIHsgXCJlbmZvcmNlRm9yUmVuYW1lZFByb3BlcnRpZXNcIjogdHJ1ZSB9XSAqL1xuY29uc3QgeyBiYXI6IGZvbyB9ID0gb2JqZWN0OyJ9" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint "prefer-destructuring": ["error", { "object": true }, { "enforceForRenamedProperties": true }] */</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> foo <span class="token punctuation">}</span> <span class="token operator">=</span> object<span class="token punctuation">;</span>
</code></pre>
</div>
<p>Examples of additional <strong>correct</strong> code when <code>enforceForRenamedProperties</code> is enabled:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJ0ZXh0IjoiLyogZXNsaW50IFwicHJlZmVyLWRlc3RydWN0dXJpbmdcIjogW1wiZXJyb3JcIiwgeyBcIm9iamVjdFwiOiB0cnVlIH0sIHsgXCJlbmZvcmNlRm9yUmVuYW1lZFByb3BlcnRpZXNcIjogdHJ1ZSB9XSAqL1xuY2xhc3MgQyB7XG4gICAgI3g7XG4gICAgZm9vKCkge1xuICAgICAgICBjb25zdCBiYXIgPSB0aGlzLiN4OyAvLyBwcml2YXRlIGlkZW50aWZpZXJzIGFyZSBub3QgYWxsb3dlZCBpbiBkZXN0cnVjdHVyaW5nXG4gICAgfVxufSJ9" target="_blank"> Open in Playground </a><pre class="language-javascript line-numbers-mode"><code><span class="token comment">/* eslint "prefer-destructuring": ["error", { "object": true }, { "enforceForRenamedProperties": true }] */</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    #x<span class="token punctuation">;</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#x<span class="token punctuation">;</span> <span class="token comment">// private identifiers are not allowed in destructuring</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p><strong>Note</strong>: It is not possible to determine if a variable will be referring to an object or an array at runtime. This rule therefore guesses the assignment type by checking whether the key being accessed is an integer. This can lead to the following possibly confusing situations:</p> <ul> <li>Accessing an object property whose key is an integer will fall under the category <code>array</code> destructuring.</li> <li>Accessing an array element through a computed index will fall under the category <code>object</code> destructuring.</li> </ul> <p>The <code>--fix</code> option on the command line fixes only problems reported in variable declarations, and among them only those that fall under the category <code>object</code> destructuring. Furthermore, the name of the declared variable has to be the same as the name used for non-computed member access in the initializer. For example, <code>const foo = object.foo</code> can be automatically fixed by this rule. Problems that involve computed member access (e.g., <code>const foo = object[foo]</code>) or renamed properties (e.g., <code>const foo = object.bar</code>) are not automatically fixed.</p> <h2 id="when-not-to-use-it" tabindex="-1">When Not To Use It</h2> <p>If you want to be able to access array indices or object properties directly, you can either configure the rule to your tastes or disable the rule entirely.</p> <p>Additionally, if you intend to access large array indices directly, like:</p> <div class="code-wrapper"> <pre class="language-javascript line-numbers-mode"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <p>Then the <code>array</code> part of this rule is not recommended, as destructuring does not match this use case very well.</p> <p>Or for non-iterable ‚Äòarray-like‚Äô objects:</p> <div class="code-wrapper"> <pre class="language-javascript line-numbers-mode"><code><span class="token keyword">const</span> $ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jquery'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>bar<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fails with a TypeError</span>
</code></pre> <button class="copy-btn" aria-labelledby="copy-button-label"> <span hidden id="copy-button-label">Copy code to clipboard</span>  </button> </div> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v3.13.0.</p> <h2 id="further-reading">Further Reading</h2> <article class="resource">  <div class="resource__content"> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" class="resource__title"> Destructuring assignment - JavaScript | MDN </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://2ality.com/2015/01/es6-destructuring.html" class="resource__title"> Destructuring and parameter handling in ECMAScript 6 </a><br>  </div>  </article> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/prefer-destructuring.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/prefer-destructuring.js">Tests source</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/prefer-destructuring" class="_attribution-link">https://eslint.org/docs/latest/rules/prefer-destructuring</a>
  </p>
</div>

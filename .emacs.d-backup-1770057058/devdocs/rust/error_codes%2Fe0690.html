<h1 id="error-code-e0690">Error code E0690</h1> <p>A struct with the representation hint <code>repr(transparent)</code> had two or more fields that were not guaranteed to be zero-sized.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[repr(transparent)]
struct LengthWithUnit&lt;U&gt; { // error: transparent struct needs at most one
    value: f32,            //        non-zero-sized field, but has 2
    unit: U,
}
}</pre> <p>Because transparent structs are represented exactly like one of their fields at run time, said field must be uniquely determined. If there are multiple fields, it is not clear how the struct should be represented. Note that fields of zero-sized types (e.g., <code>PhantomData</code>) can also exist alongside the field that contains the actual data, they do not count for this error. When generic types are involved (as in the above example), an error is reported because the type parameter could be non-zero-sized.</p> <p>To combine <code>repr(transparent)</code> with type parameters, <code>PhantomData</code> may be useful:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
use std::marker::PhantomData;

#[repr(transparent)]
struct LengthWithUnit&lt;U&gt; {
    value: f32,
    unit: PhantomData&lt;U&gt;,
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0690.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0690.html</a>
  </p>
</div>

<h1 id="error-code-e0311">Error code E0311</h1> <p>This error occurs when there is an unsatisfied outlives bound involving an elided region and a generic type parameter or associated type.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
fn no_restriction&lt;T&gt;(x: &amp;()) -&gt; &amp;() {
    with_restriction::&lt;T&gt;(x)
}

fn with_restriction&lt;'a, T: 'a&gt;(x: &amp;'a ()) -&gt; &amp;'a () {
    x
}
}</pre> <p>Why doesn't this code compile? It helps to look at the lifetime bounds that are automatically added by the compiler. For more details see the documentation for <a href="../reference/lifetime-elision">lifetime elision</a>.</p> <p>The compiler elides the lifetime of <code>x</code> and the return type to some arbitrary lifetime <code>'anon</code> in <code>no_restriction()</code>. The only information available to the compiler is that <code>'anon</code> is valid for the duration of the function. When calling <code>with_restriction()</code>, the compiler requires the completely unrelated type parameter <code>T</code> to outlive <code>'anon</code> because of the <code>T: 'a</code> bound in <code>with_restriction()</code>. This causes an error because <code>T</code> is not required to outlive <code>'anon</code> in <code>no_restriction()</code>.</p> <p>If <code>no_restriction()</code> were to use <code>&amp;T</code> instead of <code>&amp;()</code> as an argument, the compiler would have added an implied bound, causing this to compile.</p> <p>This error can be resolved by explicitly naming the elided lifetime for <code>x</code> and then explicitly requiring that the generic parameter <code>T</code> outlives that lifetime:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
fn no_restriction&lt;'a, T: 'a&gt;(x: &amp;'a ()) -&gt; &amp;'a () {
    with_restriction::&lt;T&gt;(x)
}

fn with_restriction&lt;'a, T: 'a&gt;(x: &amp;'a ()) -&gt; &amp;'a () {
    x
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0311.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0311.html</a>
  </p>
</div>

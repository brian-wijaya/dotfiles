 <h1 id="if-expressions">
<code id="">if</code> expressions</h1>  <div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-IfExpression"><a href="if-expr#railroad-IfExpression">IfExpression</a></span> → <br>
    <code class="grammar-literal">if</code> <span class="grammar-text"><a href="if-expr#grammar-Conditions">Conditions</a></span> <span class="grammar-text"><a href="block-expr#grammar-BlockExpression">BlockExpression</a></span> <br>
    ( <code class="grammar-literal">else</code> ( <span class="grammar-text"><a href="block-expr#grammar-BlockExpression">BlockExpression</a></span> | <span class="grammar-text"><a href="if-expr#grammar-IfExpression">IfExpression</a></span> ) )<sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-Conditions"><a href="if-expr#railroad-Conditions">Conditions</a></span> → <br>
      <span class="grammar-text"><a href="../expressions#grammar-Expression">Expression</a></span><sub class="grammar-text">except <a href="struct-expr#grammar-StructExpression">StructExpression</a></sub> <br>
    | <span class="grammar-text"><a href="if-expr#grammar-LetChain">LetChain</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-LetChain"><a href="if-expr#railroad-LetChain">LetChain</a></span> → <span class="grammar-text"><a href="if-expr#grammar-LetChainCondition">LetChainCondition</a></span> ( <code class="grammar-literal">&amp;&amp;</code> <span class="grammar-text"><a href="if-expr#grammar-LetChainCondition">LetChainCondition</a></span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-LetChainCondition"><a href="if-expr#railroad-LetChainCondition">LetChainCondition</a></span> → <br>
      <span class="grammar-text"><a href="../expressions#grammar-Expression">Expression</a></span><sub class="grammar-text">except <a href="if-expr#grammar-ExcludedConditions">ExcludedConditions</a></sub> <br>
    | <span class="grammar-text"><a href="../attributes#grammar-OuterAttribute">OuterAttribute</a></span><sup>*</sup> <code class="grammar-literal">let</code> <span class="grammar-text"><a href="../patterns#grammar-Pattern">Pattern</a></span> <code class="grammar-literal">=</code> <span class="grammar-text"><a href="match-expr#grammar-Scrutinee">Scrutinee</a></span><sub class="grammar-text">except <a href="if-expr#grammar-ExcludedConditions">ExcludedConditions</a></sub></p>
<p><span class="grammar-text grammar-production" id="grammar-ExcludedConditions"><a href="if-expr#railroad-ExcludedConditions">ExcludedConditions</a></span> → <br>
      <span class="grammar-text"><a href="struct-expr#grammar-StructExpression">StructExpression</a></span> <br>
    | <span class="grammar-text"><a href="operator-expr#grammar-LazyBooleanExpression">LazyBooleanExpression</a></span> <br>
    | <span class="grammar-text"><a href="range-expr#grammar-RangeExpr">RangeExpr</a></span> <br>
    | <span class="grammar-text"><a href="range-expr#grammar-RangeFromExpr">RangeFromExpr</a></span> <br>
    | <span class="grammar-text"><a href="range-expr#grammar-RangeInclusiveExpr">RangeInclusiveExpr</a></span> <br>
    | <span class="grammar-text"><a href="operator-expr#grammar-AssignmentExpression">AssignmentExpression</a></span> <br>
    | <span class="grammar-text"><a href="operator-expr#grammar-CompoundAssignmentExpression">CompoundAssignmentExpression</a></span></p>

<details class="grammar-railroad grammar-hidden"><summary>Syntax diagram</summary> <div style="width: 674px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-IfExpression">
<svg class="railroad" viewbox="0 0 674 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="if-expr#grammar-IfExpression"> <text class="comment" x="57" y="25"> IfExpression</text> </a> <g class="sequence"> <path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="36" x="35" y="55"></rect> <text x="53" y="71"> if</text> </g> <a class="link" xlink:href="if-expr#railroad-Conditions"> <g class="nonterminal"> <rect height="22" width="100" x="81" y="55"></rect> <text x="131" y="71"> Conditions</text> </g> </a> <a class="link" xlink:href="block-expr#railroad-BlockExpression"> <g class="nonterminal"> <rect height="22" width="140" x="191" y="55"></rect> <text x="261" y="71"> BlockExpression</text> </g> </a> <g class="optional"> <path d=" M 341 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 250 m -122 0 l -5 -5 m 0 10 l 5 -5 m 122 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="52" x="365" y="55"></rect> <text x="391" y="71"> else</text> </g> <g class="choice"> <path d=" M 427 66 h 24 m 140 0 h 24"></path> <a class="link" xlink:href="block-expr#railroad-BlockExpression"> <g class="nonterminal"> <rect height="22" width="140" x="451" y="55"></rect> <text x="521" y="71"> BlockExpression</text> </g> </a> <path d=" M 427 66 a 12 12 0 0 1 12 12 v 9 m 164 0 v -9 a 12 12 0 0 1 12 -12"></path> <path d=" M 439 87 v 0 a 12 12 0 0 0 12 12 m 116 0 h 24 a 12 12 0 0 0 12 -12 v 0"></path> <a class="link" xlink:href="if-expr#railroad-IfExpression"> <g class="nonterminal"> <rect height="22" width="116" x="451" y="88"></rect> <text x="509" y="104"> IfExpression</text> </g> </a> </g> <path d=" M 417 66 h 10"></path> </g> </g> <path d=" M 71 66 h 10"></path> <path d=" M 181 66 h 10"></path> <path d=" M 331 66 h 10"></path> </g> <path d=" M 649 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 66 h 10"></path> <path d=" M 639 66 h 10"></path> </g> </g> </svg> </div> <div style="width: 312px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Conditions">
<svg class="railroad" viewbox="0 0 312 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="if-expr#grammar-Conditions"> <text class="comment" x="50" y="25"> Conditions</text> </a> <g class="sequence"> <path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="choice"> <path d=" M 35 89 h 24 m 194 0 h 24"></path> <g class="sequence"> <g class="labeledbox"> <rect height="66" width="194" x="59" y="42"></rect> <path d=" M 59 89 h 8 m 100 0 h 86 m -40 0 l -5 -5 m 0 10 l 5 -5 m 40 0"></path> <text class="comment" x="156" y="65"> except StructExpression</text> <a class="link" xlink:href="../expressions#railroad-Expression"> <g class="nonterminal"> <rect height="22" width="100" x="67" y="78"></rect> <text x="117" y="94"> Expression</text> </g> </a> </g> </g> <path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 218 0 v -17 a 12 12 0 0 1 12 -12"></path> <path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 84 0 h 110 m -52 0 l -5 -5 m 0 10 l 5 -5 m 52 0 a 12 12 0 0 0 12 -12 v 0"></path> <a class="link" xlink:href="if-expr#railroad-LetChain"> <g class="nonterminal"> <rect height="22" width="84" x="59" y="119"></rect> <text x="101" y="135"> LetChain</text> </g> </a> </g> <path d=" M 287 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 89 h 10"></path> <path d=" M 277 89 h 10"></path> </g> </g> </svg> </div> <div style="width: 510px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LetChain">
<svg class="railroad" viewbox="0 0 510 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="if-expr#grammar-LetChain"> <text class="comment" x="43" y="25"> LetChain</text> </a> <g class="sequence"> <path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="sequence"> <a class="link" xlink:href="if-expr#railroad-LetChainCondition"> <g class="nonterminal"> <rect height="22" width="156" x="35" y="55"></rect> <text x="113" y="71"> LetChainCondition</text> </g> </a> <g class="optional"> <path d=" M 201 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 226 m -110 0 l -5 -5 m 0 10 l 5 -5 m 110 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="repeat"> <path d=" M 225 66 h 12 m 202 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -202 m 104 0 l 5 -5 m 0 10 l -5 -5 m -104 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"></path>  <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="36" x="237" y="55"></rect> <text x="255" y="71"> &amp;&amp;</text> </g> <a class="link" xlink:href="if-expr#railroad-LetChainCondition"> <g class="nonterminal"> <rect height="22" width="156" x="283" y="55"></rect> <text x="361" y="71"> LetChainCondition</text> </g> </a> <path d=" M 273 66 h 10"></path> </g> </g> </g> <path d=" M 191 66 h 10"></path> </g> <path d=" M 485 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 66 h 10"></path> <path d=" M 475 66 h 10"></path> </g> </g> </svg> </div> <div style="width: 718px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LetChainCondition">
<svg class="railroad" viewbox="0 0 718 199" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="if-expr#grammar-LetChainCondition"> <text class="comment" x="74" y="25"> LetChainCondition</text> </a> <g class="sequence"> <path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="choice"> <path d=" M 35 89 h 24 m 208 0 h 416 m -205 0 l -5 -5 m 0 10 l 5 -5 m 205 0"></path> <g class="sequence"> <g class="labeledbox"> <rect height="66" width="208" x="59" y="42"></rect> <path d=" M 59 89 h 8 m 100 0 h 100 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0"></path> <text class="comment" x="163" y="65"> except ExcludedConditions</text> <a class="link" xlink:href="../expressions#railroad-Expression"> <g class="nonterminal"> <rect height="22" width="100" x="67" y="78"></rect> <text x="117" y="94"> Expression</text> </g> </a> </g> </g> <path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 624 0 v -17 a 12 12 0 0 1 12 -12"></path> <path d=" M 47 118 v 35 a 12 12 0 0 0 12 12 m 600 0 h 0 a 12 12 0 0 0 12 -12 v -35"></path> <g class="sequence"> <g class="optional"> <path d=" M 59 165 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="repeat"> <path d=" M 83 165 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"></path>  <a class="link" xlink:href="../attributes#railroad-OuterAttribute"> <g class="nonterminal"> <rect height="22" width="132" x="95" y="154"></rect> <text x="161" y="170"> OuterAttribute</text> </g> </a> </g> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="44" x="273" y="154"></rect> <text x="295" y="170"> let</text> </g> <a class="link" xlink:href="../patterns#railroad-Pattern"> <g class="nonterminal"> <rect height="22" width="76" x="327" y="154"></rect> <text x="365" y="170"> Pattern</text> </g> </a> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="413" y="154"></rect> <text x="427" y="170"> =</text> </g> <g class="labeledbox"> <rect height="66" width="208" x="451" y="118"></rect> <path d=" M 451 165 h 8 m 92 0 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0"></path> <text class="comment" x="555" y="141"> except ExcludedConditions</text> <a class="link" xlink:href="match-expr#railroad-Scrutinee"> <g class="nonterminal"> <rect height="22" width="92" x="459" y="154"></rect> <text x="505" y="170"> Scrutinee</text> </g> </a> </g> <path d=" M 263 165 h 10"></path> <path d=" M 317 165 h 10"></path> <path d=" M 403 165 h 10"></path> <path d=" M 441 165 h 10"></path> </g> </g> <path d=" M 693 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 89 h 10"></path> <path d=" M 683 89 h 10"></path> </g> </g> </svg> </div> <div style="width: 370px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ExcludedConditions">
<svg class="railroad" viewbox="0 0 370 272" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="if-expr#grammar-ExcludedConditions"> <text class="comment" x="78" y="25"> ExcludedConditions</text> </a> <g class="sequence"> <path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="choice"> <path d=" M 35 53 h 24 m 148 0 h 128 m -61 0 l -5 -5 m 0 10 l 5 -5 m 61 0"></path> <g class="sequence"> <a class="link" xlink:href="struct-expr#railroad-StructExpression"> <g class="nonterminal"> <rect height="22" width="148" x="59" y="42"></rect> <text x="133" y="58"> StructExpression</text> </g> </a> </g> <path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 276 0 v -9 a 12 12 0 0 1 12 -12"></path> <path d=" M 47 74 v 33 m 276 0 v -33"></path> <path d=" M 47 107 v 33 m 276 0 v -33"></path> <path d=" M 47 140 v 33 m 276 0 v -33"></path> <path d=" M 47 173 v 33 m 276 0 v -33"></path> <path d=" M 47 206 v 33 m 276 0 v -33"></path> <path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 196 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="sequence"> <a class="link" xlink:href="operator-expr#railroad-LazyBooleanExpression"> <g class="nonterminal"> <rect height="22" width="196" x="59" y="75"></rect> <text x="157" y="91"> LazyBooleanExpression</text> </g> </a> </g> <path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 92 0 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="sequence"> <a class="link" xlink:href="range-expr#railroad-RangeExpr"> <g class="nonterminal"> <rect height="22" width="92" x="59" y="108"></rect> <text x="105" y="124"> RangeExpr</text> </g> </a> </g> <path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 124 0 h 128 m -61 0 l -5 -5 m 0 10 l 5 -5 m 61 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="sequence"> <a class="link" xlink:href="range-expr#railroad-RangeFromExpr"> <g class="nonterminal"> <rect height="22" width="124" x="59" y="141"></rect> <text x="121" y="157"> RangeFromExpr</text> </g> </a> </g> <path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 164 0 h 88 m -41 0 l -5 -5 m 0 10 l 5 -5 m 41 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="sequence"> <a class="link" xlink:href="range-expr#railroad-RangeInclusiveExpr"> <g class="nonterminal"> <rect height="22" width="164" x="59" y="174"></rect> <text x="141" y="190"> RangeInclusiveExpr</text> </g> </a> </g> <path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 188 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="sequence"> <a class="link" xlink:href="operator-expr#railroad-AssignmentExpression"> <g class="nonterminal"> <rect height="22" width="188" x="59" y="207"></rect> <text x="153" y="223"> AssignmentExpression</text> </g> </a> </g> <path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 252 0 h 0 a 12 12 0 0 0 12 -12 v 0"></path> <a class="link" xlink:href="operator-expr#railroad-CompoundAssignmentExpression"> <g class="nonterminal"> <rect height="22" width="252" x="59" y="240"></rect> <text x="185" y="256"> CompoundAssignmentExpression</text> </g> </a> </g> <path d=" M 345 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 53 h 10"></path> <path d=" M 335 53 h 10"></path> </g> </g> </svg> </div> </details>
</div>    <p>The syntax of an <code>if</code> expression is a sequence of one or more condition operands separated by <code>&amp;&amp;</code>, followed by a consequent block, any number of <code>else if</code> conditions and blocks, and an optional trailing <code>else</code> block.</p>  <p>Condition operands must be either an <a href="../expressions#grammar-Expression">Expression</a> with a <a href="../types/boolean">boolean type</a> or a conditional <code>let</code> match.</p>  <p>If all of the condition operands evaluate to <code>true</code> and all of the <code>let</code> patterns successfully match their <a href="../glossary#scrutinee">scrutinee</a>s, the consequent block is executed and any subsequent <code>else if</code> or <code>else</code> block is skipped.</p>  <p>If any condition operand evaluates to <code>false</code> or any <code>let</code> pattern does not match its scrutinee, the consequent block is skipped and any subsequent <code>else if</code> condition is evaluated.</p>  <p>If all <code>if</code> and <code>else if</code> conditions evaluate to <code>false</code> then any <code>else</code> block is executed.</p>  <p>An <code>if</code> expression evaluates to the same value as the executed block, or <code>()</code> if no block is evaluated.</p>  <p>An <code>if</code> expression must have the same type in all situations.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
let x = 3;
if x == 4 {
    println!("x is four");
} else if x == 3 {
    println!("x is three");
} else {
    println!("x is something else");
}

// `if` can be used as an expression.
let y = if 12 * 15 &gt; 150 {
    "Bigger"
} else {
    "Smaller"
};
assert_eq!(y, "Bigger");
}</pre>  <h2 id="if-let-patterns">
<code id="">if let</code> patterns</h2>  <p><code>let</code> patterns in an <code>if</code> condition allow binding new variables into scope when the pattern matches successfully.</p> <p>The following examples illustrate bindings using <code>let</code> patterns:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
let dish = ("Ham", "Eggs");

// This body will be skipped because the pattern is refuted.
if let ("Bacon", b) = dish {
    println!("Bacon is served with {}", b);
} else {
    // This block is evaluated instead.
    println!("No bacon will be served");
}

// This body will execute.
if let ("Ham", b) = dish {
    println!("Ham is served with {}", b);
}

if let _ = 5 {
    println!("Irrefutable patterns are always true");
}
}</pre>  <p>Multiple patterns may be specified with the <code>|</code> operator. This has the same semantics as with <code>|</code> in <a href="match-expr"><code>match</code> expressions</a>:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
enum E {
    X(u8),
    Y(u8),
    Z(u8),
}
let v = E::Y(12);
if let E::X(n) | E::Y(n) = v {
    assert_eq!(n, 12);
}
}</pre>  <h2 id="chains-of-conditions">Chains of conditions</h2>  <p>Multiple condition operands can be separated with <code>&amp;&amp;</code>.</p>  <p>Similar to a <code>&amp;&amp;</code> <a href="operator-expr#grammar-LazyBooleanExpression">LazyBooleanExpression</a>, each operand is evaluated from left-to-right until an operand evaluates as <code>false</code> or a <code>let</code> match fails, in which case the subsequent operands are not evaluated.</p>  <p>The bindings of each pattern are put into scope to be available for the next condition operand and the consequent block.</p> <p>The following is an example of chaining multiple expressions, mixing <code>let</code> bindings and boolean expressions, and with expressions able to reference pattern bindings from previous expressions:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
fn single() {
    let outer_opt = Some(Some(1i32));

    if let Some(inner_opt) = outer_opt
        &amp;&amp; let Some(number) = inner_opt
        &amp;&amp; number == 1
    {
        println!("Peek a boo");
    }
}
}</pre> <p>The above is equivalent to the following without using chains of conditions:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
fn nested() {
    let outer_opt = Some(Some(1i32));

    if let Some(inner_opt) = outer_opt {
        if let Some(number) = inner_opt {
            if number == 1 {
                println!("Peek a boo");
            }
        }
    }
}
}</pre>  <p>If any condition operand is a <code>let</code> pattern, then none of the condition operands can be a <code>||</code> <a href="operator-expr#r-expr.bool-logic">lazy boolean operator expression</a> due to ambiguity and precedence with the <code>let</code> scrutinee. If a <code>||</code> expression is needed, then parentheses can be used. For example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
let foo = Some(123);
let condition1 = true;
let condition2 = false;
// Parentheses are required here.
if let Some(x) = foo &amp;&amp; (condition1 || condition2) { /*...*/ }
}</pre>  <div class="alert alert-edition"> <blockquote> <p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p> <p>Before the 2024 edition, let chains are not supported. That is, the <a href="if-expr#grammar-LetChain">LetChain</a> grammar is not allowed in an <code>if</code> expression.</p> </blockquote> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/expressions/if-expr.html" class="_attribution-link">https://doc.rust-lang.org/reference/expressions/if-expr.html</a>
  </p>
</div>

<h1 id="error-code-e0644">Error code E0644</h1> <p>A closure or generator was constructed that references its own type.</p> <p>Erroneous code example:</p> <pre data-language="rust">fn fix&lt;F&gt;(f: &amp;F)
  where F: Fn(&amp;F)
{
    f(&amp;f);
}

fn main() {
    fix(&amp;|y| {
        // Here, when `x` is called, the parameter `y` is equal to `x`.
    });
}</pre> <p>Rust does not permit a closure to directly reference its own type, either through an argument (as in the example above) or by capturing itself through its environment. This restriction helps keep closure inference tractable.</p> <p>The easiest fix is to rewrite your closure into a top-level function, or into a method. In some cases, you may also be able to have your closure call itself by capturing a <code>&amp;Fn()</code> object or <code>fn()</code> pointer that refers to itself. That is permitting, since the closure would be invoking itself via a virtual call, and hence does not directly reference its own <em>type</em>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0644.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0644.html</a>
  </p>
</div>

<h1 class="main-heading">Module fs </h1>
<p>Filesystem manipulation operations.</p> <p>This module contains basic methods to manipulate the contents of the local filesystem. All methods in this module represent cross-platform filesystem operations. Extra platform-specific functionality can be found in the extension traits of <code>std::os::$platform</code>.</p> <h2 id="time-of-check-to-time-of-use-toctou">Time of Check to Time of Use (TOCTOU)</h2> <p>Many filesystem operations are subject to a race condition known as “Time of Check to Time of Use” (TOCTOU). This occurs when a program checks a condition (like file existence or permissions) and then uses the result of that check to make a decision, but the condition may have changed between the check and the use.</p> <p>For example, checking if a file exists and then creating it if it doesn’t is vulnerable to TOCTOU - another process could create the file between your check and creation attempt.</p> <p>Another example is with symbolic links: when removing a directory, if another process replaces the directory with a symbolic link between the check and the removal operation, the removal might affect the wrong location. This is why operations like <a href="fn.remove_dir_all" title="fn std::fs::remove_dir_all"><code>remove_dir_all</code></a> need to use atomic operations to prevent such race conditions.</p> <p>To avoid TOCTOU issues:</p> <ul> <li>Be aware that metadata operations (like <a href="fn.metadata" title="fn std::fs::metadata"><code>metadata</code></a> or <a href="fn.symlink_metadata" title="fn std::fs::symlink_metadata"><code>symlink_metadata</code></a>) may be affected by changes made by other processes.</li> <li>Use atomic operations when possible (like <a href="struct.file#method.create_new" title="associated function std::fs::File::create_new"><code>File::create_new</code></a> instead of checking existence then creating).</li> <li>Keep file open for the duration of operations.</li> </ul> <h3 id="structs" class="section-header">Structs</h3>
<dl class="item-table">
<dt><a class="struct" href="struct.dirbuilder" title="struct std::fs::DirBuilder">DirBuilder</a></dt>
<dd>A builder used to create directories in various manners.</dd>
<dt><a class="struct" href="struct.direntry" title="struct std::fs::DirEntry">DirEntry</a></dt>
<dd>Entries returned by the <a href="struct.readdir" title="struct std::fs::ReadDir"><code>ReadDir</code></a> iterator.</dd>
<dt><a class="struct" href="struct.file" title="struct std::fs::File">File</a></dt>
<dd>An object providing access to an open file on the filesystem.</dd>
<dt><a class="struct" href="struct.filetimes" title="struct std::fs::FileTimes">File<wbr>Times</wbr></a></dt>
<dd>Representation of the various timestamps on a file.</dd>
<dt><a class="struct" href="struct.filetype" title="struct std::fs::FileType">File<wbr>Type</wbr></a></dt>
<dd>A structure representing a type of file with accessors for each file type. It is returned by <a href="struct.metadata#method.file_type" title="method std::fs::Metadata::file_type"><code>Metadata::file_type</code></a> method.</dd>
<dt><a class="struct" href="struct.metadata" title="struct std::fs::Metadata">Metadata</a></dt>
<dd>Metadata information about a file.</dd>
<dt><a class="struct" href="struct.openoptions" title="struct std::fs::OpenOptions">Open<wbr>Options</wbr></a></dt>
<dd>Options and flags which can be used to configure how a file is opened.</dd>
<dt><a class="struct" href="struct.permissions" title="struct std::fs::Permissions">Permissions</a></dt>
<dd>Representation of the various permissions on a file.</dd>
<dt><a class="struct" href="struct.readdir" title="struct std::fs::ReadDir">ReadDir</a></dt>
<dd>Iterator over the entries in a directory.</dd>
</dl>
<h3 id="enums" class="section-header">Enums</h3>
<dl class="item-table">
<dt><a class="enum" href="enum.trylockerror" title="enum std::fs::TryLockError">TryLock<wbr>Error</wbr></a></dt>
<dd>An enumeration of possible errors which can occur while trying to acquire a lock from the <a href="struct.file#method.try_lock" title="method std::fs::File::try_lock"><code>try_lock</code></a> method and <a href="struct.file#method.try_lock_shared" title="method std::fs::File::try_lock_shared"><code>try_lock_shared</code></a> method on a <a href="struct.file" title="struct std::fs::File"><code>File</code></a>.</dd>
</dl>
<h3 id="functions" class="section-header">Functions</h3>
<dl class="item-table">
<dt><a class="fn" href="fn.canonicalize" title="fn std::fs::canonicalize">canonicalize</a></dt>
<dd>Returns the canonical, absolute form of a path with all intermediate components normalized and symbolic links resolved.</dd>
<dt><a class="fn" href="fn.copy" title="fn std::fs::copy">copy</a></dt>
<dd>Copies the contents of one file to another. This function will also copy the permission bits of the original file to the destination file.</dd>
<dt><a class="fn" href="fn.create_dir" title="fn std::fs::create_dir">create_<wbr>dir</wbr></a></dt>
<dd>Creates a new, empty directory at the provided path</dd>
<dt><a class="fn" href="fn.create_dir_all" title="fn std::fs::create_dir_all">create_<wbr>dir_<wbr>all</wbr></wbr></a></dt>
<dd>Recursively create a directory and all of its parent components if they are missing.</dd>
<dt><a class="fn" href="fn.exists" title="fn std::fs::exists">exists</a></dt>
<dd>Returns <code>Ok(true)</code> if the path points at an existing entity.</dd>
<dt><a class="fn" href="fn.hard_link" title="fn std::fs::hard_link">hard_<wbr>link</wbr></a></dt>
<dd>Creates a new hard link on the filesystem.</dd>
<dt><a class="fn" href="fn.metadata" title="fn std::fs::metadata">metadata</a></dt>
<dd>Given a path, queries the file system to get information about a file, directory, etc.</dd>
<dt><a class="fn" href="fn.read" title="fn std::fs::read">read</a></dt>
<dd>Reads the entire contents of a file into a bytes vector.</dd>
<dt><a class="fn" href="fn.read_dir" title="fn std::fs::read_dir">read_<wbr>dir</wbr></a></dt>
<dd>Returns an iterator over the entries within a directory.</dd>
<dt><a class="fn" href="fn.read_link" title="fn std::fs::read_link">read_<wbr>link</wbr></a></dt>
<dd>Reads a symbolic link, returning the file that the link points to.</dd>
<dt><a class="fn" href="fn.read_to_string" title="fn std::fs::read_to_string">read_<wbr>to_<wbr>string</wbr></wbr></a></dt>
<dd>Reads the entire contents of a file into a string.</dd>
<dt><a class="fn" href="fn.remove_dir" title="fn std::fs::remove_dir">remove_<wbr>dir</wbr></a></dt>
<dd>Removes an empty directory.</dd>
<dt><a class="fn" href="fn.remove_dir_all" title="fn std::fs::remove_dir_all">remove_<wbr>dir_<wbr>all</wbr></wbr></a></dt>
<dd>Removes a directory at this path, after removing all its contents. Use carefully!</dd>
<dt><a class="fn" href="fn.remove_file" title="fn std::fs::remove_file">remove_<wbr>file</wbr></a></dt>
<dd>Removes a file from the filesystem.</dd>
<dt><a class="fn" href="fn.rename" title="fn std::fs::rename">rename</a></dt>
<dd>Renames a file or directory to a new name, replacing the original file if <code>to</code> already exists.</dd>
<dt><a class="fn" href="fn.set_permissions" title="fn std::fs::set_permissions">set_<wbr>permissions</wbr></a></dt>
<dd>Changes the permissions found on a file or a directory.</dd>
<dt>
<a class="fn" href="fn.soft_link" title="fn std::fs::soft_link">soft_<wbr>link</wbr></a><wbr><span class="stab deprecated" title="">Deprecated</span></wbr>
</dt>
<dd>Creates a new symbolic link on the filesystem.</dd>
<dt><a class="fn" href="fn.symlink_metadata" title="fn std::fs::symlink_metadata">symlink_<wbr>metadata</wbr></a></dt>
<dd>Queries the metadata about a file without following symlinks.</dd>
<dt><a class="fn" href="fn.write" title="fn std::fs::write">write</a></dt>
<dd>Writes a slice as the entire contents of a file.</dd>
<dt>
<a class="fn" href="fn.set_permissions_nofollow" title="fn std::fs::set_permissions_nofollow">set_<wbr>permissions_<wbr>nofollow</wbr></wbr></a><wbr><span class="stab unstable" title="">Experimental</span></wbr>
</dt>
<dd>Set the permissions of a file, unless it is a symlink.</dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/fs/index.html" class="_attribution-link">https://doc.rust-lang.org/std/fs/index.html</a>
  </p>
</div>

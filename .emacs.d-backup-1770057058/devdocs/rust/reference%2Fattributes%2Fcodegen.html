 <h1 id="code-generation-attributes">Code generation attributes</h1> <p>The following <a href="../attributes">attributes</a> are used for controlling code generation.</p>   <h3 id="the-inline-attribute">The <code id="">inline</code> attribute</h3>  <p>The <em><code>inline</code> <a href="../attributes">attribute</a></em> suggests whether a copy of the attributed function’s code should be placed in the caller rather than generating a call to the function.</p> <div class="alert alert-example"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[inline]
pub fn example1() {}

#[inline(always)]
pub fn example2() {}

#[inline(never)]
pub fn example3() {}
}</pre> </blockquote> </div> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> automatically inlines functions when doing so seems worthwhile. Use this attribute carefully as poor decisions about what to inline can slow down programs.</p> </blockquote> </div>  <p>The syntax for the <code>inline</code> attribute is:</p> <div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-InlineAttribute"><a href="codegen#railroad-InlineAttribute">InlineAttribute</a></span> → <br>
      <code class="grammar-literal">inline</code> <code class="grammar-literal">(</code> <code class="grammar-literal">always</code> <code class="grammar-literal">)</code> <br>
    | <code class="grammar-literal">inline</code> <code class="grammar-literal">(</code> <code class="grammar-literal">never</code> <code class="grammar-literal">)</code> <br>
    | <code class="grammar-literal">inline</code></p>

<details class="grammar-railroad grammar-hidden"><summary>Syntax diagram</summary> <div style="width: 340px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-InlineAttribute">
<svg class="railroad" viewbox="0 0 340 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="codegen#grammar-InlineAttribute"> <text class="comment" x="67" y="25"> InlineAttribute</text> </a> <g class="sequence"> <path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="choice"> <path d=" M 35 53 h 24 m 222 0 h 24"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="68" x="59" y="42"></rect> <text x="93" y="58"> inline</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="137" y="42"></rect> <text x="151" y="58"> (</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="68" x="175" y="42"></rect> <text x="209" y="58"> always</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="253" y="42"></rect> <text x="267" y="58"> )</text> </g> <path d=" M 127 53 h 10"></path> <path d=" M 165 53 h 10"></path> <path d=" M 243 53 h 10"></path> </g> <path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 246 0 v -9 a 12 12 0 0 1 12 -12"></path> <path d=" M 47 74 v 33 m 246 0 v -33"></path> <path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 214 0 h 8 a 12 12 0 0 0 12 -12 v 0"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="68" x="59" y="75"></rect> <text x="93" y="91"> inline</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="137" y="75"></rect> <text x="151" y="91"> (</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="60" x="175" y="75"></rect> <text x="205" y="91"> never</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="245" y="75"></rect> <text x="259" y="91"> )</text> </g> <path d=" M 127 86 h 10"></path> <path d=" M 165 86 h 10"></path> <path d=" M 235 86 h 10"></path> </g> <path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 68 0 h 154 m -74 0 l -5 -5 m 0 10 l 5 -5 m 74 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="terminal"> <rect height="22" rx="10" ry="10" width="68" x="59" y="108"></rect> <text x="93" y="124"> inline</text> </g> </g> <path d=" M 315 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 53 h 10"></path> <path d=" M 305 53 h 10"></path> </g> </g> </svg> </div> </details>
</div>   <p>The <code>inline</code> attribute may only be applied to functions with <a href="../items/functions#r-items.fn.body">bodies</a> — <a href="../expressions/closure-expr#r-expr.closure">closures</a>, <a href="../expressions/block-expr#r-expr.block.async">async blocks</a>, <a href="../items/functions#r-items.fn">free functions</a>, <a href="../items/associated-items#r-items.associated.fn">associated functions</a> in an <a href="../items/implementations#r-items.impl.inherent">inherent impl</a> or <a href="../items/implementations#r-items.impl.trait">trait impl</a>, and associated functions in a <a href="../items/traits#r-items.traits">trait definition</a> when those functions have a <a href="../items/traits#r-items.traits.associated-item-decls">default definition</a> .</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> ignores use in other positions but lints against it. This may become an error in the future.</p> </blockquote> </div> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>Though the attribute can be applied to <a href="../expressions/closure-expr#r-expr.closure">closures</a> and <a href="../expressions/block-expr#r-expr.block.async">async blocks</a>, the usefulness of this is limited as we do not yet support attributes on expressions.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
// We allow attributes on statements.
#[inline] || (); // OK
#[inline] async {}; // OK
}</pre> <pre data-language="rust">#![allow(unused)]
fn main() {
// We don't yet allow attributes on expressions.
let f = #[inline] || (); // ERROR
}</pre> </blockquote> </div>  <p>Only the first use of <code>inline</code> on a function has effect.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> lints against any use following the first. This may become an error in the future.</p> </blockquote> </div>  <p>The <code>inline</code> attribute supports these modes:</p> <ul> <li>
<code>#[inline]</code> <em>suggests</em> performing inline expansion.</li> <li>
<code>#[inline(always)]</code> <em>suggests</em> that inline expansion should always be performed.</li> <li>
<code>#[inline(never)]</code> <em>suggests</em> that inline expansion should never be performed.</li> </ul> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>In every form the attribute is a hint. The compiler may ignore it.</p> </blockquote> </div>  <p>When <code>inline</code> is applied to a function in a <a href="../items/traits#r-items.traits">trait</a>, it applies only to the code of the <a href="../items/traits#r-items.traits.associated-item-decls">default definition</a>.</p>  <p>When <code>inline</code> is applied to an <a href="../items/functions#r-items.fn.async">async function</a> or <a href="../expressions/closure-expr#r-expr.closure.async">async closure</a>, it applies only to the code of the generated <code>poll</code> function.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>For more details, see <a href="https://github.com/rust-lang/rust/issues/129347">Rust issue #129347</a>.</p> </blockquote> </div>  <p>The <code>inline</code> attribute is ignored if the function is externally exported with <a href="../abi#r-abi.no_mangle"><code>no_mangle</code></a> or <a href="../abi#r-abi.export_name"><code>export_name</code></a>.</p>   <h3 id="the-cold-attribute">The <code id="">cold</code> attribute</h3>  <p>The <em><code>cold</code> <a href="../attributes">attribute</a></em> suggests that the attributed function is unlikely to be called which may help the compiler produce better code.</p> <div class="alert alert-example"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[cold]
pub fn example() {}
}</pre> </blockquote> </div>  <p>The <code>cold</code> attribute uses the <a href="../attributes#grammar-MetaWord">MetaWord</a> syntax.</p>  <p>The <code>cold</code> attribute may only be applied to functions with <a href="../items/functions#r-items.fn.body">bodies</a> — <a href="../expressions/closure-expr#r-expr.closure">closures</a>, <a href="../expressions/block-expr#r-expr.block.async">async blocks</a>, <a href="../items/functions#r-items.fn">free functions</a>, <a href="../items/associated-items#r-items.associated.fn">associated functions</a> in an <a href="../items/implementations#r-items.impl.inherent">inherent impl</a> or <a href="../items/implementations#r-items.impl.trait">trait impl</a>, and associated functions in a <a href="../items/traits#r-items.traits">trait definition</a> when those functions have a <a href="../items/traits#r-items.traits.associated-item-decls">default definition</a> .</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> ignores use in other positions but lints against it. This may become an error in the future.</p> </blockquote> </div> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>Though the attribute can be applied to <a href="../expressions/closure-expr#r-expr.closure">closures</a> and <a href="../expressions/block-expr#r-expr.block.async">async blocks</a>, the usefulness of this is limited as we do not yet support attributes on expressions.</p> </blockquote> </div>   <p>Only the first use of <code>cold</code> on a function has effect.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> lints against any use following the first. This may become an error in the future.</p> </blockquote> </div>  <p>When <code>cold</code> is applied to a function in a <a href="../items/traits#r-items.traits">trait</a>, it applies only to the code of the <a href="../items/traits#r-items.traits.associated-item-decls">default definition</a>.</p>  <h2 id="the-naked-attribute">The <code id="">naked</code> attribute</h2>  <p>The <em><code>naked</code> <a href="../attributes">attribute</a></em> prevents the compiler from emitting a function prologue and epilogue for the attributed function.</p>  <p>The <a href="../items/functions#function-body">function body</a> must consist of exactly one <a href="../inline-assembly"><code>naked_asm!</code></a> macro invocation.</p>  <p>No function prologue or epilogue is generated for the attributed function. The assembly code in the <code>naked_asm!</code> block constitutes the full body of a naked function.</p>  <p>The <code>naked</code> attribute is an <a href="../attributes#r-attributes.safety">unsafe attribute</a>. Annotating a function with <code>#[unsafe(naked)]</code> comes with the safety obligation that the body must respect the function’s calling convention, uphold its signature, and either return or diverge (i.e., not fall through past the end of the assembly code).</p>  <p>The assembly code may assume that the call stack and register state are valid on entry as per the signature and calling convention of the function.</p>  <p>The assembly code may not be duplicated by the compiler except when monomorphizing polymorphic functions.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>Guaranteeing when the assembly code may or may not be duplicated is important for naked functions that define symbols.</p> </blockquote> </div>  <p>The <a href="https://doc.rust-lang.org/rustc/lints/listing/warn-by-default.html#unused-variables"><code>unused_variables</code></a> lint is suppressed within naked functions.</p>  <p>The <a href="#the-inline-attribute"><code>inline</code></a> attribute cannot by applied to a naked function.</p>  <p>The <a href="#the-track_caller-attribute"><code>track_caller</code></a> attribute cannot be applied to a naked function.</p>  <p>The <a href="testing">testing attributes</a> cannot be applied to a naked function.</p>   <h2 id="the-no_builtins-attribute">The <code id="">no_builtins</code> attribute</h2>  <p>The <em><code>no_builtins</code> <a href="../attributes">attribute</a></em> disables optimization of certain code patterns related to calls to library functions that are assumed to exist.</p>  <div class="alert alert-example"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p> <pre data-language="rust">#![allow(unused)]
#![no_builtins]
fn main() {
}</pre> </blockquote> </div>  <p>The <code>no_builtins</code> attribute uses the <a href="../attributes#grammar-MetaWord">MetaWord</a> syntax.</p>  <p>The <code>no_builtins</code> attribute can only be applied to the crate root.</p>  <p>Only the first use of the <code>no_builtins</code> attribute has effect.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> lints against any use following the first.</p> </blockquote> </div>  <h2 id="the-target_feature-attribute">The <code id="">target_feature</code> attribute</h2>  <p>The <em><code>target_feature</code> <a href="../attributes">attribute</a></em> may be applied to a function to enable code generation of that function for specific platform architecture features. It uses the <a href="../attributes#grammar-MetaListNameValueStr">MetaListNameValueStr</a> syntax with a single key of <code>enable</code> whose value is a string of comma-separated feature names to enable.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[cfg(target_feature = "avx2")]
#[target_feature(enable = "avx2")]
fn foo_avx2() {}
}</pre>  <p>Each <a href="../conditional-compilation#target_arch">target architecture</a> has a set of features that may be enabled. It is an error to specify a feature for a target architecture that the crate is not being compiled for.</p>  <p>Closures defined within a <code>target_feature</code>-annotated function inherit the attribute from the enclosing function.</p>  <p>It is <a href="../behavior-considered-undefined">undefined behavior</a> to call a function that is compiled with a feature that is not supported on the current platform the code is running on, <em>except</em> if the platform explicitly documents this to be safe.</p>  <p>The following restrictions apply unless otherwise specified by the platform rules below:</p> <ul> <li>Safe <code>#[target_feature]</code> functions (and closures that inherit the attribute) can only be safely called within a caller that enables all the <code>target_feature</code>s that the callee enables. This restriction does not apply in an <code>unsafe</code> context.</li> <li>Safe <code>#[target_feature]</code> functions (and closures that inherit the attribute) can only be coerced to <em>safe</em> function pointers in contexts that enable all the <code>target_feature</code>s that the coercee enables. This restriction does not apply to <code>unsafe</code> function pointers.</li> </ul> <p>Implicitly enabled features are included in this rule. For example an <code>sse2</code> function can call ones marked with <code>sse</code>.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[cfg(target_feature = "sse2")] {
#[target_feature(enable = "sse")]
fn foo_sse() {}

fn bar() {
    // Calling `foo_sse` here is unsafe, as we must ensure that SSE is
    // available first, even if `sse` is enabled by default on the target
    // platform or manually enabled as compiler flags.
    unsafe {
        foo_sse();
    }
}

#[target_feature(enable = "sse")]
fn bar_sse() {
    // Calling `foo_sse` here is safe.
    foo_sse();
    || foo_sse();
}

#[target_feature(enable = "sse2")]
fn bar_sse2() {
    // Calling `foo_sse` here is safe because `sse2` implies `sse`.
    foo_sse();
}
}
}</pre>  <p>A function with a <code>#[target_feature]</code> attribute <em>never</em> implements the <code>Fn</code> family of traits, although closures inheriting features from the enclosing function do.</p>  <p>The <code>#[target_feature]</code> attribute is not allowed on the following places:</p> <ul> <li><a href="../crates-and-source-files#r-crate.main">the <code>main</code> function</a></li> <li>a <a href="../panic#r-panic.panic_handler"><code>panic_handler</code> function</a>
</li> <li>safe trait methods</li> <li>safe default functions in traits</li> </ul>  <p>Functions marked with <code>target_feature</code> are not inlined into a context that does not support the given features. The <code>#[inline(always)]</code> attribute may not be used with a <code>target_feature</code> attribute.</p>  <h3 id="available-features">Available features</h3> <p>The following is a list of the available feature names.</p>  <h4 id="x86-or-x86_64">
<code id="">x86</code> or <code>x86_64</code>
</h4> <p>Executing code with unsupported features is undefined behavior on this platform. Hence on this platform usage of <code>#[target_feature]</code> functions follows the <a href="codegen#r-attributes.codegen.target_feature.safety-restrictions">above restrictions</a>.</p> <div class="table-wrapper">
<table>
<thead><tr>
<th>Feature</th>
<th>Implicitly Enables</th>
<th>Description</th>
</tr></thead>
<tbody> <tr>
<td><code>adx</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/Intel_ADX">ADX</a> — Multi-Precision Add-Carry Instruction Extensions</td>
</tr> <tr>
<td><code>aes</code></td>
<td><code>sse2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AES_instruction_set">AES</a> — Advanced Encryption Standard</td>
</tr> <tr>
<td><code>avx</code></td>
<td><code>sse4.2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions">AVX</a> — Advanced Vector Extensions</td>
</tr> <tr>
<td><code>avx2</code></td>
<td><code>avx</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX2">AVX2</a> — Advanced Vector Extensions 2</td>
</tr> <tr>
<td><code>avx512bf16</code></td>
<td><code>avx512bw</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#BF16">AVX512-BF16</a> — Advanced Vector Extensions 512-bit - Bfloat16 Extensions</td>
</tr> <tr>
<td><code>avx512bitalg</code></td>
<td><code>avx512bw</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VPOPCNTDQ_and_BITALG">AVX512-BITALG</a> — Advanced Vector Extensions 512-bit - Bit Algorithms</td>
</tr> <tr>
<td><code>avx512bw</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI">AVX512-BW</a> — Advanced Vector Extensions 512-bit - Byte and Word Instructions</td>
</tr> <tr>
<td><code>avx512cd</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#Conflict_detection">AVX512-CD</a> — Advanced Vector Extensions 512-bit - Conflict Detection Instructions</td>
</tr> <tr>
<td><code>avx512dq</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI">AVX512-DQ</a> — Advanced Vector Extensions 512-bit - Doubleword and Quadword Instructions</td>
</tr> <tr>
<td><code>avx512f</code></td>
<td>
<code>avx2</code>, <code>fma</code>, <code>f16c</code>
</td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512">AVX512-F</a> — Advanced Vector Extensions 512-bit - Foundation</td>
</tr> <tr>
<td><code>avx512fp16</code></td>
<td><code>avx512bw</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#FP16">AVX512-FP16</a> — Advanced Vector Extensions 512-bit - Float16 Extensions</td>
</tr> <tr>
<td><code>avx512ifma</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#IFMA">AVX512-IFMA</a> — Advanced Vector Extensions 512-bit - Integer Fused Multiply Add</td>
</tr> <tr>
<td><code>avx512vbmi</code></td>
<td><code>avx512bw</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#BW,_DQ_and_VBMI">AVX512-VBMI</a> — Advanced Vector Extensions 512-bit - Vector Byte Manipulation Instructions</td>
</tr> <tr>
<td><code>avx512vbmi2</code></td>
<td><code>avx512bw</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VBMI2">AVX512-VBMI2</a> — Advanced Vector Extensions 512-bit - Vector Byte Manipulation Instructions 2</td>
</tr> <tr>
<td><code>avx512vl</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512">AVX512-VL</a> — Advanced Vector Extensions 512-bit - Vector Length Extensions</td>
</tr> <tr>
<td><code>avx512vnni</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VNNI">AVX512-VNNI</a> — Advanced Vector Extensions 512-bit - Vector Neural Network Instructions</td>
</tr> <tr>
<td><code>avx512vp2intersect</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VP2INTERSECT">AVX512-VP2INTERSECT</a> — Advanced Vector Extensions 512-bit - Vector Pair Intersection to a Pair of Mask Registers</td>
</tr> <tr>
<td><code>avx512vpopcntdq</code></td>
<td><code>avx512f</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VPOPCNTDQ_and_BITALG">AVX512-VPOPCNTDQ</a> — Advanced Vector Extensions 512-bit - Vector Population Count Instruction</td>
</tr> <tr>
<td><code>avxifma</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA">AVX-IFMA</a> — Advanced Vector Extensions - Integer Fused Multiply Add</td>
</tr> <tr>
<td><code>avxneconvert</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA">AVX-NE-CONVERT</a> — Advanced Vector Extensions - No-Exception Floating-Point conversion Instructions</td>
</tr> <tr>
<td><code>avxvnni</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA">AVX-VNNI</a> — Advanced Vector Extensions - Vector Neural Network Instructions</td>
</tr> <tr>
<td><code>avxvnniint16</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA">AVX-VNNI-INT16</a> — Advanced Vector Extensions - Vector Neural Network Instructions with 16-bit Integers</td>
</tr> <tr>
<td><code>avxvnniint8</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-VNNI,_AVX-IFMA">AVX-VNNI-INT8</a> — Advanced Vector Extensions - Vector Neural Network Instructions with 8-bit Integers</td>
</tr> <tr>
<td><code>bmi1</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/Bit_Manipulation_Instruction_Sets">BMI1</a> — Bit Manipulation Instruction Sets</td>
</tr> <tr>
<td><code>bmi2</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/Bit_Manipulation_Instruction_Sets#BMI2">BMI2</a> — Bit Manipulation Instruction Sets 2</td>
</tr> <tr>
<td><code>cmpxchg16b</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/cmpxchg8b:cmpxchg16b"><code>cmpxchg16b</code></a> — Compares and exchange 16 bytes (128 bits) of data atomically</td>
</tr> <tr>
<td><code>f16c</code></td>
<td><code>avx</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/F16C">F16C</a> — 16-bit floating point conversion instructions</td>
</tr> <tr>
<td><code>fma</code></td>
<td><code>avx</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/FMA_instruction_set">FMA3</a> — Three-operand fused multiply-add</td>
</tr> <tr>
<td><code>fxsr</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/fxsave"><code>fxsave</code></a> and <a href="https://www.felixcloutier.com/x86/fxrstor"><code>fxrstor</code></a> — Save and restore x87 FPU, MMX Technology, and SSE State</td>
</tr> <tr>
<td><code>gfni</code></td>
<td><code>sse2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#GFNI">GFNI</a> — Galois Field New Instructions</td>
</tr> <tr>
<td><code>kl</code></td>
<td><code>sse2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_Key_Locker_instructions">KEYLOCKER</a> — Intel Key Locker Instructions</td>
</tr> <tr>
<td><code>lzcnt</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/lzcnt"><code>lzcnt</code></a> — Leading zeros count</td>
</tr> <tr>
<td><code>movbe</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/movbe"><code>movbe</code></a> — Move data after swapping bytes</td>
</tr> <tr>
<td><code>pclmulqdq</code></td>
<td><code>sse2</code></td>
<td>
<a href="https://www.felixcloutier.com/x86/pclmulqdq"><code>pclmulqdq</code></a> — Packed carry-less multiplication quadword</td>
</tr> <tr>
<td><code>popcnt</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/popcnt"><code>popcnt</code></a> — Count of bits set to 1</td>
</tr> <tr>
<td><code>rdrand</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/RdRand"><code>rdrand</code></a> — Read random number</td>
</tr> <tr>
<td><code>rdseed</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/RdRand"><code>rdseed</code></a> — Read random seed</td>
</tr> <tr>
<td><code>sha</code></td>
<td><code>sse2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Intel_SHA_extensions">SHA</a> — Secure Hash Algorithm</td>
</tr> <tr>
<td><code>sha512</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/Intel_SHA_extensions">SHA512</a> — Secure Hash Algorithm with 512-bit digest</td>
</tr> <tr>
<td><code>sm3</code></td>
<td><code>avx</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_SHA_and_SM3_instructions">SM3</a> — ShangMi 3 Hash Algorithm</td>
</tr> <tr>
<td><code>sm4</code></td>
<td><code>avx2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_SHA_and_SM3_instructions">SM4</a> — ShangMi 4 Cipher Algorithm</td>
</tr> <tr>
<td><code>sse</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/Streaming_SIMD_Extensions">SSE</a> — Streaming <abbr title="Single Instruction Multiple Data">SIMD</abbr> Extensions</td>
</tr> <tr>
<td><code>sse2</code></td>
<td><code>sse</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/SSE2">SSE2</a> — Streaming SIMD Extensions 2</td>
</tr> <tr>
<td><code>sse3</code></td>
<td><code>sse2</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/SSE3">SSE3</a> — Streaming SIMD Extensions 3</td>
</tr> <tr>
<td><code>sse4.1</code></td>
<td><code>ssse3</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/SSE4#SSE4.1">SSE4.1</a> — Streaming SIMD Extensions 4.1</td>
</tr> <tr>
<td><code>sse4.2</code></td>
<td><code>sse4.1</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/SSE4#SSE4.2">SSE4.2</a> — Streaming SIMD Extensions 4.2</td>
</tr> <tr>
<td><code>sse4a</code></td>
<td><code>sse3</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/SSE4#SSE4a">SSE4a</a> — Streaming SIMD Extensions 4a</td>
</tr> <tr>
<td><code>ssse3</code></td>
<td><code>sse3</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/SSSE3">SSSE3</a> — Supplemental Streaming SIMD Extensions 3</td>
</tr> <tr>
<td><code>tbm</code></td>
<td></td>
<td>
<a href="https://en.wikipedia.org/wiki/X86_Bit_manipulation_instruction_set#TBM_(Trailing_Bit_Manipulation)">TBM</a> — Trailing Bit Manipulation</td>
</tr> <tr>
<td><code>vaes</code></td>
<td>
<code>avx2</code>, <code>aes</code>
</td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VAES">VAES</a> — Vector AES Instructions</td>
</tr> <tr>
<td><code>vpclmulqdq</code></td>
<td>
<code>avx</code>, <code>pclmulqdq</code>
</td>
<td>
<a href="https://en.wikipedia.org/wiki/AVX-512#VPCLMULQDQ">VPCLMULQDQ</a> — Vector Carry-less multiplication of Quadwords</td>
</tr> <tr>
<td><code>widekl</code></td>
<td><code>kl</code></td>
<td>
<a href="https://en.wikipedia.org/wiki/List_of_x86_cryptographic_instructions#Intel_Key_Locker_instructions">KEYLOCKER_WIDE</a> — Intel Wide Keylocker Instructions</td>
</tr> <tr>
<td><code>xsave</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/xsave"><code>xsave</code></a> — Save processor extended states</td>
</tr> <tr>
<td><code>xsavec</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/xsavec"><code>xsavec</code></a> — Save processor extended states with compaction</td>
</tr> <tr>
<td><code>xsaveopt</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/xsaveopt"><code>xsaveopt</code></a> — Save processor extended states optimized</td>
</tr> <tr>
<td><code>xsaves</code></td>
<td></td>
<td>
<a href="https://www.felixcloutier.com/x86/xsaves"><code>xsaves</code></a> — Save processor extended states supervisor</td>
</tr> </tbody>
</table> </div>  <h4 id="aarch64"><code id="">aarch64</code></h4> <p>On this platform the usage of <code>#[target_feature]</code> functions follows the <a href="codegen#r-attributes.codegen.target_feature.safety-restrictions">above restrictions</a>.</p> <p>Further documentation on these features can be found in the <a href="https://developer.arm.com/documentation/ddi0487/latest">ARM Architecture Reference Manual</a>, or elsewhere on <a href="https://developer.arm.com">developer.arm.com</a>.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>The following pairs of features should both be marked as enabled or disabled together if used:</p> <ul> <li>
<code>paca</code> and <code>pacg</code>, which LLVM currently implements as one feature.</li> </ul> </blockquote> </div> <div class="table-wrapper">
<table>
<thead><tr>
<th>Feature</th>
<th>Implicitly Enables</th>
<th>Feature Name</th>
</tr></thead>
<tbody> <tr>
<td><code>aes</code></td>
<td><code>neon</code></td>
<td>FEAT_AES &amp; FEAT_PMULL — Advanced <abbr title="Single Instruction Multiple Data">SIMD</abbr> AES &amp; PMULL instructions</td>
</tr> <tr>
<td><code>bf16</code></td>
<td></td>
<td>FEAT_BF16 — BFloat16 instructions</td>
</tr> <tr>
<td><code>bti</code></td>
<td></td>
<td>FEAT_BTI — Branch Target Identification</td>
</tr> <tr>
<td><code>crc</code></td>
<td></td>
<td>FEAT_CRC — CRC32 checksum instructions</td>
</tr> <tr>
<td><code>dit</code></td>
<td></td>
<td>FEAT_DIT — Data Independent Timing instructions</td>
</tr> <tr>
<td><code>dotprod</code></td>
<td><code>neon</code></td>
<td>FEAT_DotProd — Advanced SIMD Int8 dot product instructions</td>
</tr> <tr>
<td><code>dpb</code></td>
<td></td>
<td>FEAT_DPB — Data cache clean to point of persistence</td>
</tr> <tr>
<td><code>dpb2</code></td>
<td><code>dpb</code></td>
<td>FEAT_DPB2 — Data cache clean to point of deep persistence</td>
</tr> <tr>
<td><code>f32mm</code></td>
<td><code>sve</code></td>
<td>FEAT_F32MM — SVE single-precision FP matrix multiply instruction</td>
</tr> <tr>
<td><code>f64mm</code></td>
<td><code>sve</code></td>
<td>FEAT_F64MM — SVE double-precision FP matrix multiply instruction</td>
</tr> <tr>
<td><code>fcma</code></td>
<td><code>neon</code></td>
<td>FEAT_FCMA — Floating point complex number support</td>
</tr> <tr>
<td><code>fhm</code></td>
<td><code>fp16</code></td>
<td>FEAT_FHM — Half-precision FP FMLAL instructions</td>
</tr> <tr>
<td><code>flagm</code></td>
<td></td>
<td>FEAT_FLAGM — Conditional flag manipulation</td>
</tr> <tr>
<td><code>fp16</code></td>
<td><code>neon</code></td>
<td>FEAT_FP16 — Half-precision FP data processing</td>
</tr> <tr>
<td><code>frintts</code></td>
<td></td>
<td>FEAT_FRINTTS — Floating-point to int helper instructions</td>
</tr> <tr>
<td><code>i8mm</code></td>
<td></td>
<td>FEAT_I8MM — Int8 Matrix Multiplication</td>
</tr> <tr>
<td><code>jsconv</code></td>
<td><code>neon</code></td>
<td>FEAT_JSCVT — JavaScript conversion instruction</td>
</tr> <tr>
<td><code>lor</code></td>
<td></td>
<td>FEAT_LOR — Limited Ordering Regions extension</td>
</tr> <tr>
<td><code>lse</code></td>
<td></td>
<td>FEAT_LSE — Large System Extensions</td>
</tr> <tr>
<td><code>mte</code></td>
<td></td>
<td>FEAT_MTE &amp; FEAT_MTE2 — Memory Tagging Extension</td>
</tr> <tr>
<td><code>neon</code></td>
<td></td>
<td>FEAT_AdvSimd &amp; FEAT_FP — Floating Point and Advanced SIMD extension</td>
</tr> <tr>
<td><code>paca</code></td>
<td></td>
<td>FEAT_PAUTH — Pointer Authentication (address authentication)</td>
</tr> <tr>
<td><code>pacg</code></td>
<td></td>
<td>FEAT_PAUTH — Pointer Authentication (generic authentication)</td>
</tr> <tr>
<td><code>pan</code></td>
<td></td>
<td>FEAT_PAN — Privileged Access-Never extension</td>
</tr> <tr>
<td><code>pmuv3</code></td>
<td></td>
<td>FEAT_PMUv3 — Performance Monitors extension (v3)</td>
</tr> <tr>
<td><code>rand</code></td>
<td></td>
<td>FEAT_RNG — Random Number Generator</td>
</tr> <tr>
<td><code>ras</code></td>
<td></td>
<td>FEAT_RAS &amp; FEAT_RASv1p1 — Reliability, Availability and Serviceability extension</td>
</tr> <tr>
<td><code>rcpc</code></td>
<td></td>
<td>FEAT_LRCPC — Release consistent Processor Consistent</td>
</tr> <tr>
<td><code>rcpc2</code></td>
<td><code>rcpc</code></td>
<td>FEAT_LRCPC2 — RcPc with immediate offsets</td>
</tr> <tr>
<td><code>rdm</code></td>
<td><code>neon</code></td>
<td>FEAT_RDM — Rounding Double Multiply accumulate</td>
</tr> <tr>
<td><code>sb</code></td>
<td></td>
<td>FEAT_SB — Speculation Barrier</td>
</tr> <tr>
<td><code>sha2</code></td>
<td><code>neon</code></td>
<td>FEAT_SHA1 &amp; FEAT_SHA256 — Advanced SIMD SHA instructions</td>
</tr> <tr>
<td><code>sha3</code></td>
<td><code>sha2</code></td>
<td>FEAT_SHA512 &amp; FEAT_SHA3 — Advanced SIMD SHA instructions</td>
</tr> <tr>
<td><code>sm4</code></td>
<td><code>neon</code></td>
<td>FEAT_SM3 &amp; FEAT_SM4 — Advanced SIMD SM3/4 instructions</td>
</tr> <tr>
<td><code>spe</code></td>
<td></td>
<td>FEAT_SPE — Statistical Profiling Extension</td>
</tr> <tr>
<td><code>ssbs</code></td>
<td></td>
<td>FEAT_SSBS &amp; FEAT_SSBS2 — Speculative Store Bypass Safe</td>
</tr> <tr>
<td><code>sve</code></td>
<td><code>neon</code></td>
<td>FEAT_SVE — Scalable Vector Extension</td>
</tr> <tr>
<td><code>sve2</code></td>
<td><code>sve</code></td>
<td>FEAT_SVE2 — Scalable Vector Extension 2</td>
</tr> <tr>
<td><code>sve2-aes</code></td>
<td>
<code>sve2</code>, <code>aes</code>
</td>
<td>FEAT_SVE_AES &amp; FEAT_SVE_PMULL128 — SVE AES instructions</td>
</tr> <tr>
<td><code>sve2-bitperm</code></td>
<td><code>sve2</code></td>
<td>FEAT_SVE2_BitPerm — SVE Bit Permute</td>
</tr> <tr>
<td><code>sve2-sha3</code></td>
<td>
<code>sve2</code>, <code>sha3</code>
</td>
<td>FEAT_SVE2_SHA3 — SVE SHA3 instructions</td>
</tr> <tr>
<td><code>sve2-sm4</code></td>
<td>
<code>sve2</code>, <code>sm4</code>
</td>
<td>FEAT_SVE2_SM4 — SVE SM4 instructions</td>
</tr> <tr>
<td><code>tme</code></td>
<td></td>
<td>FEAT_TME — Transactional Memory Extension</td>
</tr> <tr>
<td><code>vh</code></td>
<td></td>
<td>FEAT_VHE — Virtualization Host Extensions</td>
</tr> </tbody>
</table> </div>
 <h4 id="loongarch"><code id="">loongarch</code></h4> <p>On this platform the usage of <code>#[target_feature]</code> functions follows the <a href="codegen#r-attributes.codegen.target_feature.safety-restrictions">above restrictions</a>.</p> <div class="table-wrapper">
<table>
<thead><tr>
<th>Feature</th>
<th>Implicitly Enables</th>
<th>Description</th>
</tr></thead>
<tbody> <tr>
<td><code>f</code></td>
<td></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-fp_sp">F</a> — Single-precision float-point instructions</td>
</tr> <tr>
<td><code>d</code></td>
<td><code>f</code></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-fp_dp">D</a> — Double-precision float-point instructions</td>
</tr> <tr>
<td><code>frecipe</code></td>
<td></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-frecipe">FRECIPE</a> — Reciprocal approximation instructions</td>
</tr> <tr>
<td><code>lasx</code></td>
<td><code>lsx</code></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lasx">LASX</a> — 256-bit vector instructions</td>
</tr> <tr>
<td><code>lbt</code></td>
<td></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lbt_x86">LBT</a> — Binary translation instructions</td>
</tr> <tr>
<td><code>lsx</code></td>
<td><code>d</code></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lsx">LSX</a> — 128-bit vector instructions</td>
</tr> <tr>
<td><code>lvz</code></td>
<td></td>
<td>
<a href="https://loongson.github.io/LoongArch-Documentation/LoongArch-Vol1-EN.html#cpucfg-lvz">LVZ</a> — Virtualization instructions</td>
</tr> </tbody>
</table> </div>  <h4 id="riscv32-or-riscv64">
<code id="">riscv32</code> or <code>riscv64</code>
</h4> <p>On this platform the usage of <code>#[target_feature]</code> functions follows the <a href="codegen#r-attributes.codegen.target_feature.safety-restrictions">above restrictions</a>.</p> <p>Further documentation on these features can be found in their respective specification. Many specifications are described in the <a href="https://github.com/riscv/riscv-isa-manual">RISC-V ISA Manual</a> or in another manual hosted on the <a href="https://github.com/riscv">RISC-V GitHub Account</a>.</p> <div class="table-wrapper">
<table>
<thead><tr>
<th>Feature</th>
<th>Implicitly Enables</th>
<th>Description</th>
</tr></thead>
<tbody> <tr>
<td><code>a</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-isa-manual/blob/de46343a245c6ee1f7b1a40c92fe1a86bd4f4978/src/a-st-ext.adoc">A</a> — Atomic instructions</td>
</tr> <tr>
<td><code>c</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-isa-manual/blob/de46343a245c6ee1f7b1a40c92fe1a86bd4f4978/src/c-st-ext.adoc">C</a> — Compressed instructions</td>
</tr> <tr>
<td><code>m</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-isa-manual/blob/de46343a245c6ee1f7b1a40c92fe1a86bd4f4978/src/m-st-ext.adoc">M</a> — Integer Multiplication and Division instructions</td>
</tr> <tr>
<td><code>zb</code></td>
<td>
<code>zba</code>, <code>zbc</code>, <code>zbs</code>
</td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip">Zb</a> — Bit Manipulation instructions</td>
</tr> <tr>
<td><code>zba</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zba.adoc">Zba</a> — Address Generation instructions</td>
</tr> <tr>
<td><code>zbb</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zbb.adoc">Zbb</a> — Basic bit-manipulation</td>
</tr> <tr>
<td><code>zbc</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zbc.adoc">Zbc</a> — Carry-less multiplication</td>
</tr> <tr>
<td><code>zbkb</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zbkb.adoc">Zbkb</a> — Bit Manipulation Instructions for Cryptography</td>
</tr> <tr>
<td><code>zbkc</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zbc.adoc">Zbkc</a> — Carry-less multiplication for Cryptography</td>
</tr> <tr>
<td><code>zbkx</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zbkx.adoc">Zbkx</a> — Crossbar permutations</td>
</tr> <tr>
<td><code>zbs</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-bitmanip/blob/main/bitmanip/zbs.adoc">Zbs</a> — Single-bit instructions</td>
</tr> <tr>
<td><code>zk</code></td>
<td>
<code>zkn</code>, <code>zkr</code>, <code>zks</code>, <code>zkt</code>, <code>zbkb</code>, <code>zbkc</code>, <code>zkbx</code>
</td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zk.adoc">Zk</a> — Scalar Cryptography</td>
</tr> <tr>
<td><code>zkn</code></td>
<td>
<code>zknd</code>, <code>zkne</code>, <code>zknh</code>, <code>zbkb</code>, <code>zbkc</code>, <code>zkbx</code>
</td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zkn.adoc">Zkn</a> — NIST Algorithm suite extension</td>
</tr> <tr>
<td><code>zknd</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zknd.adoc">Zknd</a> — NIST Suite: AES Decryption</td>
</tr> <tr>
<td><code>zkne</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zkne.adoc">Zkne</a> — NIST Suite: AES Encryption</td>
</tr> <tr>
<td><code>zknh</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zknh.adoc">Zknh</a> — NIST Suite: Hash Function Instructions</td>
</tr> <tr>
<td><code>zkr</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zkr.adoc">Zkr</a> — Entropy Source Extension</td>
</tr> <tr>
<td><code>zks</code></td>
<td>
<code>zksed</code>, <code>zksh</code>, <code>zbkb</code>, <code>zbkc</code>, <code>zkbx</code>
</td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zks.adoc">Zks</a> — ShangMi Algorithm Suite</td>
</tr> <tr>
<td><code>zksed</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zksed.adoc">Zksed</a> — ShangMi Suite: SM4 Block Cipher Instructions</td>
</tr> <tr>
<td><code>zksh</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zksh.adoc">Zksh</a> — ShangMi Suite: SM3 Hash Function Instructions</td>
</tr> <tr>
<td><code>zkt</code></td>
<td></td>
<td>
<a href="https://github.com/riscv/riscv-crypto/blob/e2dd7d98b7f34d477e38cb5fd7a3af4379525189/doc/scalar/riscv-crypto-scalar-zkt.adoc">Zkt</a> — Data Independent Execution Latency Subset</td>
</tr> </tbody>
</table> </div>  <h4 id="wasm32-or-wasm64">
<code id="">wasm32</code> or <code>wasm64</code>
</h4> <p>Safe <code>#[target_feature]</code> functions may always be used in safe contexts on Wasm platforms. It is impossible to cause undefined behavior via the <code>#[target_feature]</code> attribute because attempting to use instructions unsupported by the Wasm engine will fail at load time without the risk of being interpreted in a way different from what the compiler expected.</p> <div class="table-wrapper">
<table>
<thead><tr>
<th>Feature</th>
<th>Implicitly Enables</th>
<th>Description</th>
</tr></thead>
<tbody> <tr>
<td><code>bulk-memory</code></td>
<td></td>
<td><a href="https://github.com/WebAssembly/bulk-memory-operations">WebAssembly bulk memory operations proposal</a></td>
</tr> <tr>
<td><code>extended-const</code></td>
<td></td>
<td><a href="https://github.com/WebAssembly/extended-const">WebAssembly extended const expressions proposal</a></td>
</tr> <tr>
<td><code>mutable-globals</code></td>
<td></td>
<td><a href="https://github.com/WebAssembly/mutable-global">WebAssembly mutable global proposal</a></td>
</tr> <tr>
<td><code>nontrapping-fptoint</code></td>
<td></td>
<td><a href="https://github.com/WebAssembly/nontrapping-float-to-int-conversions">WebAssembly non-trapping float-to-int conversion proposal</a></td>
</tr> <tr>
<td><code>relaxed-simd</code></td>
<td><code>simd128</code></td>
<td><a href="https://github.com/WebAssembly/relaxed-simd">WebAssembly relaxed simd proposal</a></td>
</tr> <tr>
<td><code>sign-ext</code></td>
<td></td>
<td><a href="https://github.com/WebAssembly/sign-extension-ops">WebAssembly sign extension operators Proposal</a></td>
</tr> <tr>
<td><code>simd128</code></td>
<td></td>
<td><a href="https://github.com/webassembly/simd">WebAssembly simd proposal</a></td>
</tr> <tr>
<td><code>multivalue</code></td>
<td></td>
<td><a href="https://github.com/webassembly/multi-value">WebAssembly multivalue proposal</a></td>
</tr> <tr>
<td><code>reference-types</code></td>
<td></td>
<td><a href="https://github.com/webassembly/reference-types">WebAssembly reference-types proposal</a></td>
</tr> <tr>
<td><code>tail-call</code></td>
<td></td>
<td><a href="https://github.com/webassembly/tail-call">WebAssembly tail-call proposal</a></td>
</tr> </tbody>
</table> </div>
 <h3 id="additional-information">Additional information</h3>  <p>See the <a href="../conditional-compilation#target_feature"><code>target_feature</code> conditional compilation option</a> for selectively enabling or disabling compilation of code based on compile-time settings. Note that this option is not affected by the <code>target_feature</code> attribute, and is only driven by the features enabled for the entire crate.</p>  <p>See the <a href="../../std/arch/macro.is_x86_feature_detected"><code>is_x86_feature_detected</code></a> or <a href="../../std/arch/macro.is_aarch64_feature_detected"><code>is_aarch64_feature_detected</code></a> macros in the standard library for runtime feature detection on these platforms.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> has a default set of features enabled for each target and CPU. The CPU may be chosen with the <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html#target-cpu"><code>-C target-cpu</code></a> flag. Individual features may be enabled or disabled for an entire crate with the <a href="https://doc.rust-lang.org/rustc/codegen-options/index.html#target-feature"><code>-C target-feature</code></a> flag.</p> </blockquote> </div>  <h2 id="the-track_caller-attribute">The <code id="">track_caller</code> attribute</h2>  <p>The <code>track_caller</code> attribute may be applied to any function with <a href="../items/external-blocks#abi"><code>"Rust"</code> ABI</a> with the exception of the entry point <code>fn main</code>.</p>  <p>When applied to functions and methods in trait declarations, the attribute applies to all implementations. If the trait provides a default implementation with the attribute, then the attribute also applies to override implementations.</p>  <p>When applied to a function in an <code>extern</code> block the attribute must also be applied to any linked implementations, otherwise undefined behavior results. When applied to a function which is made available to an <code>extern</code> block, the declaration in the <code>extern</code> block must also have the attribute, otherwise undefined behavior results.</p>  <h3 id="behavior">Behavior</h3> <p>Applying the attribute to a function <code>f</code> allows code within <code>f</code> to get a hint of the <a href="https://doc.rust-lang.org/core/panic/location/struct.Location.html"><code>Location</code></a> of the “topmost” tracked call that led to <code>f</code>’s invocation. At the point of observation, an implementation behaves as if it walks up the stack from <code>f</code>’s frame to find the nearest frame of an <em>unattributed</em> function <code>outer</code>, and it returns the <a href="https://doc.rust-lang.org/core/panic/location/struct.Location.html"><code>Location</code></a> of the tracked call in <code>outer</code>.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[track_caller]
fn f() {
    println!("{}", std::panic::Location::caller());
}
}</pre> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>core</code> provides <a href="https://doc.rust-lang.org/core/panic/location/struct.Location.html#method.caller"><code>core::panic::Location::caller</code></a> for observing caller locations. It wraps the <a href="https://doc.rust-lang.org/core/intrinsics/fn.caller_location.html"><code>core::intrinsics::caller_location</code></a> intrinsic implemented by <code>rustc</code>.</p> </blockquote> </div> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>Because the resulting <code>Location</code> is a hint, an implementation may halt its walk up the stack early. See <a href="#limitations">Limitations</a> for important caveats.</p> </blockquote> </div> <h4 id="examples">Examples</h4> <p>When <code>f</code> is called directly by <code>calls_f</code>, code in <code>f</code> observes its callsite within <code>calls_f</code>:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[track_caller]
fn f() {
    println!("{}", std::panic::Location::caller());
}
fn calls_f() {
    f(); // &lt;-- f() prints this location
}
}</pre> <p>When <code>f</code> is called by another attributed function <code>g</code> which is in turn called by <code>calls_g</code>, code in both <code>f</code> and <code>g</code> observes <code>g</code>’s callsite within <code>calls_g</code>:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[track_caller]
fn f() {
    println!("{}", std::panic::Location::caller());
}
#[track_caller]
fn g() {
    println!("{}", std::panic::Location::caller());
    f();
}

fn calls_g() {
    g(); // &lt;-- g() prints this location twice, once itself and once from f()
}
}</pre> <p>When <code>g</code> is called by another attributed function <code>h</code> which is in turn called by <code>calls_h</code>, all code in <code>f</code>, <code>g</code>, and <code>h</code> observes <code>h</code>’s callsite within <code>calls_h</code>:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[track_caller]
fn f() {
    println!("{}", std::panic::Location::caller());
}
#[track_caller]
fn g() {
    println!("{}", std::panic::Location::caller());
    f();
}
#[track_caller]
fn h() {
    println!("{}", std::panic::Location::caller());
    g();
}

fn calls_h() {
    h(); // &lt;-- prints this location three times, once itself, once from g(), once from f()
}
}</pre> <p>And so on.</p>  <h3 id="limitations">Limitations</h3>  <p>This information is a hint and implementations are not required to preserve it.</p>  <p>In particular, coercing a function with <code>#[track_caller]</code> to a function pointer creates a shim which appears to observers to have been called at the attributed function’s definition site, losing actual caller information across virtual calls. A common example of this coercion is the creation of a trait object whose methods are attributed.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>The aforementioned shim for function pointers is necessary because <code>rustc</code> implements <code>track_caller</code> in a codegen context by appending an implicit parameter to the function ABI, but this would be unsound for an indirect call because the parameter is not a part of the function’s type and a given function pointer type may or may not refer to a function with the attribute. The creation of a shim hides the implicit parameter from callers of the function pointer, preserving soundness.</p> </blockquote> </div>   <h2 id="the-instruction_set-attribute">The <code id="">instruction_set</code> attribute</h2>  <p>The <em><code>instruction_set</code> <a href="../attributes">attribute</a></em> specifies the instruction set that a function will use during code generation. This allows mixing more than one instruction set in a single program.</p> <div class="alert alert-example"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p>  <pre data-language="rust">#[instruction_set(arm::a32)]
fn arm_code() {}

#[instruction_set(arm::t32)]
fn thumb_code() {}</pre> </blockquote> </div>  <p>The <code>instruction_set</code> attribute uses the <a href="../attributes#grammar-MetaListPaths">MetaListPaths</a> syntax to specify a single path consisting of the architecture family name and instruction set name.</p>  <p>The <code>instruction_set</code> attribute may only be applied to functions with <a href="../items/functions#r-items.fn.body">bodies</a> — <a href="../expressions/closure-expr#r-expr.closure">closures</a>, <a href="../expressions/block-expr#r-expr.block.async">async blocks</a>, <a href="../items/functions#r-items.fn">free functions</a>, <a href="../items/associated-items#r-items.associated.fn">associated functions</a> in an <a href="../items/implementations#r-items.impl.inherent">inherent impl</a> or <a href="../items/implementations#r-items.impl.trait">trait impl</a>, and associated functions in a <a href="../items/traits#r-items.traits">trait definition</a> when those functions have a <a href="../items/traits#r-items.traits.associated-item-decls">default definition</a> .</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> ignores use in other positions but lints against it. This may become an error in the future.</p> </blockquote> </div> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>Though the attribute can be applied to <a href="../expressions/closure-expr#r-expr.closure">closures</a> and <a href="../expressions/block-expr#r-expr.block.async">async blocks</a>, the usefulness of this is limited as we do not yet support attributes on expressions.</p> </blockquote> </div>  <p>The <code>instruction_set</code> attribute may be used only once on a function.</p>  <p>The <code>instruction_set</code> attribute may only be used with a target that supports the given value.</p>  <p>When the <code>instruction_set</code> attribute is used, any inline assembly in the function must use the specified instruction set instead of the target default.</p>  <h3 id="instruction_set-on-arm">
<code id="">instruction_set</code> on ARM</h3> <p>When targeting the <code>ARMv4T</code> and <code>ARMv5te</code> architectures, the supported values for <code>instruction_set</code> are:</p> <ul> <li>
<code>arm::a32</code> — Generate the function as A32 “ARM” code.</li> <li>
<code>arm::t32</code> — Generate the function as T32 “Thumb” code.</li> </ul> <p>If the address of the function is taken as a function pointer, the low bit of the address will depend on the selected instruction set:</p> <ul> <li>For <code>arm::a32</code> (“ARM”), it will be 0.</li> <li>For <code>arm::t32</code> (“Thumb”), it will be 1.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/attributes/codegen.html" class="_attribution-link">https://doc.rust-lang.org/reference/attributes/codegen.html</a>
  </p>
</div>

<h1 id="error-code-e0378">Error code E0378</h1> <p>The <code>DispatchFromDyn</code> trait was implemented on something which is not a pointer or a newtype wrapper around a pointer.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
#![feature(dispatch_from_dyn)]
fn main() {
use std::ops::DispatchFromDyn;

struct WrapperExtraField&lt;T&gt; {
    ptr: T,
    extra_stuff: i32,
}

impl&lt;T, U&gt; DispatchFromDyn&lt;WrapperExtraField&lt;U&gt;&gt; for WrapperExtraField&lt;T&gt;
where
    T: DispatchFromDyn&lt;U&gt;,
{}
}</pre> <p>The <code>DispatchFromDyn</code> trait currently can only be implemented for builtin pointer types and structs that are newtype wrappers around them â€” that is, the struct must have only one field (except for <code>PhantomData</code>), and that field must itself implement <code>DispatchFromDyn</code>.</p> <pre data-language="rust">#![allow(unused)]
#![feature(dispatch_from_dyn, unsize)]
fn main() {
use std::{
    marker::Unsize,
    ops::DispatchFromDyn,
};

struct Ptr&lt;T: ?Sized&gt;(*const T);

impl&lt;T: ?Sized, U: ?Sized&gt; DispatchFromDyn&lt;Ptr&lt;U&gt;&gt; for Ptr&lt;T&gt;
where
    T: Unsize&lt;U&gt;,
{}
}</pre> <p>Another example:</p> <pre data-language="rust">#![allow(unused)]
#![feature(dispatch_from_dyn)]
fn main() {
use std::{
    ops::DispatchFromDyn,
    marker::PhantomData,
};

struct Wrapper&lt;T&gt; {
    ptr: T,
    _phantom: PhantomData&lt;()&gt;,
}

impl&lt;T, U&gt; DispatchFromDyn&lt;Wrapper&lt;U&gt;&gt; for Wrapper&lt;T&gt;
where
    T: DispatchFromDyn&lt;U&gt;,
{}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0378.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0378.html</a>
  </p>
</div>

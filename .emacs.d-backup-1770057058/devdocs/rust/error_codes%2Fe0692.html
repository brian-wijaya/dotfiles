<h1 id="error-code-e0692">Error code E0692</h1> <p>A <code>repr(transparent)</code> type was also annotated with other, incompatible representation hints.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[repr(transparent, C)] // error: incompatible representation hints
struct Grams(f32);
}</pre> <p>A type annotated as <code>repr(transparent)</code> delegates all representation concerns to another type, so adding more representation hints is contradictory. Remove either the <code>transparent</code> hint or the other hints, like this:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[repr(transparent)]
struct Grams(f32);
}</pre> <p>Alternatively, move the other attributes to the contained type:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[repr(C)]
struct Foo {
    x: i32,
    // ...
}

#[repr(transparent)]
struct FooWrapper(Foo);
}</pre> <p>Note that introducing another <code>struct</code> just to have a place for the other attributes may have unintended side effects on the representation:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[repr(transparent)]
struct Grams(f32);

#[repr(C)]
struct Float(f32);

#[repr(transparent)]
struct Grams2(Float); // this is not equivalent to `Grams` above
}</pre> <p>Here, <code>Grams2</code> is a not equivalent to <code>Grams</code> -- the former transparently wraps a (non-transparent) struct containing a single float, while <code>Grams</code> is a transparent wrapper around a float. This can make a difference for the ABI.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0692.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0692.html</a>
  </p>
</div>

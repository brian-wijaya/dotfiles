<h1 id="error-code-e0789">Error code E0789</h1> <h4 id="this-error-code-is-internal-to-the-compiler-and-will-not-be-emitted-with-normal-rust-code">This error code is internal to the compiler and will not be emitted with normal Rust code.</h4> <p>The internal <code>rustc_allowed_through_unstable_modules</code> attribute must be used on an item with a <code>stable</code> attribute.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
// NOTE: both of these attributes are perma-unstable and should *never* be
//       used outside of the compiler and standard library.
#![feature(rustc_attrs)]
#![feature(staged_api)]
#![allow(internal_features)]

#![unstable(feature = "foo_module", reason = "...", issue = "123")]

#[rustc_allowed_through_unstable_modules = "deprecation message"]
// #[stable(feature = "foo", since = "1.0")]
struct Foo;
// ^^^ error: `rustc_allowed_through_unstable_modules` attribute must be
//            paired with a `stable` attribute
}</pre> <p>Typically when an item is marked with a <code>stable</code> attribute, the modules that enclose the item must also be marked with <code>stable</code> attributes, otherwise the item becomes <em>de facto</em> unstable. <code>#[rustc_allowed_through_unstable_modules]</code> is a workaround which allows an item to "escape" its unstable parent modules. This error occurs when an item is marked with <code>#[rustc_allowed_through_unstable_modules]</code> but no supplementary <code>stable</code> attribute exists. See <a href="https://github.com/rust-lang/rust/pull/99288">#99288</a> for an example of <code>#[rustc_allowed_through_unstable_modules]</code> in use.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0789.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0789.html</a>
  </p>
</div>

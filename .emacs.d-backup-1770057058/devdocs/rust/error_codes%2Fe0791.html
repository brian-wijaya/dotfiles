<h1 id="error-code-e0791">Error code E0791</h1> <p>Static variables with the <code>#[linkage]</code> attribute within external blocks must have one of the following types, which are equivalent to a nullable pointer in C:</p> <ul> <li> <p><code>*mut T</code> or <code>*const T</code>, where <code>T</code> may be any type.</p> </li> <li> <p>An enumerator type with no <code>#[repr]</code> attribute and with two variants, where one of the variants has no fields, and the other has a single field of one of the following non-nullable types:</p> <ul> <li>Reference type</li> <li>Function pointer type</li> </ul> <p>The variants can appear in either order.</p> </li> </ul> <p>For example, the following declaration is invalid:</p> <pre data-language="rust">#![allow(unused)]
#![feature(linkage)]

fn main() {
extern "C" {
    #[linkage = "extern_weak"]
    static foo: i8;
}
}</pre> <p>The following declarations are valid:</p> <pre data-language="rust">#![allow(unused)]
#![feature(linkage)]

fn main() {
extern "C" {
    #[linkage = "extern_weak"]
    static foo: Option&lt;unsafe extern "C" fn()&gt;;

    #[linkage = "extern_weak"]
    static bar: Option&lt;&amp;'static i8&gt;;

    #[linkage = "extern_weak"]
    static baz: *mut i8;
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0791.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0791.html</a>
  </p>
</div>

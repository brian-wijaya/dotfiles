<h1 class="main-heading">Macro cfg_select </h1>
<pre class="rust item-decl" data-language="rust">pub macro cfg_select($($tt:tt)*) {
    ...
}</pre>
<span class="item-info"><div class="stab unstable">
<span class="emoji">ðŸ”¬</span><span>This is a nightly-only experimental API. (<code>cfg_select</code> <a href="https://github.com/rust-lang/rust/issues/115585">#115585</a>)</span>
</div></span><p>Selects code at compile-time based on <code>cfg</code> predicates.</p> <p>This macro evaluates, at compile-time, a series of <code>cfg</code> predicates, selects the first that is true, and emits the code guarded by that predicate. The code guarded by other predicates is not emitted.</p> <p>An optional trailing <code>_</code> wildcard can be used to specify a fallback. If none of the predicates are true, a <a href="macro.compile_error" title="macro std::compile_error"><code>compile_error</code></a> is emitted.</p> <h2 id="example">Example</h2> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">#![feature(cfg_select)]

cfg_select! {
    unix =&gt; {
        fn foo() { /* unix specific functionality */ }
    }
    target_pointer_width = "32" =&gt; {
        fn foo() { /* non-unix, 32-bit functionality */ }
    }
    _ =&gt; {
        fn foo() { /* fallback implementation */ }
    }
}</pre></div> <p>The <code>cfg_select!</code> macro can also be used in expression position, with or without braces on the right-hand side:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">#![feature(cfg_select)]

let _some_string = cfg_select! {
    unix =&gt; "With great power comes great electricity bills",
    _ =&gt; { "Behind every successful diet is an unwatched pizza" }
};</pre></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/macro.cfg_select.html" class="_attribution-link">https://doc.rust-lang.org/std/macro.cfg_select.html</a>
  </p>
</div>

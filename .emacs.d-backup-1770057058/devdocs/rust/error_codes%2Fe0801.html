<h1 id="error-code-e0801">Error code E0801</h1> <p>The <code>self</code> parameter in a method has an invalid generic "receiver type".</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo;

impl Foo {
    fn foo&lt;R: std::ops::Deref&lt;Target=Self&gt;&gt;(self: R) {}
}
}</pre> <p>or alternatively,</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo;

impl Foo {
    fn foo(self: impl std::ops::Deref&lt;Target=Self&gt;) {}
}
}</pre> <p>Methods take a special first parameter, termed <code>self</code>. It's normal to use <code>self</code>, <code>&amp;self</code> or <code>&amp;mut self</code>, which are syntactic sugar for <code>self: Self</code>, <code>self: &amp;Self</code>, and <code>self: &amp;mut Self</code> respectively. But it's also possible to use more sophisticated types of <code>self</code> parameter, for instance <code>std::rc::Rc&lt;Self&gt;</code>. The set of allowable <code>Self</code> types is extensible using the nightly feature <a href="https://doc.rust-lang.org/unstable-book/language-features/arbitrary-self-types.html">Arbitrary self types</a>. This will extend the valid set of <code>Self</code> types to anything which implements <code>std::ops::Deref&lt;Target=Self&gt;</code>, for example <code>Rc&lt;Self&gt;</code>, <code>Box&lt;Self&gt;</code>, or your own smart pointers that do the same.</p> <p>However, even with that feature, the <code>self</code> type must be concrete. Generic <code>self</code> types are not permitted. Specifically, a <code>self</code> type will be rejected if it is a type parameter defined on the method.</p> <p>These are OK:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo;

impl Foo {
    fn foo(self) {}
    fn foo2(self: std::rc::Rc&lt;Self&gt;) {} // or some other similar
        // smart pointer if you enable arbitrary self types and
        // the pointer implements Deref&lt;Target=Self&gt;
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0801.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0801.html</a>
  </p>
</div>

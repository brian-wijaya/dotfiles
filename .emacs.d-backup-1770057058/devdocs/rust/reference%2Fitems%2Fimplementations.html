 <h1 id="implementations">Implementations</h1>  <div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-Implementation"><a href="implementations#railroad-Implementation">Implementation</a></span> → <span class="grammar-text"><a href="implementations#grammar-InherentImpl">InherentImpl</a></span> | <span class="grammar-text"><a href="implementations#grammar-TraitImpl">TraitImpl</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-InherentImpl"><a href="implementations#railroad-InherentImpl">InherentImpl</a></span> → <br>
    <code class="grammar-literal">impl</code> <span class="grammar-text"><a href="generics#grammar-GenericParams">GenericParams</a></span><sup>?</sup> <span class="grammar-text"><a href="../types#grammar-Type">Type</a></span> <span class="grammar-text"><a href="generics#grammar-WhereClause">WhereClause</a></span><sup>?</sup> <code class="grammar-literal">{</code> <br>
        <span class="grammar-text"><a href="../attributes#grammar-InnerAttribute">InnerAttribute</a></span><sup>*</sup> <br>
        <span class="grammar-text"><a href="associated-items#grammar-AssociatedItem">AssociatedItem</a></span><sup>*</sup> <br>
    <code class="grammar-literal">}</code></p>
<p><span class="grammar-text grammar-production" id="grammar-TraitImpl"><a href="implementations#railroad-TraitImpl">TraitImpl</a></span> → <br>
    <code class="grammar-literal">unsafe</code><sup>?</sup> <code class="grammar-literal">impl</code> <span class="grammar-text"><a href="generics#grammar-GenericParams">GenericParams</a></span><sup>?</sup> <code class="grammar-literal">!</code><sup>?</sup> <span class="grammar-text"><a href="../paths#grammar-TypePath">TypePath</a></span> <code class="grammar-literal">for</code> <span class="grammar-text"><a href="../types#grammar-Type">Type</a></span> <br>
    <span class="grammar-text"><a href="generics#grammar-WhereClause">WhereClause</a></span><sup>?</sup> <br>
    <code class="grammar-literal">{</code> <br>
        <span class="grammar-text"><a href="../attributes#grammar-InnerAttribute">InnerAttribute</a></span><sup>*</sup> <br>
        <span class="grammar-text"><a href="associated-items#grammar-AssociatedItem">AssociatedItem</a></span><sup>*</sup> <br>
    <code class="grammar-literal">}</code></p>

<details class="grammar-railroad grammar-hidden"><summary>Syntax diagram</summary> <div style="width: 234px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Implementation">
<svg class="railroad" viewbox="0 0 234 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="implementations#grammar-Implementation"> <text class="comment" x="64" y="25"> Implementation</text> </a> <g class="sequence"> <path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="choice"> <path d=" M 35 53 h 24 m 116 0 h 24"></path> <a class="link" xlink:href="implementations#railroad-InherentImpl"> <g class="nonterminal"> <rect height="22" width="116" x="59" y="42"></rect> <text x="117" y="58"> InherentImpl</text> </g> </a> <path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 140 0 v -9 a 12 12 0 0 1 12 -12"></path> <path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 92 0 h 24 a 12 12 0 0 0 12 -12 v 0"></path> <a class="link" xlink:href="implementations#railroad-TraitImpl"> <g class="nonterminal"> <rect height="22" width="92" x="59" y="75"></rect> <text x="105" y="91"> TraitImpl</text> </g> </a> </g> <path d=" M 209 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 53 h 10"></path> <path d=" M 199 53 h 10"></path> </g> </g> </svg> </div> <div style="width: 618px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-InherentImpl">
<svg class="railroad" viewbox="0 0 618 279" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="implementations#grammar-InherentImpl"> <text class="comment" x="57" y="25"> InherentImpl</text> </a> <g class="sequence"> <path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="stack"> <path d=" M 35 66 h 12"></path> <path d=" M 547 66 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -500 m 253 0 l 5 -5 m 0 10 l -5 -5 m -253 0 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="52" x="47" y="55"></rect> <text x="73" y="71"> impl</text> </g> <g class="optional"> <path d=" M 109 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <a class="link" xlink:href="generics#railroad-GenericParams"> <g class="nonterminal"> <rect height="22" width="124" x="133" y="55"></rect> <text x="195" y="71"> GenericParams</text> </g> </a> </g> <a class="link" xlink:href="../types#railroad-Type"> <g class="nonterminal"> <rect height="22" width="52" x="291" y="55"></rect> <text x="317" y="71"> Type</text> </g> </a> <g class="optional"> <path d=" M 353 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <a class="link" xlink:href="generics#railroad-WhereClause"> <g class="nonterminal"> <rect height="22" width="108" x="377" y="55"></rect> <text x="431" y="71"> WhereClause</text> </g> </a> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="519" y="55"></rect> <text x="533" y="71"> {</text> </g> <path d=" M 99 66 h 10"></path> <path d=" M 281 66 h 10"></path> <path d=" M 343 66 h 10"></path> <path d=" M 509 66 h 10"></path> </g> <path d=" M 251 126 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 1 -12 12 h -204 m 105 0 l 5 -5 m 0 10 l -5 -5 m -105 0 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="optional"> <path d=" M 47 126 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="repeat"> <path d=" M 71 126 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"></path>  <a class="link" xlink:href="../attributes#railroad-InnerAttribute"> <g class="nonterminal"> <rect height="22" width="132" x="83" y="115"></rect> <text x="149" y="131"> InnerAttribute</text> </g> </a> </g> </g> </g> <path d=" M 251 198 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 1 -12 12 h -204 m 105 0 l 5 -5 m 0 10 l -5 -5 m -105 0 a 12 12 0 0 0 -12 12 v 0 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="optional"> <path d=" M 47 198 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="repeat"> <path d=" M 71 198 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"></path>  <a class="link" xlink:href="associated-items#railroad-AssociatedItem"> <g class="nonterminal"> <rect height="22" width="132" x="83" y="187"></rect> <text x="149" y="203"> AssociatedItem</text> </g> </a> </g> </g> </g> <path d=" M 75 258 h 484 m -239 0 l -5 -5 m 0 10 l 5 -5 m 239 0 a 12 12 0 0 0 12 -12 v -168 m 0 87 l -5 5 m 10 0 l -5 -5 m 0 -87 a 12 12 0 0 1 12 -12"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="47" y="247"></rect> <text x="61" y="263"> }</text> </g> </g> </g> <path d=" M 593 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 66 h 10"></path> <path d=" M 583 66 h 10"></path> </g> </g> </svg> </div> <div style="width: 774px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TraitImpl">
<svg class="railroad" viewbox="0 0 774 387" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="implementations#grammar-TraitImpl"> <text class="comment" x="46" y="25"> TraitImpl</text> </a> <g class="sequence"> <path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="stack"> <path d=" M 35 66 h 12"></path> <path d=" M 703 66 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -656 m 331 0 l 5 -5 m 0 10 l -5 -5 m -331 0 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="optional"> <path d=" M 47 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="terminal"> <rect height="22" rx="10" ry="10" width="68" x="71" y="55"></rect> <text x="105" y="71"> unsafe</text> </g> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="52" x="173" y="55"></rect> <text x="199" y="71"> impl</text> </g> <g class="optional"> <path d=" M 235 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <a class="link" xlink:href="generics#railroad-GenericParams"> <g class="nonterminal"> <rect height="22" width="124" x="259" y="55"></rect> <text x="321" y="71"> GenericParams</text> </g> </a> </g> <g class="optional"> <path d=" M 417 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="441" y="55"></rect> <text x="455" y="71"> !</text> </g> </g> <a class="link" xlink:href="../paths#railroad-TypePath"> <g class="nonterminal"> <rect height="22" width="84" x="503" y="55"></rect> <text x="545" y="71"> TypePath</text> </g> </a> <g class="terminal"> <rect height="22" rx="10" ry="10" width="44" x="597" y="55"></rect> <text x="619" y="71"> for</text> </g> <a class="link" xlink:href="../types#railroad-Type"> <g class="nonterminal"> <rect height="22" width="52" x="651" y="55"></rect> <text x="677" y="71"> Type</text> </g> </a> <path d=" M 163 66 h 10"></path> <path d=" M 225 66 h 10"></path> <path d=" M 407 66 h 10"></path> <path d=" M 493 66 h 10"></path> <path d=" M 587 66 h 10"></path> <path d=" M 641 66 h 10"></path> </g> <path d=" M 203 126 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -156 m 81 0 l 5 -5 m 0 10 l -5 -5 m -81 0 a 12 12 0 0 0 -12 12 v 0 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="optional"> <path d=" M 47 126 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <a class="link" xlink:href="generics#railroad-WhereClause"> <g class="nonterminal"> <rect height="22" width="108" x="71" y="115"></rect> <text x="125" y="131"> WhereClause</text> </g> </a> </g> </g> <path d=" M 75 174 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -28 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="47" y="163"></rect> <text x="61" y="179"> {</text> </g> </g> <path d=" M 251 234 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 1 -12 12 h -204 m 105 0 l 5 -5 m 0 10 l -5 -5 m -105 0 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="optional"> <path d=" M 47 234 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="repeat"> <path d=" M 71 234 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"></path>  <a class="link" xlink:href="../attributes#railroad-InnerAttribute"> <g class="nonterminal"> <rect height="22" width="132" x="83" y="223"></rect> <text x="149" y="239"> InnerAttribute</text> </g> </a> </g> </g> </g> <path d=" M 251 306 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 1 -12 12 h -204 m 105 0 l 5 -5 m 0 10 l -5 -5 m -105 0 a 12 12 0 0 0 -12 12 v 0 v 0 a 12 12 0 0 0 12 12 h 0"></path> <g class="sequence"> <g class="optional"> <path d=" M 47 306 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <g class="repeat"> <path d=" M 71 306 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"></path>  <a class="link" xlink:href="associated-items#railroad-AssociatedItem"> <g class="nonterminal"> <rect height="22" width="132" x="83" y="295"></rect> <text x="149" y="311"> AssociatedItem</text> </g> </a> </g> </g> </g> <path d=" M 75 366 h 640 m -317 0 l -5 -5 m 0 10 l 5 -5 m 317 0 a 12 12 0 0 0 12 -12 v -276 m 0 141 l -5 5 m 10 0 l -5 -5 m 0 -141 a 12 12 0 0 1 12 -12"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="47" y="355"></rect> <text x="61" y="371"> }</text> </g> </g> </g> <path d=" M 749 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 66 h 10"></path> <path d=" M 739 66 h 10"></path> </g> </g> </svg> </div> </details>
</div>   <p>An <em>implementation</em> is an item that associates items with an <em>implementing type</em>. Implementations are defined with the keyword <code>impl</code> and contain functions that belong to an instance of the type that is being implemented or to the type statically.</p>  <p>There are two types of implementations:</p> <ul> <li>inherent implementations</li> <li>
<a href="traits">trait</a> implementations</li> </ul>  <h2 id="inherent-implementations">Inherent Implementations</h2>  <p>An inherent implementation is defined as the sequence of the <code>impl</code> keyword, generic type declarations, a path to a nominal type, a where clause, and a bracketed set of associable items.</p>  <p>The nominal type is called the <em>implementing type</em> and the associable items are the <em>associated items</em> to the implementing type.</p>  <p>Inherent implementations associate the contained items to the implementing type.</p>  <p>Inherent implementations can contain <a href="associated-items#associated-functions-and-methods">associated functions</a> (including <a href="associated-items#methods">methods</a>) and <a href="associated-items#associated-constants">associated constants</a>.</p>  <p>They cannot contain associated type aliases.</p>  <p>The <a href="../paths">path</a> to an associated item is any path to the implementing type, followed by the associated item’s identifier as the final path component.</p>  <p>A type can also have multiple inherent implementations. An implementing type must be defined within the same crate as the original type definition.</p> <pre data-language="rust">pub mod color {
    pub struct Color(pub u8, pub u8, pub u8);

    impl Color {
        pub const WHITE: Color = Color(255, 255, 255);
    }
}

mod values {
    use super::color::Color;
    impl Color {
        pub fn red() -&gt; Color {
            Color(255, 0, 0)
        }
    }
}

pub use self::color::Color;
fn main() {
    // Actual path to the implementing type and impl in the same module.
    color::Color::WHITE;

    // Impl blocks in different modules are still accessed through a path to the type.
    color::Color::red();

    // Re-exported paths to the implementing type also work.
    Color::red();

    // Does not work, because use in `values` is not pub.
    // values::Color::red();
}</pre>  <h2 id="trait-implementations">Trait Implementations</h2>  <p>A <em>trait implementation</em> is defined like an inherent implementation except that the optional generic type declarations are followed by a <a href="traits">trait</a>, followed by the keyword <code>for</code>, followed by a path to a nominal type.</p>   <p>The trait is known as the <em>implemented trait</em>. The implementing type implements the implemented trait.</p>  <p>A trait implementation must define all non-default associated items declared by the implemented trait, may redefine default associated items defined by the implemented trait, and cannot define any other items.</p>  <p>The path to the associated items is <code>&lt;</code> followed by a path to the implementing type followed by <code>as</code> followed by a path to the trait followed by <code>&gt;</code> as a path component followed by the associated item’s path component.</p>  <p><a href="traits#unsafe-traits">Unsafe traits</a> require the trait implementation to begin with the <code>unsafe</code> keyword.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
#[derive(Copy, Clone)]
struct Point {x: f64, y: f64};
type Surface = i32;
struct BoundingBox {x: f64, y: f64, width: f64, height: f64};
trait Shape { fn draw(&amp;self, s: Surface); fn bounding_box(&amp;self) -&gt; BoundingBox; }
fn do_draw_circle(s: Surface, c: Circle) { }
struct Circle {
    radius: f64,
    center: Point,
}

impl Copy for Circle {}

impl Clone for Circle {
    fn clone(&amp;self) -&gt; Circle { *self }
}

impl Shape for Circle {
    fn draw(&amp;self, s: Surface) { do_draw_circle(s, *self); }
    fn bounding_box(&amp;self) -&gt; BoundingBox {
        let r = self.radius;
        BoundingBox {
            x: self.center.x - r,
            y: self.center.y - r,
            width: 2.0 * r,
            height: 2.0 * r,
        }
    }
}
}</pre>  <h3 id="trait-implementation-coherence">Trait Implementation Coherence</h3>  <p>A trait implementation is considered incoherent if either the orphan rules check fails or there are overlapping implementation instances.</p>  <p>Two trait implementations overlap when there is a non-empty intersection of the traits the implementation is for, the implementations can be instantiated with the same type. </p>  <h4 id="orphan-rules">Orphan rules</h4>  <p>The <em>orphan rule</em> states that a trait implementation is only allowed if either the trait or at least one of the types in the implementation is defined in the current crate. It prevents conflicting trait implementations across different crates and is key to ensuring coherence.</p> <p>An orphan implementation is one that implements a foreign trait for a foreign type. If these were freely allowed, two crates could implement the same trait for the same type in incompatible ways, creating a situation where adding or updating a dependency could break compilation due to conflicting implementations.</p> <p>The orphan rule enables library authors to add new implementations to their traits without fear that they’ll break downstream code. Without these restrictions, a library couldn’t add an implementation like <code>impl&lt;T: Display&gt; MyTrait for T</code> without potentially conflicting with downstream implementations.</p>  <p>Given <code>impl&lt;P1..=Pn&gt; Trait&lt;T1..=Tn&gt; for T0</code>, an <code>impl</code> is valid only if at least one of the following is true:</p> <ul> <li>
<code>Trait</code> is a <a href="../glossary#local-trait">local trait</a>
</li> <li>All of <ul> <li>At least one of the types <code>T0..=Tn</code> must be a <a href="../glossary#local-type">local type</a>. Let <code>Ti</code> be the first such type.</li> <li>No <a href="../glossary#uncovered-type">uncovered type</a> parameters <code>P1..=Pn</code> may appear in <code>T0..Ti</code> (excluding <code>Ti</code>)</li> </ul> </li> </ul>  <p>Only the appearance of <em>uncovered</em> type parameters is restricted.</p>  <p>Note that for the purposes of coherence, <a href="../glossary#fundamental-type-constructors">fundamental types</a> are special. The <code>T</code> in <code>Box&lt;T&gt;</code> is not considered covered, and <code>Box&lt;LocalType&gt;</code> is considered local.</p>  <h2 id="generic-implementations">Generic Implementations</h2>  <p>An implementation can take <a href="generics">generic parameters</a>, which can be used in the rest of the implementation. Implementation parameters are written directly after the <code>impl</code> keyword.</p> <pre data-language="rust">#![allow(unused)]
fn main() {
trait Seq&lt;T&gt; { fn dummy(&amp;self, _: T) { } }
impl&lt;T&gt; Seq&lt;T&gt; for Vec&lt;T&gt; {
    /* ... */
}
impl Seq&lt;bool&gt; for u32 {
    /* Treat the integer as a sequence of bits */
}
}</pre>  <p>Generic parameters <em>constrain</em> an implementation if the parameter appears at least once in one of:</p> <ul> <li>The implemented trait, if it has one</li> <li>The implementing type</li> <li>As an <a href="associated-items#associated-types">associated type</a> in the <a href="../trait-bounds">bounds</a> of a type that contains another parameter that constrains the implementation</li> </ul>  <p>Type and const parameters must always constrain the implementation. Lifetimes must constrain the implementation if the lifetime is used in an associated type.</p> <p>Examples of constraining situations:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
trait Trait{}
trait GenericTrait&lt;T&gt; {}
trait HasAssocType { type Ty; }
struct Struct;
struct GenericStruct&lt;T&gt;(T);
struct ConstGenericStruct&lt;const N: usize&gt;([(); N]);
// T constrains by being an argument to GenericTrait.
impl&lt;T&gt; GenericTrait&lt;T&gt; for i32 { /* ... */ }

// T constrains by being an argument to GenericStruct
impl&lt;T&gt; Trait for GenericStruct&lt;T&gt; { /* ... */ }

// Likewise, N constrains by being an argument to ConstGenericStruct
impl&lt;const N: usize&gt; Trait for ConstGenericStruct&lt;N&gt; { /* ... */ }

// T constrains by being in an associated type in a bound for type `U` which is
// itself a generic parameter constraining the trait.
impl&lt;T, U&gt; GenericTrait&lt;U&gt; for u32 where U: HasAssocType&lt;Ty = T&gt; { /* ... */ }

// Like previous, except the type is `(U, isize)`. `U` appears inside the type
// that includes `T`, and is not the type itself.
impl&lt;T, U&gt; GenericStruct&lt;U&gt; where (U, isize): HasAssocType&lt;Ty = T&gt; { /* ... */ }
}</pre> <p>Examples of non-constraining situations:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
// The rest of these are errors, since they have type or const parameters that
// do not constrain.

// T does not constrain since it does not appear at all.
impl&lt;T&gt; Struct { /* ... */ }

// N does not constrain for the same reason.
impl&lt;const N: usize&gt; Struct { /* ... */ }

// Usage of T inside the implementation does not constrain the impl.
impl&lt;T&gt; Struct {
    fn uses_t(t: &amp;T) { /* ... */ }
}

// T is used as an associated type in the bounds for U, but U does not constrain.
impl&lt;T, U&gt; Struct where U: HasAssocType&lt;Ty = T&gt; { /* ... */ }

// T is used in the bounds, but not as an associated type, so it does not constrain.
impl&lt;T, U&gt; GenericTrait&lt;U&gt; for u32 where U: GenericTrait&lt;T&gt; {}
}</pre> <p>Example of an allowed unconstraining lifetime parameter:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Struct;
impl&lt;'a&gt; Struct {}
}</pre> <p>Example of a disallowed unconstraining lifetime parameter:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Struct;
trait HasAssocType { type Ty; }
impl&lt;'a&gt; HasAssocType for Struct {
    type Ty = &amp;'a Struct;
}
}</pre>  <h2 id="attributes-on-implementations">Attributes on Implementations</h2> <p>Implementations may contain outer <a href="../attributes">attributes</a> before the <code>impl</code> keyword and inner <a href="../attributes">attributes</a> inside the brackets that contain the associated items. Inner attributes must come before any associated items. The attributes that have meaning here are <a href="../conditional-compilation"><code>cfg</code></a>, <a href="../attributes/diagnostics#the-deprecated-attribute"><code>deprecated</code></a>, <a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html"><code>doc</code></a>, and <a href="../attributes/diagnostics#lint-check-attributes">the lint check attributes</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/items/implementations.html" class="_attribution-link">https://doc.rust-lang.org/reference/items/implementations.html</a>
  </p>
</div>

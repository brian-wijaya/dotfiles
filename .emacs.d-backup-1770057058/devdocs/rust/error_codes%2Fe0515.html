<h1 id="error-code-e0515">Error code E0515</h1> <p>A reference to a local variable was returned.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
fn get_dangling_reference() -&gt; &amp;'static i32 {
    let x = 0;
    &amp;x
}
}</pre> <pre data-language="rust">#![allow(unused)]
fn main() {
use std::slice::Iter;
fn get_dangling_iterator&lt;'a&gt;() -&gt; Iter&lt;'a, i32&gt; {
    let v = vec![1, 2, 3];
    v.iter()
}
}</pre> <p>Local variables, function parameters and temporaries are all dropped before the end of the function body. A returned reference (or struct containing a reference) to such a dropped value would immediately be invalid. Therefore it is not allowed to return such a reference.</p> <p>Consider returning a value that takes ownership of local data instead of referencing it:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
use std::vec::IntoIter;

fn get_integer() -&gt; i32 {
    let x = 0;
    x
}

fn get_owned_iterator() -&gt; IntoIter&lt;i32&gt; {
    let v = vec![1, 2, 3];
    v.into_iter()
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0515.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0515.html</a>
  </p>
</div>

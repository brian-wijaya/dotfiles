 <h1 id="extern-crate-declarations">Extern crate declarations</h1>  <div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ExternCrate"><a href="extern-crates#railroad-ExternCrate">ExternCrate</a></span> → <code class="grammar-literal">extern</code> <code class="grammar-literal">crate</code> <span class="grammar-text"><a href="extern-crates#grammar-CrateRef">CrateRef</a></span> <span class="grammar-text"><a href="extern-crates#grammar-AsClause">AsClause</a></span><sup>?</sup> <code class="grammar-literal">;</code></p>
<p><span class="grammar-text grammar-production" id="grammar-CrateRef"><a href="extern-crates#railroad-CrateRef">CrateRef</a></span> → <span class="grammar-text"><a href="../identifiers#grammar-IDENTIFIER">IDENTIFIER</a></span> | <code class="grammar-literal">self</code></p>
<p><span class="grammar-text grammar-production" id="grammar-AsClause"><a href="extern-crates#railroad-AsClause">AsClause</a></span> → <code class="grammar-literal">as</code> ( <span class="grammar-text"><a href="../identifiers#grammar-IDENTIFIER">IDENTIFIER</a></span> | <code class="grammar-literal">_</code> )</p>

<details class="grammar-railroad grammar-hidden"><summary>Syntax diagram</summary> <div style="width: 482px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ExternCrate">
<svg class="railroad" viewbox="0 0 482 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="extern-crates#grammar-ExternCrate"> <text class="comment" x="53" y="25"> ExternCrate</text> </a> <g class="sequence"> <path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="68" x="35" y="55"></rect> <text x="69" y="71"> extern</text> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="60" x="113" y="55"></rect> <text x="143" y="71"> crate</text> </g> <a class="link" xlink:href="extern-crates#railroad-CrateRef"> <g class="nonterminal"> <rect height="22" width="84" x="183" y="55"></rect> <text x="225" y="71"> CrateRef</text> </g> </a> <g class="optional"> <path d=" M 277 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"></path> <a class="link" xlink:href="extern-crates#railroad-AsClause"> <g class="nonterminal"> <rect height="22" width="84" x="301" y="55"></rect> <text x="343" y="71"> AsClause</text> </g> </a> </g> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="419" y="55"></rect> <text x="433" y="71"> ;</text> </g> <path d=" M 103 66 h 10"></path> <path d=" M 173 66 h 10"></path> <path d=" M 267 66 h 10"></path> <path d=" M 409 66 h 10"></path> </g> <path d=" M 457 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 66 h 10"></path> <path d=" M 447 66 h 10"></path> </g> </g> </svg> </div> <div style="width: 218px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CrateRef">
<svg class="railroad" viewbox="0 0 218 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="extern-crates#grammar-CrateRef"> <text class="comment" x="43" y="25"> CrateRef</text> </a> <g class="sequence"> <path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="choice"> <path d=" M 35 53 h 24 m 100 0 h 24"></path> <a class="link" xlink:href="../identifiers#railroad-IDENTIFIER"> <g class="nonterminal"> <rect height="22" width="100" x="59" y="42"></rect> <text x="109" y="58"> IDENTIFIER</text> </g> </a> <path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 124 0 v -9 a 12 12 0 0 1 12 -12"></path> <path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 52 0 h 48 a 12 12 0 0 0 12 -12 v 0"></path> <g class="terminal"> <rect height="22" rx="10" ry="10" width="52" x="59" y="75"></rect> <text x="85" y="91"> self</text> </g> </g> <path d=" M 193 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 53 h 10"></path> <path d=" M 183 53 h 10"></path> </g> </g> </svg> </div> <div style="width: 264px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsClause">
<svg class="railroad" viewbox="0 0 264 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <rect class="railroad_canvas" height="100%" width="100%"></rect> <g class="verticalgrid"> <a class="link" xlink:href="extern-crates#grammar-AsClause"> <text class="comment" x="43" y="25"> AsClause</text> </a> <g class="sequence"> <path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"></path> <g class="sequence"> <g class="terminal"> <rect height="22" rx="10" ry="10" width="36" x="35" y="42"></rect> <text x="53" y="58"> as</text> </g> <g class="choice"> <path d=" M 81 53 h 24 m 100 0 h 24"></path> <a class="link" xlink:href="../identifiers#railroad-IDENTIFIER"> <g class="nonterminal"> <rect height="22" width="100" x="105" y="42"></rect> <text x="155" y="58"> IDENTIFIER</text> </g> </a> <path d=" M 81 53 a 12 12 0 0 1 12 12 v 9 m 124 0 v -9 a 12 12 0 0 1 12 -12"></path> <path d=" M 93 74 v 0 a 12 12 0 0 0 12 12 m 28 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"></path> <g class="terminal"> <rect height="22" rx="10" ry="10" width="28" x="105" y="75"></rect> <text x="119" y="91"> _</text> </g> </g> <path d=" M 71 53 h 10"></path> </g> <path d=" M 239 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"></path> <path d=" M 25 53 h 10"></path> <path d=" M 229 53 h 10"></path> </g> </g> </svg> </div> </details>
</div>   <p>An <em><code>extern crate</code> declaration</em> specifies a dependency on an external crate.</p>  <p>The external crate is then bound into the declaring scope as the given <a href="../identifiers">identifier</a> in the <a href="../names/namespaces">type namespace</a>.</p>  <p>Additionally, if the <code>extern crate</code> appears in the crate root, then the crate name is also added to the <a href="../names/preludes#extern-prelude">extern prelude</a>, making it automatically in scope in all modules.</p>  <p>The <code>as</code> clause can be used to bind the imported crate to a different name.</p>  <p>The external crate is resolved to a specific <code>soname</code> at compile time, and a runtime linkage requirement to that <code>soname</code> is passed to the linker for loading at runtime. The <code>soname</code> is resolved at compile time by scanning the compiler’s library path and matching the optional <code>crate_name</code> provided against the <a href="../crates-and-source-files#the-crate_name-attribute"><code>crate_name</code> attributes</a> that were declared on the external crate when it was compiled. If no <code>crate_name</code> is provided, a default <code>name</code> attribute is assumed, equal to the <a href="../identifiers">identifier</a> given in the <code>extern crate</code> declaration.</p>  <p>The <code>self</code> crate may be imported which creates a binding to the current crate. In this case the <code>as</code> clause must be used to specify the name to bind it to.</p> <p>Three examples of <code>extern crate</code> declarations:</p>  <pre data-language="rust">extern crate pcre;

extern crate std; // equivalent to: extern crate std as std;

extern crate std as ruststd; // linking to 'std' under another name</pre>  <p>When naming Rust crates, hyphens are disallowed. However, Cargo packages may make use of them. In such case, when <code>Cargo.toml</code> doesn’t specify a crate name, Cargo will transparently replace <code>-</code> with <code>_</code> (Refer to <a href="https://github.com/rust-lang/rfcs/blob/master/text/0940-hyphens-considered-harmful.md">RFC 940</a> for more details).</p> <p>Here is an example:</p>  <pre data-language="rust">// Importing the Cargo package hello-world
extern crate hello_world; // hyphen replaced with an underscore</pre>  <h2 id="underscore-imports">Underscore Imports</h2>  <p>An external crate dependency can be declared without binding its name in scope by using an underscore with the form <code>extern crate foo as _</code>. This may be useful for crates that only need to be linked, but are never referenced, and will avoid being reported as unused.</p>  <p>The <a href="../macros-by-example#the-macro_use-attribute"><code>macro_use</code> attribute</a> works as usual and imports the macro names into the <a href="../names/preludes#macro_use-prelude"><code>macro_use</code> prelude</a>.</p>   <h2 id="the-no_link-attribute">The <code id="">no_link</code> attribute</h2>  <p>The <em><code>no_link</code> <a href="../attributes#r-attributes">attribute</a></em> may be applied to an <code>extern crate</code> item to prevent linking the crate.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p>This is helpful, e.g., when only the macros of a crate are needed.</p> </blockquote> </div> <div class="alert alert-example"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p>  <pre data-language="rust">#[no_link]
extern crate other_crate;

other_crate::some_macro!();</pre> </blockquote> </div>  <p>The <code>no_link</code> attribute uses the <a href="../attributes#grammar-MetaWord">MetaWord</a> syntax.</p>  <p>The <code>no_link</code> attribute may only be applied to an <code>extern crate</code> declaration.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> ignores use in other positions but lints against it. This may become an error in the future.</p> </blockquote> </div>  <p>Only the first use of <code>no_link</code> on an <code>extern crate</code> declaration has effect.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p> <p><code>rustc</code> lints against any use following the first. This may become an error in the future.</p> </blockquote> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/items/extern-crates.html" class="_attribution-link">https://doc.rust-lang.org/reference/items/extern-crates.html</a>
  </p>
</div>

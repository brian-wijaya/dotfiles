<h1 id="error-code-e0700">Error code E0700</h1> <p>The <code>impl Trait</code> return type captures lifetime parameters that do not appear within the <code>impl Trait</code> itself.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
use std::cell::Cell;

trait Trait&lt;'a&gt; { }

impl&lt;'a, 'b&gt; Trait&lt;'b&gt; for Cell&lt;&amp;'a u32&gt; { }

fn foo&lt;'x, 'y&gt;(x: Cell&lt;&amp;'x u32&gt;) -&gt; impl Trait&lt;'y&gt;
where 'x: 'y
{
    x
}
}</pre> <p>Here, the function <code>foo</code> returns a value of type <code>Cell&lt;&amp;'x u32&gt;</code>, which references the lifetime <code>'x</code>. However, the return type is declared as <code>impl Trait&lt;'y&gt;</code> -- this indicates that <code>foo</code> returns "some type that implements <code>Trait&lt;'y&gt;</code>", but it also indicates that the return type <strong>only captures data referencing the lifetime <code>'y</code></strong>. In this case, though, we are referencing data with lifetime <code>'x</code>, so this function is in error.</p> <p>To fix this, you must reference the lifetime <code>'x</code> from the return type. For example, changing the return type to <code>impl Trait&lt;'y&gt; + 'x</code> would work:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
use std::cell::Cell;

trait Trait&lt;'a&gt; { }

impl&lt;'a,'b&gt; Trait&lt;'b&gt; for Cell&lt;&amp;'a u32&gt; { }

fn foo&lt;'x, 'y&gt;(x: Cell&lt;&amp;'x u32&gt;) -&gt; impl Trait&lt;'y&gt; + 'x
where 'x: 'y
{
    x
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0700.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0700.html</a>
  </p>
</div>

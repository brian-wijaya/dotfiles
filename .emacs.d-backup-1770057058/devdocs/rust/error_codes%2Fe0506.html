<h1 id="error-code-e0506">Error code E0506</h1> <p>An attempt was made to assign to a borrowed value.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct FancyNum {
    num: u8,
}

let mut fancy_num = FancyNum { num: 5 };
let fancy_ref = &amp;fancy_num;
fancy_num = FancyNum { num: 6 };
// error: cannot assign to `fancy_num` because it is borrowed

println!("Num: {}, Ref: {}", fancy_num.num, fancy_ref.num);
}</pre> <p>Because <code>fancy_ref</code> still holds a reference to <code>fancy_num</code>, <code>fancy_num</code> can't be assigned to a new value as it would invalidate the reference.</p> <p>Alternatively, we can move out of <code>fancy_num</code> into a second <code>fancy_num</code>:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct FancyNum {
    num: u8,
}

let mut fancy_num = FancyNum { num: 5 };
let moved_num = fancy_num;
fancy_num = FancyNum { num: 6 };

println!("Num: {}, Moved num: {}", fancy_num.num, moved_num.num);
}</pre> <p>If the value has to be borrowed, try limiting the lifetime of the borrow using a scoped block:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct FancyNum {
    num: u8,
}

let mut fancy_num = FancyNum { num: 5 };

{
    let fancy_ref = &amp;fancy_num;
    println!("Ref: {}", fancy_ref.num);
}

// Works because `fancy_ref` is no longer in scope
fancy_num = FancyNum { num: 6 };
println!("Num: {}", fancy_num.num);
}</pre> <p>Or by moving the reference into a function:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct FancyNum {
    num: u8,
}

fn print_fancy_ref(fancy_ref: &amp;FancyNum){
    println!("Ref: {}", fancy_ref.num);
}

let mut fancy_num = FancyNum { num: 5 };

print_fancy_ref(&amp;fancy_num);

// Works because function borrow has ended
fancy_num = FancyNum { num: 6 };
println!("Num: {}", fancy_num.num);
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0506.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0506.html</a>
  </p>
</div>

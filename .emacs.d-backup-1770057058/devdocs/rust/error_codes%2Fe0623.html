<h1 id="error-code-e0623">Error code E0623</h1> <p>A lifetime didn't match what was expected.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo&lt;'a, 'b, T&gt;(std::marker::PhantomData&lt;(&amp;'a (), &amp;'b (), T)&gt;)
where
    T: Convert&lt;'a, 'b&gt;;

trait Convert&lt;'a, 'b&gt;: Sized {
    fn cast(&amp;'a self) -&gt; &amp;'b Self;
}
impl&lt;'long: 'short, 'short, T&gt; Convert&lt;'long, 'short&gt; for T {
    fn cast(&amp;'long self) -&gt; &amp;'short T {
        self
    }
}
// error
fn badboi&lt;'in_, 'out, T&gt;(
    x: Foo&lt;'in_, 'out, T&gt;,
    sadness: &amp;'in_ T
) -&gt; &amp;'out T {
    sadness.cast()
}
}</pre> <p>In this example, we tried to set a value with an incompatible lifetime to another one (<code>'in_</code> is unrelated to <code>'out</code>). We can solve this issue in two different ways:</p> <p>Either we make <code>'in_</code> live at least as long as <code>'out</code>:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo&lt;'a, 'b, T&gt;(std::marker::PhantomData&lt;(&amp;'a (), &amp;'b (), T)&gt;)
where
    T: Convert&lt;'a, 'b&gt;;

trait Convert&lt;'a, 'b&gt;: Sized {
    fn cast(&amp;'a self) -&gt; &amp;'b Self;
}
impl&lt;'long: 'short, 'short, T&gt; Convert&lt;'long, 'short&gt; for T {
    fn cast(&amp;'long self) -&gt; &amp;'short T {
        self
    }
}
fn badboi&lt;'in_: 'out, 'out, T&gt;(
    x: Foo&lt;'in_, 'out, T&gt;,
    sadness: &amp;'in_ T
) -&gt; &amp;'out T {
    sadness.cast()
}
}</pre> <p>Or we use only one lifetime:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo&lt;'a, 'b, T&gt;(std::marker::PhantomData&lt;(&amp;'a (), &amp;'b (), T)&gt;)
where
    T: Convert&lt;'a, 'b&gt;;

trait Convert&lt;'a, 'b&gt;: Sized {
    fn cast(&amp;'a self) -&gt; &amp;'b Self;
}
impl&lt;'long: 'short, 'short, T&gt; Convert&lt;'long, 'short&gt; for T {
    fn cast(&amp;'long self) -&gt; &amp;'short T {
        self
    }
}
fn badboi&lt;'out, T&gt;(x: Foo&lt;'out, 'out, T&gt;, sadness: &amp;'out T) -&gt; &amp;'out T {
    sadness.cast()
}
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0623.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0623.html</a>
  </p>
</div>

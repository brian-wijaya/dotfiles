<h1 id="error-code-e0597">Error code E0597</h1> <p>This error occurs because a value was dropped while it was still borrowed.</p> <p>Erroneous code example:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo&lt;'a&gt; {
    x: Option&lt;&amp;'a u32&gt;,
}

let mut x = Foo { x: None };
{
    let y = 0;
    x.x = Some(&amp;y); // error: `y` does not live long enough
}
println!("{:?}", x.x);
}</pre> <p>Here, <code>y</code> is dropped at the end of the inner scope, but it is borrowed by <code>x</code> until the <code>println</code>. To fix the previous example, just remove the scope so that <code>y</code> isn't dropped until after the println</p> <pre data-language="rust">#![allow(unused)]
fn main() {
struct Foo&lt;'a&gt; {
    x: Option&lt;&amp;'a u32&gt;,
}

let mut x = Foo { x: None };

let y = 0;
x.x = Some(&amp;y);

println!("{:?}", x.x);
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/error_codes/E0597.html" class="_attribution-link">https://doc.rust-lang.org/error_codes/E0597.html</a>
  </p>
</div>

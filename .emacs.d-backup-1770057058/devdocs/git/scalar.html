<h1>scalar</h1>  <h2 id="_name">Name</h2> <div class="sectionbody">  <p>scalar - A tool for managing large Git repositories</p>  </div>   <h2 id="_synopsis">Synopsis</h2> <div class="sectionbody"> <div class="verseblock"> <pre class="content">scalar clone [--single-branch] [--branch &lt;main-branch&gt;] [--full-clone]
        [--[no-]src] [--[no-]tags] [--[no-]maintenance] &lt;url&gt; [&lt;enlistment&gt;]
scalar list
scalar register [--[no-]maintenance] [&lt;enlistment&gt;]
scalar unregister [&lt;enlistment&gt;]
scalar run ( all | config | commit-graph | fetch | loose-objects | pack-files ) [&lt;enlistment&gt;]
scalar reconfigure [--maintenance=(enable|disable|keep)] [ --all | &lt;enlistment&gt; ]
scalar diagnose [&lt;enlistment&gt;]
scalar delete &lt;enlistment&gt;</pre> </div> </div>   <h2 id="_description">Description</h2> <div class="sectionbody">  <p>Scalar is a repository management tool that optimizes Git for use in large repositories. Scalar improves performance by configuring advanced Git settings, maintaining repositories in the background, and helping to reduce data sent across the network.</p>   <p>An important Scalar concept is the enlistment: this is the top-level directory of the project. It usually contains the subdirectory <span class="synopsis"><code>src/</code></span> which is a Git worktree. This encourages the separation between tracked files (inside <span class="synopsis"><code>src/</code></span>) and untracked files, such as build artifacts (outside <span class="synopsis"><code>src/</code></span>). When registering an existing Git worktree with Scalar whose name is not <span class="synopsis"><code>src</code></span>, the enlistment will be identical to the worktree.</p>   <p>The <span class="synopsis"><code>scalar</code></span> command implements various subcommands, and different options depending on the subcommand. With the exception of <span class="synopsis"><code>clone</code></span>, <span class="synopsis"><code>list</code></span> and <span class="synopsis"><code>reconfigure</code> <code>--all</code></span>, all subcommands expect to be run in an enlistment.</p>   <p>The following options can be specified <code>before</code> the subcommand:</p>  <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt--Cltdirectorygt">
-C <span class="hover-term" data-term="directory">&lt;directory&gt;</span> </dt> <dd> <p>Before running the subcommand, change the working directory. This option imitates the same option of <a href="git">git[1]</a>.</p> </dd> <dt class="hdlist1" id="Documentation/scalar.txt--cltkeygtltvaluegt">
-c &lt;key&gt;=&lt;value&gt; </dt> <dd> <p>For the duration of running the specified subcommand, configure this setting. This option imitates the same option of <a href="git">git[1]</a>.</p> </dd> </dl> </div> </div>   <h2 id="_commands">Commands</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="_clone">
Clone</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-cloneltoptionsgtlturlgtltenlistmentgt">
clone [&lt;options&gt;] &lt;url&gt; [&lt;enlistment&gt;] </dt> <dd> <p>Clones the specified repository, similar to <a href="git-clone">git-clone[1]</a>. By default, only commit and tree objects are cloned. Once finished, the worktree is located at <span class="synopsis"><em>&lt;enlistment&gt;</em><code>/src</code></span>.</p>  <p>The sparse-checkout feature is enabled (except when run with <span class="synopsis"><code>--full-clone</code></span>) and the only files present are those in the top-level directory. Use <span class="synopsis"><code>git</code> <code>sparse-checkout</code> <code>set</code></span> to expand the set of directories you want to see, or <span class="synopsis"><code>git</code> <code>sparse-checkout</code> <code>disable</code></span> to expand to all files (see <a href="git-sparse-checkout">git-sparse-checkout[1]</a> for more details). You can explore the subdirectories outside your sparse-checkout by using <span class="synopsis"><code>git</code> <code>ls-tree</code> <code>HEAD</code>[<code>:</code><em><span class="hover-term" data-term="directory">&lt;directory&gt;</span></em>]</span>.</p>  </dd> <dt class="hdlist1" id="Documentation/scalar.txt--bltnamegt">
-b &lt;name&gt; </dt> <dt class="hdlist1" id="Documentation/scalar.txt---branchltnamegt">
--branch &lt;name&gt; </dt> <dd> <p>Instead of checking out the branch pointed to by the cloned repository’s HEAD, check out the <span class="synopsis"><em>&lt;name&gt;</em></span> branch instead.</p> </dd> <dt class="hdlist1" id="Documentation/scalar.txt---single-branch">
--single-branch </dt> <dt class="hdlist1" id="Documentation/scalar.txt---no-single-branch">
--no-single-branch </dt> <dd> <p>Clone only the history leading to the tip of a single branch, either specified by the <span class="synopsis"><code>--branch</code></span> option or the primary branch remote’s <span class="synopsis"><code>HEAD</code></span> points at.</p>  <p>Further fetches into the resulting repository will only update the remote-tracking branch for the branch this option was used for the initial cloning. If the HEAD at the remote did not point at any branch when <span class="synopsis"><code>--single-branch</code></span> clone was made, no remote-tracking branch is created.</p>  </dd> <dt class="hdlist1" id="Documentation/scalar.txt---src">
--src </dt> <dt class="hdlist1" id="Documentation/scalar.txt---no-src">
--no-src </dt> <dd> <p>By default, <span class="synopsis"><code>scalar</code> <code>clone</code></span> places the cloned repository within a <span class="synopsis"><em>&lt;entlistment&gt;</em><code>/src</code></span> directory. Use <span class="synopsis"><code>--no-src</code></span> to place the cloned repository directly in the <span class="synopsis"><em>&lt;enlistment&gt;</em></span> directory.</p> </dd> <dt class="hdlist1" id="Documentation/scalar.txt---tags">
--tags </dt> <dt class="hdlist1" id="Documentation/scalar.txt---no-tags">
--no-tags </dt> <dd> <p>By default, <span class="synopsis"><code>scalar</code> <code>clone</code></span> will fetch the tag objects advertised by the remote and future <span class="synopsis"><code>git</code> <code>fetch</code></span> commands will do the same. Use <span class="synopsis"><code>--no-tags</code></span> to avoid fetching tags in <span class="synopsis"><code>scalar</code> <code>clone</code></span> and to configure the repository to avoid fetching tags in the future. To fetch tags after cloning with <span class="synopsis"><code>--no-tags</code></span>, run <span class="synopsis"><code>git</code> <code>fetch</code> <code>--tags</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/scalar.txt---full-clone">
--full-clone </dt> <dt class="hdlist1" id="Documentation/scalar.txt---no-full-clone">
--no-full-clone </dt> <dd> <p>A sparse-checkout is initialized by default. This behavior can be turned off via <span class="synopsis"><code>--full-clone</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/scalar.txt---maintenance">
--maintenance </dt> <dt class="hdlist1" id="Documentation/scalar.txt---no-maintenance">
--no-maintenance </dt> <dd> <p>By default, <span class="synopsis"><code>scalar</code> <code>clone</code></span> configures the enlistment to use Git’s background maintenance feature. Use the <span class="synopsis"><code>--no-maintenance</code></span> to skip this configuration.</p> </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_list">
List</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-list">
list </dt> <dd> <p>List enlistments that are currently registered by Scalar. This subcommand does not need to be run inside an enlistment.</p> </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_register">
Register</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-registerltenlistmentgt">
register [&lt;enlistment&gt;] </dt> <dd> <p>Adds the enlistment’s repository to the list of registered repositories and starts background maintenance. If <span class="synopsis"><em>&lt;enlistment&gt;</em></span> is not provided, then the enlistment associated with the current working directory is registered.</p>  <p>Note: when this subcommand is called in a worktree that is called <span class="synopsis"><code>src/</code></span>, its parent directory is considered to be the Scalar enlistment. If the worktree is <code>not</code> called <span class="synopsis"><code>src/</code></span>, it itself will be considered to be the Scalar enlistment.</p>  </dd> <dt class="hdlist1" id="Documentation/scalar.txt---maintenance-1">
--maintenance </dt> <dt class="hdlist1" id="Documentation/scalar.txt---no-maintenance-1">
--no-maintenance </dt> <dd> <p>By default, <span class="synopsis"><code>scalar</code> <code>register</code></span> configures the enlistment to use Git’s background maintenance feature. Use the <span class="synopsis"><code>--no-maintenance</code></span> to skip this configuration. This does not disable any maintenance that may already be enabled in other ways.</p> </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_unregister">
Unregister</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-unregisterltenlistmentgt">
unregister [&lt;enlistment&gt;] </dt> <dd> <p>Remove the specified repository from the list of repositories registered with Scalar and stop the scheduled background maintenance.</p> </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_run">
Run</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-scalarrunallconfigcommit-graphfetchloose-objectspack-filesltenlistmentgt">
scalar run ( all | config | commit-graph | fetch | loose-objects | pack-files ) [&lt;enlistment&gt;] </dt> <dd> <p>Run the given maintenance task (or all tasks, if <span class="synopsis"><code>all</code></span> was specified). Except for <span class="synopsis"><code>all</code></span> and <span class="synopsis"><code>config</code></span>, this subcommand simply hands off to <a href="git-maintenance">git-maintenance[1]</a> (mapping <span class="synopsis"><code>fetch</code></span> to <span class="synopsis"><code>prefetch</code></span> and <span class="synopsis"><code>pack-files</code></span> to <span class="synopsis"><code>incremental-repack</code></span>).</p>  <p>These tasks are run automatically as part of the scheduled maintenance, as soon as the repository is registered with Scalar. It should therefore not be necessary to run this subcommand manually.</p>   <p>The <span class="synopsis"><code>config</code></span> task is specific to Scalar and configures all those opinionated default settings that make Git work more efficiently with large repositories. As this task is run as part of <span class="synopsis"><code>scalar</code> <code>clone</code></span> automatically, explicit invocations of this task are rarely needed.</p>  </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_reconfigure">
Reconfigure</h3>  <p>After a Scalar upgrade, or when the configuration of a Scalar enlistment was somehow corrupted or changed by mistake, this subcommand allows to reconfigure the enlistment.</p>  <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt---all">
--all </dt> <dd> <p>When <span class="synopsis"><code>--all</code></span> is specified, reconfigure all enlistments currently registered with Scalar by the <span class="synopsis"><code>scalar.repo</code></span> config key. Use this option after each upgrade to get the latest features.</p> </dd> <dt class="hdlist1" id="Documentation/scalar.txt---maintenanceenabledisablekeep">
--maintenance=(enable|disable|keep) </dt> <dd> <p>By default, Scalar configures the enlistment to use Git’s background maintenance feature; this is the same as using the <span class="synopsis"><code>enable</code></span> value for this option. Use the <span class="synopsis"><code>disable</code></span> value to remove each considered enlistment from background maintenance. Use ‘keep’ to leave the background maintenance configuration untouched for these repositories.</p> </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_diagnose">
Diagnose</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-diagnoseltenlistmentgt">
diagnose [&lt;enlistment&gt;] </dt> <dd> <p>When reporting issues with Scalar, it is often helpful to provide the information gathered by this command, including logs and certain statistics describing the data shape of the current enlistment.</p>  <p>The output of this command is a <span class="synopsis"><code>.zip</code></span> file that is written into a directory adjacent to the worktree in the <span class="synopsis"><code>src</code></span> directory.</p>  </dd> </dl> </div> </div> <div class="sect2"> <h3 id="_delete">
Delete</h3> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/scalar.txt-deleteltenlistmentgt">
delete &lt;enlistment&gt; </dt> <dd> <p>This subcommand lets you delete an existing Scalar enlistment from your local file system, unregistering the repository.</p> </dd> </dl> </div> </div> </div>   <h2 id="_see_also">See also</h2> <div class="sectionbody">  <p><a href="git-clone">git-clone[1]</a>, <a href="git-maintenance">git-maintenance[1]</a>.</p>  </div>      <h3 hidden="true" data-pagefind-weight="10">scalar</h3><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 Linus Torvalds and others<br>Licensed under the GNU General Public License version 2.<br>
    <a href="https://git-scm.com/docs/scalar" class="_attribution-link">https://git-scm.com/docs/scalar</a>
  </p>
</div>

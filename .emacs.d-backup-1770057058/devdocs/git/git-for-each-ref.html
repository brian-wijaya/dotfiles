<h1>git-for-each-ref</h1>  <h2 id="_name">Name</h2> <div class="sectionbody">  <p>git-for-each-ref - Output information on each ref</p>  </div>   <h2 id="_synopsis">Synopsis</h2> <div class="sectionbody"> <div class="verseblock"> <pre class="content" data-language="shell">git for-each-ref [--count=&lt;count&gt;] [--shell|--perl|--python|--tcl]
                   [(--sort=&lt;key&gt;)…​] [--format=&lt;format&gt;]
                   [--include-root-refs] [--points-at=&lt;object&gt;]
                   [--merged[=&lt;object&gt;]] [--no-merged[=&lt;object&gt;]]
                   [--contains[=&lt;object&gt;]] [--no-contains[=&lt;object&gt;]]
                   [(--exclude=&lt;pattern&gt;)…​] [--start-after=&lt;marker&gt;]
                   [ --stdin | (&lt;pattern&gt;...)]</pre> </div> </div>   <h2 id="_description">Description</h2> <div class="sectionbody">  <p>Iterate over all refs that match <code>&lt;pattern&gt;</code> and show them according to the given <code>&lt;format&gt;</code>, after sorting them according to the given set of <code>&lt;key&gt;</code>. If <code>&lt;count&gt;</code> is given, stop after showing that many refs. The interpolated values in <code>&lt;format&gt;</code> can optionally be quoted as string literals in the specified host language allowing their direct evaluation in that language.</p>  </div>   <h2 id="_options">Options</h2> <div class="sectionbody"> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsisemltpatterngtemspan">
<span class="synopsis"><em>&lt;pattern&gt;</em>...</span> </dt> <dd> <p>If one or more <code>&lt;pattern&gt;</code> parameters are given, only refs are shown that match against at least one pattern, either using <span class="synopsis"><code>fnmatch</code></span>(3) or literally, in the latter case matching completely or from the beginning up to a slash.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--stdincodespan">
<span class="synopsis"><code>--stdin</code></span> </dt> <dd> <p>The list of patterns is read from standard input instead of from the argument list.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--countcodeemltcountgtemspan">
<span class="synopsis"><code>--count=</code><em>&lt;count&gt;</em></span> </dt> <dd> <p>Stop after showing <code>&lt;count&gt;</code> refs.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--sortcodeemltkeygtemspan">
<span class="synopsis"><code>--sort=</code><em>&lt;key&gt;</em></span> </dt> <dd> <p>Sort on the field name <code>&lt;key&gt;</code>. Prefix <span class="synopsis"><code>-</code></span> to sort in descending order of the value. When unspecified, <span class="synopsis"><code>refname</code></span> is used. You may use the <span class="synopsis"><code>--sort=</code><em>&lt;key&gt;</em></span> option multiple times, in which case the last key becomes the primary key.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--formatcodecodecodeemltformatgtemspan">
<span class="synopsis"><code>--format</code>[<code>=</code><em>&lt;format&gt;</em>]</span> </dt> <dd> <p>A string that interpolates <span class="synopsis"><code>%</code>(<code>fieldname</code>)</span> from a ref being shown and the object it points at. In addition, the string literal <span class="synopsis"><code>%%</code></span> renders as <span class="synopsis"><code>%</code></span> and <span class="synopsis"><code>%xx</code></span> - where <span class="synopsis"><code>xx</code></span> are hex digits - renders as the character with hex code <span class="synopsis"><code>xx</code></span>. For example, <span class="synopsis"><code>%00</code></span> interpolates to <span class="synopsis"><em>\0</em></span> (<code>NUL</code>), <span class="synopsis"><code>%09</code></span> to <span class="synopsis"><em>\t</em></span> (<code>TAB</code>), and <span class="synopsis"><code>%0a</code></span> to <span class="synopsis"><em>\n</em></span> (<code>LF</code>).</p> </dd> </dl> </div>  <p>When unspecified, <code>&lt;format&gt;</code> defaults to <span class="synopsis"><code>%</code>(<code>objectname</code>) <code>SPC</code> <code>%</code>(<code>objecttype</code>) <code>TAB</code> <code>%</code>(<code>refname</code>)</span>.</p>  <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--colorcodecodecodeemltwhengtemspan">
<span class="synopsis"><code>--color</code>[<code>=</code><em>&lt;when&gt;</em>]</span> </dt> <dd> <p>Respect any colors specified in the <span class="synopsis"><code>--format</code></span> option. The <code>&lt;when_</code> field must be one of <span class="synopsis"><code>always</code></span>, <span class="synopsis"><code>never</code></span>, or <span class="synopsis"><code>auto</code></span> (if <span class="synopsis"><em>&lt;when&gt;</em></span> is absent, behave as if <span class="synopsis"><code>always</code></span> was given).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--shellcodespan">
<span class="synopsis"><code>--shell</code></span> </dt> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--perlcodespan">
<span class="synopsis"><code>--perl</code></span> </dt> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--pythoncodespan">
<span class="synopsis"><code>--python</code></span> </dt> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--tclcodespan">
<span class="synopsis"><code>--tcl</code></span> </dt> <dd> <p>If given, strings that substitute <span class="synopsis"><code>%</code>(<code>fieldname</code>)</span> placeholders are quoted as string literals suitable for the specified host language. This is meant to produce a scriptlet that can directly be "eval"ed.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--points-atcodeemltobjectgtemspan">
<span class="synopsis"><code>--points-at=</code><em><span class="hover-term" data-term="object">&lt;object&gt;</span></em></span> </dt> <dd> <p>Only list refs which points at the given object.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--mergedcodecodecodeemltobjectgtemspan">
<span class="synopsis"><code>--merged</code>[<code>=</code><em><span class="hover-term" data-term="object">&lt;object&gt;</span></em>]</span> </dt> <dd> <p>Only list refs whose tips are reachable from the specified commit (<span class="synopsis"><code>HEAD</code></span> if not specified).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--no-mergedcodecodecodeemltobjectgtemspan">
<span class="synopsis"><code>--no-merged</code>[<code>=</code><em><span class="hover-term" data-term="object">&lt;object&gt;</span></em>]</span> </dt> <dd> <p>Only list refs whose tips are not reachable from <code><span class="hover-term" data-term="object">&lt;object&gt;</span></code>(<span class="synopsis"><code>HEAD</code></span> if not specified).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--containscodecodecodeemltobjectgtemspan">
<span class="synopsis"><code>--contains</code>[<code>=</code><em><span class="hover-term" data-term="object">&lt;object&gt;</span></em>]</span> </dt> <dd> <p>Only list refs which contain <code><span class="hover-term" data-term="object">&lt;object&gt;</span></code>(<span class="synopsis"><code>HEAD</code></span> if not specified).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--no-containscodecodecodeemltobjectgtemspan">
<span class="synopsis"><code>--no-contains</code>[<code>=</code><em><span class="hover-term" data-term="object">&lt;object&gt;</span></em>]</span> </dt> <dd> <p>Only list refs which don’t contain <code><span class="hover-term" data-term="object">&lt;object&gt;</span></code> (<span class="synopsis"><code>HEAD</code></span> if not specified).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--ignore-casecodespan">
<span class="synopsis"><code>--ignore-case</code></span> </dt> <dd> <p>Sorting and filtering refs are case insensitive.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--omit-emptycodespan">
<span class="synopsis"><code>--omit-empty</code></span> </dt> <dd> <p>Do not print a newline after formatted refs where the format expands to the empty string.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--excludecodeemltexcluded-patterngtemspan">
<span class="synopsis"><code>--exclude=</code><em>&lt;excluded-pattern&gt;</em></span> </dt> <dd> <p>If one or more <span class="synopsis"><code>--exclude</code></span> options are given, only refs which do not match any <code>&lt;excluded-pattern&gt;</code> parameters are shown. Matching is done using the same rules as <code>&lt;pattern&gt;</code> above.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--include-root-refscodespan">
<span class="synopsis"><code>--include-root-refs</code></span> </dt> <dd> <p>List root refs (<span class="synopsis"><code>HEAD</code></span> and pseudorefs) apart from regular refs.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscode--start-aftercodeemltmarkergtemspan">
<span class="synopsis"><code>--start-after=</code><em>&lt;marker&gt;</em></span> </dt> <dd> <p>Allows paginating the output by skipping references up to and including the specified marker. When paging, it should be noted that references may be deleted, modified or added between invocations. Output will only yield those references which follow the marker lexicographically. Output begins from the first reference that would come after the marker alphabetically. Cannot be used with <span class="synopsis"><code>--sort=</code><em>&lt;key&gt;</em></span> or <span class="synopsis"><code>--stdin</code></span> options, or the <code>&lt;pattern&gt;</code> argument(s) to limit the refs.</p> </dd> </dl> </div> </div>   <h2 id="_field_names">Field names</h2> <div class="sectionbody">  <p>Various values from structured fields in referenced objects can be used to interpolate into the resulting output, or as sort keys.</p>   <p>For all objects, the following names can be used:</p>  <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscoderefnamecodespan">
<span class="synopsis"><code>refname</code></span> </dt> <dd> <p>The name of the ref (the part after <span class="synopsis"><code>$GIT_DIR/</code></span>). For a non-ambiguous short name of the ref append <span class="synopsis"><code>:short</code></span>. The option <span class="synopsis"><code>core.warnAmbiguousRefs</code></span> is used to select the strict abbreviation mode. If <span class="synopsis"><code>lstrip=</code><em>&lt;n&gt;</em></span> (<span class="synopsis"><code>rstrip=</code><em>&lt;n&gt;</em></span>) is appended, strip <code>&lt;n&gt;</code> slash-separated path components from the front (back) of the refname (e.g. <span class="synopsis"><code>%</code>(<code>refname:lstrip=2</code>)</span> turns <span class="synopsis"><code>refs/tags/foo</code></span> into <span class="synopsis"><code>foo</code></span> and <span class="synopsis"><code>%</code>(<code>refname:rstrip=2</code>)</span> turns <span class="synopsis"><code>refs/tags/foo</code></span> into <span class="synopsis"><code>refs</code></span>). If <code>&lt;n&gt;</code> is a negative number, strip as many path components as necessary from the specified end to leave <span class="synopsis"><code>-</code><em>&lt;n&gt;</em></span> path components (e.g. <span class="synopsis"><code>%</code>(<code>refname:lstrip=-2</code>)</span> turns <span class="synopsis"><code>refs/tags/foo</code></span> into <span class="synopsis"><code>tags/foo</code></span> and <span class="synopsis"><code>%</code>(<code>refname:rstrip=-1</code>)</span> turns <span class="synopsis"><code>refs/tags/foo</code></span> into <span class="synopsis"><code>refs</code></span>). When the ref does not have enough components, the result becomes an empty string if stripping with positive <code>&lt;n&gt;</code>, or it becomes the full refname if stripping with negative <code>&lt;N&gt;</code>. Neither is an error.</p>  <p><span class="synopsis"><code>strip</code></span> can be used as a synonym to <span class="synopsis"><code>lstrip</code></span>.</p>  </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeobjecttypecodespan">
<span class="synopsis"><code>objecttype</code></span> </dt> <dd> <p>The type of the object (<span class="synopsis"><code>blob</code></span>, <span class="synopsis"><code>tree</code></span>, <span class="synopsis"><code>commit</code></span>, <span class="synopsis"><code>tag</code></span>).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeobjectsizecodespan">
<span class="synopsis"><code>objectsize</code></span> </dt> <dd> <p>The size of the object (the same as <code>git cat-file -s</code> reports). Append <span class="synopsis"><code>:disk</code></span> to get the size, in bytes, that the object takes up on disk. See the note about on-disk sizes in the <code>CAVEATS</code> section below.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeobjectnamecodespan">
<span class="synopsis"><code>objectname</code></span> </dt> <dd> <p>The object name (aka SHA-1). For a non-ambiguous abbreviation of the object name append <span class="synopsis"><code>:short</code></span>. For an abbreviation of the object name with desired length append <span class="synopsis"><code>:short=</code><em>&lt;length&gt;</em></span>, where the minimum length is <span class="synopsis"><code>MINIMUM_ABBREV</code></span>. The length may be exceeded to ensure unique object names.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodedeltabasecodespan">
<span class="synopsis"><code>deltabase</code></span> </dt> <dd> <p>This expands to the object name of the delta base for the given object, if it is stored as a delta. Otherwise it expands to the null object name (all zeroes).</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeupstreamcodespan">
<span class="synopsis"><code>upstream</code></span> </dt> <dd> <p>The name of a local ref which can be considered “upstream” from the displayed ref. Respects <span class="synopsis"><code>:short</code></span>, <span class="synopsis"><code>:lstrip</code></span> and <span class="synopsis"><code>:rstrip</code></span> in the same way as <span class="synopsis"><code>refname</code></span> above. Additionally respects <span class="synopsis"><code>:track</code></span> to show "[ahead N, behind M]" and <span class="synopsis"><code>:trackshort</code></span> to show the terse version: "&gt;" (ahead), "&lt;" (behind), "&lt;&gt;" (ahead and behind), or "=" (in sync). <span class="synopsis"><code>:track</code></span> also prints "[gone]" whenever unknown upstream ref is encountered. Append <span class="synopsis"><code>:track,nobracket</code></span> to show tracking information without brackets (i.e "ahead N, behind M").</p>  <p>For any remote-tracking branch <span class="synopsis"><code>%</code>(<code>upstream</code>)</span>, <span class="synopsis"><code>%</code>(<code>upstream:remotename</code>)</span> and <span class="synopsis"><code>%</code>(<code>upstream:remoteref</code>)</span> refer to the name of the remote and the name of the tracked remote ref, respectively. In other words, the remote-tracking branch can be updated explicitly and individually by using the refspec <span class="synopsis"><code>%</code>(<code>upstream:remoteref</code>)<code>:%</code>(<code>upstream</code>)</span> to fetch from <span class="synopsis"><code>%</code>(<code>upstream:remotename</code>)</span>.</p>   <p>Has no effect if the ref does not have tracking information associated with it. All the options apart from <span class="synopsis"><code>nobracket</code></span> are mutually exclusive, but if used together the last option is selected.</p>  </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodepushcodespan">
<span class="synopsis"><code>push</code></span> </dt> <dd> <p>The name of a local ref which represents the <span class="synopsis"><code>@{push}</code></span> location for the displayed ref. Respects <span class="synopsis"><code>:short</code></span>, <span class="synopsis"><code>:lstrip</code></span>, <span class="synopsis"><code>:rstrip</code></span>, <span class="synopsis"><code>:track</code></span>, <span class="synopsis"><code>:trackshort</code></span>, <span class="synopsis"><code>:remotename</code></span>, and <span class="synopsis"><code>:remoteref</code></span> options as <span class="synopsis"><code>upstream</code></span> does. Produces an empty string if no <span class="synopsis"><code>@{push}</code></span> ref is configured.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeHEADcodespan">
<span class="synopsis"><code>HEAD</code></span> </dt> <dd> <p><span class="synopsis"><code>*</code></span> if <span class="synopsis"><code>HEAD</code></span> matches current ref (the checked out branch), ' ' otherwise.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodecolorcodespan">
<span class="synopsis"><code>color</code></span> </dt> <dd> <p>Change output color. Followed by <span class="synopsis"><code>:</code><em>&lt;colorname&gt;</em></span>, where color names are described under Values in the "CONFIGURATION FILE" section of <a href="git-config">git-config[1]</a>. For example, <span class="synopsis"><code>%</code>(<code>color:bold</code> <code>red</code>)</span>.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodealigncodespan">
<span class="synopsis"><code>align</code></span> </dt> <dd> <p>Left-, middle-, or right-align the content between <span class="synopsis"><code>%</code>(<code>align:...</code>)</span> and <span class="synopsis"><code>%</code>(<code>end</code>)</span>. The "<span class="synopsis"><code>align:</code></span>" is followed by <span class="synopsis"><code>width=</code><em>&lt;width&gt;</em></span> and <span class="synopsis"><code>position=</code><em>&lt;position&gt;</em></span> in any order separated by a comma, where the <code>&lt;position&gt;</code> is either <span class="synopsis"><code>left</code></span>, <span class="synopsis"><code>right</code></span> or <span class="synopsis"><code>middle</code></span>, default being <span class="synopsis"><code>left</code></span> and <code>&lt;width&gt;</code> is the total length of the content with alignment. For brevity, the "width=" and/or "position=" prefixes may be omitted, and bare <code>&lt;width&gt;</code> and <code>&lt;position&gt;</code> used instead. For instance, <span class="synopsis"><code>%</code>(<code>align:</code><em>&lt;width&gt;</em><code>,</code><em>&lt;position&gt;</em>)</span>. If the contents length is more than the width then no alignment is performed. If used with <span class="synopsis"><code>--quote</code></span> everything in between <span class="synopsis"><code>%</code>(<code>align:...</code>)</span> and <span class="synopsis"><code>%</code>(<code>end</code>)</span> is quoted, but if nested then only the topmost level performs quoting.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeifcodespan">
<span class="synopsis"><code>if</code></span> </dt> <dd> <p>Used as <span class="synopsis"><code>%</code>(<code>if</code>)<code>...%</code>(<code>then</code>)<code>...%</code>(<code>end</code>)</span> or <span class="synopsis"><code>%</code>(<code>if</code>)<code>...%</code>(<code>then</code>)<code>...%</code>(<code>else</code>)<code>...%</code>(<code>end</code>)</span>. If there is an atom with value or string literal after the <span class="synopsis"><code>%</code>(<code>if</code>)</span> then everything after the <span class="synopsis"><code>%</code>(<code>then</code>)</span> is printed, else if the <span class="synopsis"><code>%</code>(<code>else</code>)</span> atom is used, then everything after %(else) is printed. We ignore space when evaluating the string before <span class="synopsis"><code>%</code>(<code>then</code>)</span>, this is useful when we use the <span class="synopsis"><code>%</code>(<code>HEAD</code>)</span> atom which prints either "<span class="synopsis"><code>*</code></span>" or " " and we want to apply the <code>if</code> condition only on the <span class="synopsis"><code>HEAD</code></span> ref. Append "<span class="synopsis"><code>:equals=</code><em>&lt;string&gt;</em></span>" or "<span class="synopsis"><code>:notequals=</code><em>&lt;string&gt;</em></span>" to compare the value between the <span class="synopsis"><code>%</code>(<code>if:...</code>)</span> and <span class="synopsis"><code>%</code>(<code>then</code>)</span> atoms with the given string.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesymrefcodespan">
<span class="synopsis"><code>symref</code></span> </dt> <dd> <p>The ref which the given symbolic ref refers to. If not a symbolic ref, nothing is printed. Respects the <span class="synopsis"><code>:short</code></span>, <span class="synopsis"><code>:lstrip</code></span> and <span class="synopsis"><code>:rstrip</code></span> options in the same way as <span class="synopsis"><code>refname</code></span> above.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignaturecodespan">
<span class="synopsis"><code>signature</code></span> </dt> <dd> <p>The GPG signature of a commit.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignaturegradecodespan">
<span class="synopsis"><code>signature:grade</code></span> </dt> <dd> <p>Show</p> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeGcodespan">
<span class="synopsis"><code>G</code></span> </dt> <dd> <p>for a good (valid) signature</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeBcodespan">
<span class="synopsis"><code>B</code></span> </dt> <dd> <p>for a bad signature</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeUcodespan">
<span class="synopsis"><code>U</code></span> </dt> <dd> <p>for a good signature with unknown validity</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeXcodespan">
<span class="synopsis"><code>X</code></span> </dt> <dd> <p>for a good signature that has expired</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeYcodespan">
<span class="synopsis"><code>Y</code></span> </dt> <dd> <p>for a good signature made by an expired key</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeRcodespan">
<span class="synopsis"><code>R</code></span> </dt> <dd> <p>for a good signature made by a revoked key</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeEcodespan">
<span class="synopsis"><code>E</code></span> </dt> <dd> <p>if the signature cannot be checked (e.g. missing key)</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeNcodespan">
<span class="synopsis"><code>N</code></span> </dt> <dd> <p>for no signature.</p> </dd> </dl> </div> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignaturesignercodespan">
<span class="synopsis"><code>signature:signer</code></span> </dt> <dd> <p>The signer of the GPG signature of a commit.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignaturekeycodespan">
<span class="synopsis"><code>signature:key</code></span> </dt> <dd> <p>The key of the GPG signature of a commit.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignaturefingerprintcodespan">
<span class="synopsis"><code>signature:fingerprint</code></span> </dt> <dd> <p>The fingerprint of the GPG signature of a commit.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignatureprimarykeyfingerprintcodespan">
<span class="synopsis"><code>signature:primarykeyfingerprint</code></span> </dt> <dd> <p>The primary key fingerprint of the GPG signature of a commit.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodesignaturetrustlevelcodespan">
<span class="synopsis"><code>signature:trustlevel</code></span> </dt> <dd> <p>The trust level of the GPG signature of a commit. Possible outputs are <span class="synopsis"><code>ultimate</code></span>, <span class="synopsis"><code>fully</code></span>, <span class="synopsis"><code>marginal</code></span>, <span class="synopsis"><code>never</code></span> and <span class="synopsis"><code>undefined</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeworktreepathcodespan">
<span class="synopsis"><code>worktreepath</code></span> </dt> <dd> <p>The absolute path to the worktree in which the ref is checked out, if it is checked out in any linked worktree. Empty string otherwise.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeahead-behindcodeemltcommit-ishgtemspan">
<span class="synopsis"><code>ahead-behind:</code><em>&lt;commit-ish&gt;</em></span> </dt> <dd> <p>Two integers, separated by a space, demonstrating the number of commits ahead and behind, respectively, when comparing the output ref to the <code>&lt;committish&gt;</code> specified in the format.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeis-basecodeemltcommit-ishgtemspan">
<span class="synopsis"><code>is-base:</code><em>&lt;commit-ish&gt;</em></span> </dt> <dd> <p>In at most one row, <span class="synopsis">(<em>&lt;commit-ish&gt;</em>)</span> will appear to indicate the ref that is most likely the ref used as a starting point for the branch that produced <code>&lt;commit-ish&gt;</code>. This choice is made using a heuristic: choose the ref that minimizes the number of commits in the first-parent history of <code>&lt;commit-ish&gt;</code> and not in the first-parent history of the ref.</p>  <p>For example, consider the following figure of first-parent histories of several refs:</p>  <div class="listingblock"> <div class="content"> <pre>*--*--*--*--*--* refs/heads/A
\
 \
  *--*--*--* refs/heads/B
   \     \
    \     \
     *     * refs/heads/C
      \
       \
        *--* refs/heads/D</pre> </div> </div>  <p>Here, if <span class="synopsis"><code>A</code></span>, <span class="synopsis"><code>B</code></span>, and <span class="synopsis"><code>C</code></span> are the filtered references, and the format string is <span class="synopsis"><code>%</code>(<code>refname</code>)<code>:%</code>(<code>is-base:D</code>)</span>, then the output would be</p>  <div class="listingblock"> <div class="content"> <pre>refs/heads/A:
refs/heads/B:(D)
refs/heads/C:</pre> </div> </div>  <p>This is because the first-parent history of <span class="synopsis"><code>D</code></span> has its earliest intersection with the first-parent histories of the filtered refs at a common first-parent ancestor of <span class="synopsis"><code>B</code></span> and <span class="synopsis"><code>C</code></span> and ties are broken by the earliest ref in the sorted order.</p>   <p>Note that this token will not appear if the first-parent history of <code>&lt;commit-ish&gt;</code> does not intersect the first-parent histories of the filtered refs.</p>  </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodedescribecodecodecodeemltoptiongtemcodecodespan">
<span class="synopsis"><code>describe</code>[<code>:</code><em>&lt;option&gt;</em><code>,...</code>]</span> </dt> <dd> <p>A human-readable name, like <a href="git-describe">git-describe[1]</a>; empty string for undescribable commits. The <span class="synopsis"><code>describe</code></span> string may be followed by a colon and one or more comma-separated options.</p> <div class="openblock"> <div class="content"> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodetagscodeemltbool-valuegtemspan">
<span class="synopsis"><code>tags=</code><em>&lt;bool-value&gt;</em></span> </dt> <dd> <p>Instead of only considering annotated tags, consider lightweight tags as well; see the corresponding option in <a href="git-describe">git-describe[1]</a> for details.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeabbrevcodeemltnumbergtemspan">
<span class="synopsis"><code>abbrev=</code><em>&lt;number&gt;</em></span> </dt> <dd> <p>Use at least <code>&lt;number&gt;</code> hexadecimal digits; see the corresponding option in <a href="git-describe">git-describe[1]</a> for details.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodematchcodeemltpatterngtemspan">
<span class="synopsis"><code>match=</code><em>&lt;pattern&gt;</em></span> </dt> <dd> <p>Only consider tags matching the <span class="synopsis"><code>glob</code></span>(7) <code>&lt;pattern&gt;</code>, excluding the <span class="synopsis"><code>refs/tags/</code></span> prefix; see the corresponding option in <a href="git-describe">git-describe[1]</a> for details.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodeexcludecodeemltpatterngtemspan">
<span class="synopsis"><code>exclude=</code><em>&lt;pattern&gt;</em></span> </dt> <dd> <p>Do not consider tags matching the <span class="synopsis"><code>glob</code></span>(7) <code>&lt;pattern&gt;</code>, excluding the <span class="synopsis"><code>refs/tags/</code></span> prefix; see the corresponding option in <a href="git-describe">git-describe[1]</a> for details.</p> </dd> </dl> </div> </div> </div> </dd> </dl> </div>  <p>In addition to the above, for commit and tag objects, the header field names (<span class="synopsis"><code>tree</code></span>, <span class="synopsis"><code>parent</code></span>, <span class="synopsis"><code>object</code></span>, <span class="synopsis"><code>type</code></span>, and <span class="synopsis"><code>tag</code></span>) can be used to specify the value in the header field. Fields <span class="synopsis"><code>tree</code></span> and <span class="synopsis"><code>parent</code></span> can also be used with modifier <span class="synopsis"><code>:short</code></span> and <span class="synopsis"><code>:short=</code><em>&lt;length&gt;</em></span> just like <span class="synopsis"><code>objectname</code></span>.</p>   <p>For commit and tag objects, the special <span class="synopsis"><code>creatordate</code></span> and <span class="synopsis"><code>creator</code></span> fields will correspond to the appropriate date or name-email-date tuple from the <span class="synopsis"><code>committer</code></span> or <span class="synopsis"><code>tagger</code></span> fields depending on the object type. These are intended for working on a mix of annotated and lightweight tags.</p>   <p>For tag objects, a <span class="synopsis"><code>fieldname</code></span> prefixed with an asterisk (<span class="synopsis"><code>*</code></span>) expands to the <span class="synopsis"><code>fieldname</code></span> value of the peeled object, rather than that of the tag object itself.</p>   <p>Fields that have name-email-date tuple as its value (<span class="synopsis"><code>author</code></span>, <span class="synopsis"><code>committer</code></span>, and <span class="synopsis"><code>tagger</code></span>) can be suffixed with <span class="synopsis"><code>name</code></span>, <span class="synopsis"><code>email</code></span>, and <span class="synopsis"><code>date</code></span> to extract the named component. For email fields (<span class="synopsis"><code>authoremail</code></span>, <span class="synopsis"><code>committeremail</code></span> and <span class="synopsis"><code>taggeremail</code></span>), <span class="synopsis"><code>:trim</code></span> can be appended to get the email without angle brackets, and <span class="synopsis"><code>:localpart</code></span> to get the part before the <span class="synopsis"><code>@</code></span> symbol out of the trimmed email. In addition to these, the <span class="synopsis"><code>:mailmap</code></span> option and the corresponding <span class="synopsis"><code>:mailmap,trim</code></span> and <span class="synopsis"><code>:mailmap,localpart</code></span> can be used (order does not matter) to get values of the name and email according to the .mailmap file or according to the file set in the mailmap.file or mailmap.blob configuration variable (see <a href="gitmailmap">gitmailmap[5]</a>).</p>   <p>The raw data in an object is <span class="synopsis"><code>raw</code></span>.</p>  <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscoderawsizecodespan">
<span class="synopsis"><code>raw:size</code></span> </dt> <dd> <p>The raw data size of the object.</p> </dd> </dl> </div>  <p>Note that <span class="synopsis"><code>--format=%</code>(<code>raw</code>)</span> can not be used with <span class="synopsis"><code>--python</code></span>, <span class="synopsis"><code>--shell</code></span>, <span class="synopsis"><code>--tcl</code></span>, because such language may not support arbitrary binary data in their string variable type.</p>   <p>The message in a commit or a tag object is <span class="synopsis"><code>contents</code></span>, from which <span class="synopsis"><code>contents:</code><em>&lt;part&gt;</em></span> can be used to extract various parts out of:</p>  <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodecontentssizecodespan">
<span class="synopsis"><code>contents:size</code></span> </dt> <dd> <p>The size in bytes of the commit or tag message.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodecontentssubjectcodespan">
<span class="synopsis"><code>contents:subject</code></span> </dt> <dd> <p>The first paragraph of the message, which typically is a single line, is taken as the "subject" of the commit or the tag message. Instead of <span class="synopsis"><code>contents:subject</code></span>, field <span class="synopsis"><code>subject</code></span> can also be used to obtain same results. <span class="synopsis"><code>:sanitize</code></span> can be appended to <span class="synopsis"><code>subject</code></span> for subject line suitable for filename.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodecontentsbodycodespan">
<span class="synopsis"><code>contents:body</code></span> </dt> <dd> <p>The remainder of the commit or the tag message that follows the "subject".</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodecontentssignaturecodespan">
<span class="synopsis"><code>contents:signature</code></span> </dt> <dd> <p>The optional GPG signature of the tag.</p> </dd> <dt class="hdlist1" id="Documentation/git-for-each-ref.txt-spanclasssynopsiscodecontentslinescodeemltngtemspan">
<span class="synopsis"><code>contents:lines=</code><em>&lt;n&gt;</em></span> </dt> <dd> <p>The first <code>&lt;n&gt;</code> lines of the message.</p> </dd> </dl> </div>  <p>Additionally, the trailers as interpreted by <a href="git-interpret-trailers">git-interpret-trailers[1]</a> are obtained as <span class="synopsis"><code>trailers</code>[<code>:</code><em>&lt;option&gt;</em><code>,...</code>]</span> (or by using the historical alias <span class="synopsis"><code>contents:trailers</code>[<code>:</code><em>&lt;option&gt;</em><code>,...</code>]</span>). For valid <code>&lt;option&gt;</code> values see <span class="synopsis"><code>trailers</code></span> section of <a href="git-log">git-log[1]</a>.</p>   <p>For sorting purposes, fields with numeric values sort in numeric order (<span class="synopsis"><code>objectsize</code></span>, <span class="synopsis"><code>authordate</code></span>, <span class="synopsis"><code>committerdate</code></span>, <span class="synopsis"><code>creatordate</code></span>, <span class="synopsis"><code>taggerdate</code></span>). All other fields are used to sort in their byte-value order.</p>   <p>There is also an option to sort by versions, this can be done by using the fieldname <span class="synopsis"><code>version:refname</code></span> or its alias <span class="synopsis"><code>v:refname</code></span>.</p>   <p>In any case, a field name that refers to a field inapplicable to the object referred by the ref does not cause an error. It returns an empty string instead.</p>   <p>As a special case for the date-type fields, you may specify a format for the date by adding <span class="synopsis"><code>:</code></span> followed by date format name (see the values the <span class="synopsis"><code>--date</code></span> option to <a href="git-rev-list">git-rev-list[1]</a> takes). If this formatting is provided in a <span class="synopsis"><code>--sort</code></span> key, references will be sorted according to the byte-value of the formatted string rather than the numeric value of the underlying timestamp.</p>   <p>Some atoms like <span class="synopsis"><code>%</code>(<code>align</code>)</span> and <span class="synopsis"><code>%</code>(<code>if</code>)</span> always require a matching <span class="synopsis"><code>%</code>(<code>end</code>)</span>. We call them "opening atoms" and sometimes denote them as <span class="synopsis"><code>%</code>(<code>$open</code>)</span>.</p>   <p>When a scripting language specific quoting is in effect, everything between a top-level opening atom and its matching %(end) is evaluated according to the semantics of the opening atom and only its result from the top-level is quoted.</p>  </div>   <h2 id="_examples">Examples</h2> <div class="sectionbody">  <p>An example directly producing formatted text. Show the most recent 3 tagged commits:</p>  <div class="listingblock"> <div class="content"> <pre>#!/bin/sh

git for-each-ref --count=3 --sort='-*authordate' \
`--format='From: %(*authorname) %(*authoremail)
Subject: %(*subject)
Date: %(*authordate)
Ref: %(*refname)

%(*body)
' 'refs/tags'</pre> </div> </div>  <p>A simple example showing the use of shell eval on the output, demonstrating the use of <span class="synopsis"><code>--shell</code></span>. List the prefixes of all heads:</p>  <div class="listingblock"> <div class="content"> <pre>#!/bin/sh

git for-each-ref --shell --format="ref=%(refname)" refs/heads | \
while read entry
do
        eval "$entry"
        echo `dirname $ref`
done</pre> </div> </div>  <p>A bit more elaborate report on tags, demonstrating that the format may be an entire script:</p>  <div class="listingblock"> <div class="content"> <pre>#!/bin/sh

fmt='
        r=%(refname)
        t=%(*objecttype)
        T=${r#refs/tags/}

        o=%(*objectname)
        n=%(*authorname)
        e=%(*authoremail)
        s=%(*subject)
        d=%(*authordate)
        b=%(*body)

        kind=Tag
        if test "z$t" = z
        then
                # could be a lightweight tag
                t=%(objecttype)
                kind="Lightweight tag"
                o=%(objectname)
                n=%(authorname)
                e=%(authoremail)
                s=%(subject)
                d=%(authordate)
                b=%(body)
        fi
        echo "$kind $T points at a $t object $o"
        if test "z$t" = zcommit
        then
                echo "The commit was authored by $n $e
at $d, and titled

    $s

Its message reads as:
"
                echo "$b" | sed -e "s/^/    /"
                echo
        fi
'

eval=`git for-each-ref --shell --format="$fmt" \
        --sort='*objecttype' \
        --sort=-taggerdate \
        refs/tags`
eval "$eval"</pre> </div> </div>  <p>An example to show the usage of <span class="synopsis"><code>%</code>(<code>if</code>)<code>...%</code>(<code>then</code>)<code>...%</code>(<code>else</code>)<code>...%</code>(<code>end</code>)</span>. This prefixes the current branch with a star.</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell">git for-each-ref --format="%(if)%(HEAD)%(then)* %(else)  %(end)%(refname:short)" refs/heads/</pre> </div> </div>  <p>An example to show the usage of <span class="synopsis"><code>%</code>(<code>if</code>)<code>...%</code>(<code>then</code>)<code>...%</code>(<code>end</code>)</span>. This prints the authorname, if present.</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell">git for-each-ref --format="%(refname)%(if)%(authorname)%(then) Authored by: %(authorname)%(end)"</pre> </div> </div> </div>   <h2 id="_caveats">Caveats</h2> <div class="sectionbody">  <p>Note that the sizes of objects on disk are reported accurately, but care should be taken in drawing conclusions about which refs or objects are responsible for disk usage. The size of a packed non-delta object may be much larger than the size of objects which delta against it, but the choice of which object is the base and which is the delta is arbitrary and is subject to change during a repack.</p>   <p>Note also that multiple copies of an object may be present in the object database; in this case, it is undefined which copy’s size or delta base will be reported.</p>  </div>   <h2 id="_notes">Notes</h2> <div class="sectionbody">  <p>When combining multiple <span class="synopsis"><code>--contains</code></span> and <span class="synopsis"><code>--no-contains</code></span> filters, only references that contain at least one of the <span class="synopsis"><code>--contains</code></span> commits and contain none of the <span class="synopsis"><code>--no-contains</code></span> commits are shown.</p>   <p>When combining multiple <span class="synopsis"><code>--merged</code></span> and <span class="synopsis"><code>--no-merged</code></span> filters, only references that are reachable from at least one of the <span class="synopsis"><code>--merged</code></span> commits and from none of the <span class="synopsis"><code>--no-merged</code></span> commits are shown.</p>  </div>   <h2 id="_see_also">See also</h2> <div class="sectionbody">  <p><a href="git-show-ref">git-show-ref[1]</a></p>  </div>      <h3 hidden="true" data-pagefind-weight="7">for-each-ref</h3><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 Linus Torvalds and others<br>Licensed under the GNU General Public License version 2.<br>
    <a href="https://git-scm.com/docs/git-for-each-ref" class="_attribution-link">https://git-scm.com/docs/git-for-each-ref</a>
  </p>
</div>

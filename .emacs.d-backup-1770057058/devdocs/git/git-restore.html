<h1>git-restore</h1>  <h2 id="_name">Name</h2> <div class="sectionbody">  <p>git-restore - Restore working tree files</p>  </div>   <h2 id="_synopsis">Synopsis</h2> <div class="sectionbody"> <div class="verseblock"> <pre class="content" data-language="shell">git restore [&lt;options&gt;] [--source=&lt;tree&gt;] [--staged] [--worktree] [--] &lt;pathspec&gt;…​
git restore [&lt;options&gt;] [--source=&lt;tree&gt;] [--staged] [--worktree] --pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]
git restore (-p|--patch) [&lt;options&gt;] [--source=&lt;tree&gt;] [--staged] [--worktree] [--] [&lt;pathspec&gt;…​]</pre> </div> </div>   <h2 id="_description">Description</h2> <div class="sectionbody">  <p>Restore specified paths in the working tree with some contents from a restore source. If a path is tracked but does not exist in the restore source, it will be removed to match the source.</p>   <p>The command can also be used to restore the content in the index with <span class="synopsis"><code>--staged</code></span>, or restore both the working tree and the index with <span class="synopsis"><code>--staged</code> <code>--worktree</code></span>.</p>   <p>By default, if <span class="synopsis"><code>--staged</code></span> is given, the contents are restored from <span class="synopsis"><code>HEAD</code></span>, otherwise from the index. Use <span class="synopsis"><code>--source</code></span> to restore from a different commit.</p>   <p>See "Reset, restore and revert" in <a href="git">git[1]</a> for the differences between the three commands.</p>  </div>   <h2 id="_options">Options</h2> <div class="sectionbody"> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-scodeemlttreegtemspan">
<span class="synopsis"><code>-s</code> <em><span class="hover-term" data-term="tree">&lt;tree&gt;</span></em></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--sourcecodeemlttreegtemspan">
<span class="synopsis"><code>--source=</code><em><span class="hover-term" data-term="tree">&lt;tree&gt;</span></em></span> </dt> <dd> <p>Restore the working tree files with the content from the given tree. It is common to specify the source tree by naming a commit, branch or tag associated with it.</p>  <p>If not specified, the contents are restored from <span class="synopsis"><code>HEAD</code></span> if <span class="synopsis"><code>--staged</code></span> is given, otherwise from the index.</p>   <p>As a special case, you may use <span class="synopsis"><code>"</code><em>&lt;rev-A&gt;</em><code>...</code><em>&lt;rev-B&gt;</em><code>"</code></span> as a shortcut for the merge base of <code>&lt;rev-A&gt;</code> and <code>&lt;rev-B&gt;</code> if there is exactly one merge base. You can leave out at most one of <code>&lt;rev-A&gt;_</code> and <code>&lt;rev-B&gt;</code>, in which case it defaults to <span class="synopsis"><code>HEAD</code></span>.</p>  </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-pcodespan">
<span class="synopsis"><code>-p</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--patchcodespan">
<span class="synopsis"><code>--patch</code></span> </dt> <dd> <p>Interactively select hunks in the difference between the restore source and the restore location. See the "Interactive Mode" section of <a href="git-add">git-add[1]</a> to learn how to operate the <span class="synopsis"><code>--patch</code></span> mode.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-Ucodeemltngtemspan">
<span class="synopsis"><code>-U</code><em>&lt;n&gt;</em></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--unifiedcodeemltngtemspan">
<span class="synopsis"><code>--unified=</code><em>&lt;n&gt;</em></span> </dt> <dd> <p>Generate diffs with <code>&lt;n&gt;</code> lines of context. Defaults to <span class="synopsis"><code>diff.context</code></span> or 3 if the config option is unset.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--inter-hunk-contextcodeemltngtemspan">
<span class="synopsis"><code>--inter-hunk-context=</code><em>&lt;n&gt;</em></span> </dt> <dd> <p>Show the context between diff hunks, up to the specified <code>&lt;number&gt;</code> of lines, thereby fusing hunks that are close to each other. Defaults to <span class="synopsis"><code>diff.interHunkContext</code></span> or 0 if the config option is unset.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-Wcodespan">
<span class="synopsis"><code>-W</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--worktreecodespan">
<span class="synopsis"><code>--worktree</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-Scodespan">
<span class="synopsis"><code>-S</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--stagedcodespan">
<span class="synopsis"><code>--staged</code></span> </dt> <dd> <p>Specify the restore location. If neither option is specified, by default the working tree is restored. Specifying <span class="synopsis"><code>--staged</code></span> will only restore the index. Specifying both restores both.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-qcodespan">
<span class="synopsis"><code>-q</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--quietcodespan">
<span class="synopsis"><code>--quiet</code></span> </dt> <dd> <p>Quiet, suppress feedback messages. Implies <span class="synopsis"><code>--no-progress</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--progresscodespan">
<span class="synopsis"><code>--progress</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--no-progresscodespan">
<span class="synopsis"><code>--no-progress</code></span> </dt> <dd> <p>Progress status is reported on the standard error stream by default when it is attached to a terminal, unless <span class="synopsis"><code>--quiet</code></span> is specified. This flag enables progress reporting even if not attached to a terminal, regardless of <span class="synopsis"><code>--quiet</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--ourscodespan">
<span class="synopsis"><code>--ours</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--theirscodespan">
<span class="synopsis"><code>--theirs</code></span> </dt> <dd> <p>When restoring files in the working tree from the index, use stage #2 (<span class="synopsis"><code>ours</code></span>) or #3 (<span class="synopsis"><code>theirs</code></span>) for unmerged paths. This option cannot be used when checking out paths from a tree-ish (i.e. with the <span class="synopsis"><code>--source</code></span> option).</p>  <p>Note that during <span class="synopsis"><code>git</code> <code>rebase</code></span> and <span class="synopsis"><code>git</code> <code>pull</code> <code>--rebase</code></span>, <span class="synopsis"><code>ours</code></span> and <span class="synopsis"><code>theirs</code></span> may appear swapped. See the explanation of the same options in <a href="git-checkout">git-checkout[1]</a> for details.</p>  </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode-mcodespan">
<span class="synopsis"><code>-m</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--mergecodespan">
<span class="synopsis"><code>--merge</code></span> </dt> <dd> <p>When restoring files on the working tree from the index, recreate the conflicted merge in the unmerged paths. This option cannot be used when checking out paths from a tree-ish (i.e. with the <span class="synopsis"><code>--source</code></span> option).</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--conflictcodeemltstylegtemspan">
<span class="synopsis"><code>--conflict=</code><em>&lt;style&gt;</em></span> </dt> <dd> <p>The same as <span class="synopsis"><code>--merge</code></span> option above, but changes the way the conflicting hunks are presented, overriding the <span class="synopsis"><code>merge.conflictStyle</code></span> configuration variable. Possible values are <span class="synopsis"><code>merge</code></span> (default), <span class="synopsis"><code>diff3</code></span>, and <span class="synopsis"><code>zdiff3</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--ignore-unmergedcodespan">
<span class="synopsis"><code>--ignore-unmerged</code></span> </dt> <dd> <p>When restoring files on the working tree from the index, do not abort the operation if there are unmerged entries and neither <span class="synopsis"><code>--ours</code></span>, <span class="synopsis"><code>--theirs</code></span>, <span class="synopsis"><code>--merge</code></span> or <span class="synopsis"><code>--conflict</code></span> is specified. Unmerged paths on the working tree are left alone.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--ignore-skip-worktree-bitscodespan">
<span class="synopsis"><code>--ignore-skip-worktree-bits</code></span> </dt> <dd> <p>In sparse checkout mode, the default is to only update entries matched by <code><span class="hover-term" data-term="pathspec">&lt;pathspec&gt;</span></code> and sparse patterns in <span class="synopsis"><code>$GIT_DIR/info/sparse-checkout</code></span>. This option ignores the sparse patterns and unconditionally restores any files in <code><span class="hover-term" data-term="pathspec">&lt;pathspec&gt;</span></code>.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--recurse-submodulescodespan">
<span class="synopsis"><code>--recurse-submodules</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--no-recurse-submodulescodespan">
<span class="synopsis"><code>--no-recurse-submodules</code></span> </dt> <dd> <p>If <code><span class="hover-term" data-term="pathspec">&lt;pathspec&gt;</span></code> names an active submodule and the restore location includes the working tree, the submodule will only be updated if this option is given, in which case its working tree will be restored to the commit recorded in the superproject, and any local modifications overwritten. If nothing (or <span class="synopsis"><code>--no-recurse-submodules</code></span>) is used, submodules working trees will not be updated. Just like <a href="git-checkout">git-checkout[1]</a>, this will detach <span class="synopsis"><code>HEAD</code></span> of the submodule.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--overlaycodespan">
<span class="synopsis"><code>--overlay</code></span> </dt> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--no-overlaycodespan">
<span class="synopsis"><code>--no-overlay</code></span> </dt> <dd> <p>In overlay mode, never remove files when restoring. In no-overlay mode, remove tracked files that do not appear in the <code><span class="hover-term" data-term="tree">&lt;tree&gt;</span></code> of <span class="synopsis"><code>--source=</code><em><span class="hover-term" data-term="tree">&lt;tree&gt;</span></em></span>, to make them match <code><span class="hover-term" data-term="tree">&lt;tree&gt;</span></code> exactly. The default is no-overlay mode.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--pathspec-from-filecodeemltfilegtemspan">
<span class="synopsis"><code>--pathspec-from-file=</code><em>&lt;file&gt;</em></span> </dt> <dd> <p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If <code>&lt;file&gt;</code> is exactly <span class="synopsis"><code>-</code></span> then standard input is used. Pathspec elements are separated by <code>LF</code> or <code>CR</code>/<code>LF</code>. Pathspec elements can be quoted as explained for the configuration variable <span class="synopsis"><code>core.quotePath</code></span> (see <a href="git-config">git-config[1]</a>). See also <span class="synopsis"><code>--pathspec-file-nul</code></span> and global <span class="synopsis"><code>--literal-pathspecs</code></span>.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--pathspec-file-nulcodespan">
<span class="synopsis"><code>--pathspec-file-nul</code></span> </dt> <dd> <p>Only meaningful with <span class="synopsis"><code>--pathspec-from-file</code></span>. Pathspec elements are separated with <code>NUL</code> character and all other characters are taken literally (including newlines and quotes).</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsiscode--codespan">
<span class="synopsis"><code>--</code></span> </dt> <dd> <p>Do not interpret any more arguments as options.</p> </dd> <dt class="hdlist1" id="Documentation/git-restore.txt-spanclasssynopsisemltpathspecgtemspan">
<span class="synopsis"><em><span class="hover-term" data-term="pathspec">&lt;pathspec&gt;</span></em>...</span> </dt> <dd> <p>Limits the paths affected by the operation.</p>  <p>For more details, see the <code>pathspec</code> entry in <a href="gitglossary">gitglossary[7]</a>.</p>  </dd> </dl> </div> </div>   <h2 id="_examples">Examples</h2> <div class="sectionbody">  <p>The following sequence switches to the <span class="synopsis"><code>master</code></span> branch, reverts the <span class="synopsis"><code>Makefile</code></span> to two revisions back, deletes <span class="synopsis"><code>hello.c</code></span> by mistake, and gets it back from the index.</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git switch master
$ git restore --source master~2 Makefile  (1)
$ rm -f hello.c
$ git restore hello.c                     (2)</pre> </div> </div> <div class="colist arabic"> <ol> <li> <p>take a file out of another commit</p> </li> <li> <p>restore <span class="synopsis"><code>hello.c</code></span> from the index</p> </li> </ol> </div>  <p>If you want to restore <code>all</code> C source files to match the version in the index, you can say</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git restore '*.c'</pre> </div> </div>  <p>Note the quotes around <span class="synopsis"><code>*.c</code></span>. The file <span class="synopsis"><code>hello.c</code></span> will also be restored, even though it is no longer in the working tree, because the file globbing is used to match entries in the index (not in the working tree by the shell).</p>   <p>To restore all files in the current directory</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git restore .</pre> </div> </div>  <p>or to restore all working tree files with <code>top</code> pathspec magic (see <a href="gitglossary">gitglossary[7]</a>)</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git restore :/</pre> </div> </div>  <p>To restore a file in the index to match the version in <span class="synopsis"><code>HEAD</code></span> (this is the same as using <a href="git-reset">git-reset[1]</a>)</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git restore --staged hello.c</pre> </div> </div>  <p>or you can restore both the index and the working tree (this is the same as using <a href="git-checkout">git-checkout[1]</a>)</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git restore --source=HEAD --staged --worktree hello.c</pre> </div> </div>  <p>or the short form which is more practical but less readable:</p>  <div class="listingblock"> <div class="content"> <pre data-language="shell-session">$ git restore -s@ -SW hello.c</pre> </div> </div> </div>   <h2 id="_see_also">See also</h2> <div class="sectionbody">  <p><a href="git-checkout">git-checkout[1]</a>, <a href="git-reset">git-reset[1]</a></p>  </div>      <h3 hidden="true" data-pagefind-weight="10">restore</h3><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 Linus Torvalds and others<br>Licensed under the GNU General Public License version 2.<br>
    <a href="https://git-scm.com/docs/git-restore" class="_attribution-link">https://git-scm.com/docs/git-restore</a>
  </p>
</div>

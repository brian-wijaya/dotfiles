<h1>globals<a href="#undefined" aria-label="Link for this heading" title="Link for this heading"><svg width="1em" height="1em" viewbox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" fill-rule="evenodd"><path d="M7.778 7.975a2.5 2.5 0 0 0 .347-3.837L6.017 2.03a2.498 2.498 0 0 0-3.542-.007 2.5 2.5 0 0 0 .006 3.543l1.153 1.15c.07-.29.154-.563.25-.773.036-.077.084-.16.14-.25L3.18 4.85a1.496 1.496 0 0 1 .002-2.12 1.496 1.496 0 0 1 2.12 0l2.124 2.123a1.496 1.496 0 0 1-.333 2.37c.16.246.42.504.685.752z"></path><path d="M5.657 4.557a2.5 2.5 0 0 0-.347 3.837l2.108 2.108a2.498 2.498 0 0 0 3.542.007 2.5 2.5 0 0 0-.006-3.543L9.802 5.815c-.07.29-.154.565-.25.774-.036.076-.084.16-.14.25l.842.84c.585.587.59 1.532 0 2.122-.587.585-1.532.59-2.12 0L6.008 7.68a1.496 1.496 0 0 1 .332-2.372c-.16-.245-.42-.503-.685-.75z"></path></g></svg></a>
</h1>
<div><p>Validates against assignment/mutation of globals during render, part of ensuring that <a href="../../rules/components-and-hooks-must-be-pure#side-effects-must-run-outside-of-render">side effects must run outside of render</a>.</p></div> <h2 id="rule-details">Rule Details <a href="#rule-details" aria-label="Link for Rule Details " title="Link for Rule Details "><svg width="1em" height="1em" viewbox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" fill-rule="evenodd"><path d="M7.778 7.975a2.5 2.5 0 0 0 .347-3.837L6.017 2.03a2.498 2.498 0 0 0-3.542-.007 2.5 2.5 0 0 0 .006 3.543l1.153 1.15c.07-.29.154-.563.25-.773.036-.077.084-.16.14-.25L3.18 4.85a1.496 1.496 0 0 1 .002-2.12 1.496 1.496 0 0 1 2.12 0l2.124 2.123a1.496 1.496 0 0 1-.333 2.37c.16.246.42.504.685.752z"></path><path d="M5.657 4.557a2.5 2.5 0 0 0-.347 3.837l2.108 2.108a2.498 2.498 0 0 0 3.542.007 2.5 2.5 0 0 0-.006-3.543L9.802 5.815c-.07.29-.154.565-.25.774-.036.076-.084.16-.14.25l.842.84c.585.587.59 1.532 0 2.122-.587.585-1.532.59-2.12 0L6.008 7.68a1.496 1.496 0 0 1 .332-2.372c-.16-.245-.42-.503-.685-.75z"></path></g></svg></a>
</h2> <p>Global variables exist outside React’s control. When you modify them during render, you break React’s assumption that rendering is pure. This can cause components to behave differently in development vs production, break Fast Refresh, and make your app impossible to optimize with features like React Compiler.</p> <h3 id="invalid">Invalid <a href="#invalid" aria-label="Link for Invalid " title="Link for Invalid "><svg width="1em" height="1em" viewbox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" fill-rule="evenodd"><path d="M7.778 7.975a2.5 2.5 0 0 0 .347-3.837L6.017 2.03a2.498 2.498 0 0 0-3.542-.007 2.5 2.5 0 0 0 .006 3.543l1.153 1.15c.07-.29.154-.563.25-.773.036-.077.084-.16.14-.25L3.18 4.85a1.496 1.496 0 0 1 .002-2.12 1.496 1.496 0 0 1 2.12 0l2.124 2.123a1.496 1.496 0 0 1-.333 2.37c.16.246.42.504.685.752z"></path><path d="M5.657 4.557a2.5 2.5 0 0 0-.347 3.837l2.108 2.108a2.498 2.498 0 0 0 3.542.007 2.5 2.5 0 0 0-.006-3.543L9.802 5.815c-.07.29-.154.565-.25.774-.036.076-.084.16-.14.25l.842.84c.585.587.59 1.532 0 2.122-.587.585-1.532.59-2.12 0L6.008 7.68a1.496 1.496 0 0 1 .332-2.372c-.16-.245-.42-.503-.685-.75z"></path></g></svg></a>
</h3> <p>Examples of incorrect code for this rule:</p> <pre data-language="jsx"><code><span>// ❌ Global counter</span>
<span>let</span> <span>renderCount</span> = <span>0</span><span>;</span>
<span>function</span> <span>Component</span><span>(</span><span>)</span> <span>{</span>
  <span>renderCount</span>++<span>;</span> <span>// Mutating global</span>
  <span>return</span> <span>&lt;</span><span>div</span><span>&gt;</span>Count: <span>{</span><span>renderCount</span><span>}</span><span>&lt;/</span><span>div</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>// ❌ Modifying window properties</span>
<span>function</span> <span>Component</span><span>(</span><span>{</span><span>userId</span><span>}</span><span>)</span> <span>{</span>
  <span>window</span>.<span>currentUser</span> = <span>userId</span><span>;</span> <span>// Global mutation</span>
  <span>return</span> <span>&lt;</span><span>div</span><span>&gt;</span>User: <span>{</span><span>userId</span><span>}</span><span>&lt;/</span><span>div</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>// ❌ Global array push</span>
<span>const</span> <span>events</span> = <span>[</span><span>]</span><span>;</span>
<span>function</span> <span>Component</span><span>(</span><span>{</span><span>event</span><span>}</span><span>)</span> <span>{</span>
  <span>events</span>.<span>push</span><span>(</span><span>event</span><span>)</span><span>;</span> <span>// Mutating global array</span>
  <span>return</span> <span>&lt;</span><span>div</span><span>&gt;</span>Events: <span>{</span><span>events</span>.<span>length</span><span>}</span><span>&lt;/</span><span>div</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>// ❌ Cache manipulation</span>
<span>const</span> <span>cache</span> = <span>{</span><span>}</span><span>;</span>
<span>function</span> <span>Component</span><span>(</span><span>{</span><span>id</span><span>}</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span>!<span>cache</span><span>[</span><span>id</span><span>]</span><span>)</span> <span>{</span>
    <span>cache</span><span>[</span><span>id</span><span>]</span> = <span>fetchData</span><span>(</span><span>id</span><span>)</span><span>;</span> <span>// Modifying cache during render</span>
  <span>}</span>
  <span>return</span> <span>&lt;</span><span>div</span><span>&gt;</span><span>{</span><span>cache</span><span>[</span><span>id</span><span>]</span><span>}</span><span>&lt;/</span><span>div</span><span>&gt;</span><span>;</span>
<span>}</span></code></pre> <h3 id="valid">Valid <a href="#valid" aria-label="Link for Valid " title="Link for Valid "><svg width="1em" height="1em" viewbox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" fill-rule="evenodd"><path d="M7.778 7.975a2.5 2.5 0 0 0 .347-3.837L6.017 2.03a2.498 2.498 0 0 0-3.542-.007 2.5 2.5 0 0 0 .006 3.543l1.153 1.15c.07-.29.154-.563.25-.773.036-.077.084-.16.14-.25L3.18 4.85a1.496 1.496 0 0 1 .002-2.12 1.496 1.496 0 0 1 2.12 0l2.124 2.123a1.496 1.496 0 0 1-.333 2.37c.16.246.42.504.685.752z"></path><path d="M5.657 4.557a2.5 2.5 0 0 0-.347 3.837l2.108 2.108a2.498 2.498 0 0 0 3.542.007 2.5 2.5 0 0 0-.006-3.543L9.802 5.815c-.07.29-.154.565-.25.774-.036.076-.084.16-.14.25l.842.84c.585.587.59 1.532 0 2.122-.587.585-1.532.59-2.12 0L6.008 7.68a1.496 1.496 0 0 1 .332-2.372c-.16-.245-.42-.503-.685-.75z"></path></g></svg></a>
</h3> <p>Examples of correct code for this rule:</p> <pre data-language="jsx"><code><span>// ✅ Use state for counters</span>
<span>function</span> <span>Component</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span><span>clickCount</span><span>,</span> <span>setClickCount</span><span>]</span> = <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>

  <span>const</span> <span>handleClick</span> = <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>setClickCount</span><span>(</span><span>c</span> <span>=&gt;</span> <span>c</span> + <span>1</span><span>)</span><span>;</span>
  <span>}</span><span>;</span>

  <span>return</span> <span>(</span>
    <span>&lt;</span><span>button</span> <span>onClick</span>=<span>{</span><span>handleClick</span><span>}</span><span>&gt;</span>
      Clicked: <span>{</span><span>clickCount</span><span>}</span> times
    <span>&lt;/</span><span>button</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

<span>// ✅ Use context for global values</span>
<span>function</span> <span>Component</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>user</span> = <span>useContext</span><span>(</span><span>UserContext</span><span>)</span><span>;</span>
  <span>return</span> <span>&lt;</span><span>div</span><span>&gt;</span>User: <span>{</span><span>user</span>.<span>id</span><span>}</span><span>&lt;/</span><span>div</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>// ✅ Synchronize external state with React</span>
<span>function</span> <span>Component</span><span>(</span><span>{</span><span>title</span><span>}</span><span>)</span> <span>{</span>
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>document</span>.<span>title</span> = <span>title</span><span>;</span> <span>// OK in effect</span>
  <span>}</span><span>,</span> <span>[</span><span>title</span><span>]</span><span>)</span><span>;</span>

  <span>return</span> <span>&lt;</span><span>div</span><span>&gt;</span>Page: <span>{</span><span>title</span><span>}</span><span>&lt;/</span><span>div</span><span>&gt;</span><span>;</span>
<span>}</span></code></pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2013&ndash;present Facebook Inc.<br>Licensed under the Creative Commons Attribution 4.0 International Public License.<br>
    <a href="https://react.dev/reference/eslint-plugin-react-hooks/lints/globals" class="_attribution-link">https://react.dev/reference/eslint-plugin-react-hooks/lints/globals</a>
  </p>
</div>

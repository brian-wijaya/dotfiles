<h1>cloneWith (Lodash compatibility)</h1>

<p>::: warning Implementing custom logic is recommended</p>

<p>This <code>cloneWith</code> function is relatively slow due to complex customizer function processing.</p>

<p>Instead, use <code>clone</code> and implement custom logic directly.</p>

<p>:::</p>

<p>Creates a shallow copy of an object using a customizer function.</p>

<pre data-language='typescript'><code class='typescript'>const cloned = cloneWith(value, customizer);
</code></pre>

<h2>Usage</h2>

<h4><code>cloneWith(value, customizer?)</code></h4>

<p>Use <code>cloneWith</code> when you want to customize how copying works. The customizer function controls how specific values are copied.</p>

<pre data-language='typescript'><code class='typescript'>import { cloneWith } from &#39;es-toolkit/compat&#39;;

// Basic usage (without customizer)
const obj = { a: 1, b: &#39;hello&#39; };
const cloned = cloneWith(obj);
// Returns: { a: 1, b: &#39;hello&#39; } (new object instance)

// Transforming number values
const obj2 = { a: 1, b: 2, c: &#39;text&#39; };
const cloned2 = cloneWith(obj2, value =&gt; {
  const obj = {};
  for (const key in value) {
    const val = value[key];
    if (typeof val === &#39;number&#39;) {
      obj[key] = val * 2;
    } else {
      obj[key] = val;
    }
  }
  return obj;
});
// Returns: { a: 2, b: 4, c: &#39;text&#39; }

// Transforming array elements
const arr = [1, 2, 3];
const clonedArr = cloneWith(arr, value =&gt; {
  return value.map(x =&gt; x + 10);
});
// Returns: [11, 12, 13]

// Handling specific types
const complex = {
  date: new Date(&#39;2023-01-01&#39;),
  number: 42,
  text: &#39;hello&#39;,
};
const clonedComplex = cloneWith(complex, value =&gt; {
  const obj = {};
  for (const key in value) {
    const val = value[key];
    if (val instanceof Date) {
      obj[key] = val.toISOString();
    } else if (typeof val === &#39;string&#39;) {
      obj[key] = val.toUpperCase();
    } else {
      obj[key] = val;
    }
  }
  return obj;
});
// Returns: { date: &#39;2023-01-01T00:00:00.000Z&#39;, number: 42, text: &#39;HELLO&#39; }
</code></pre>

<p>If the customizer returns <code>undefined</code>, the default copy behavior is used.</p>

<pre data-language='typescript'><code class='typescript'>import { cloneWith } from &#39;es-toolkit/compat&#39;;

const obj = { a: 1, b: { c: 2 } };
const cloned = cloneWith(obj, value =&gt; {
  // Return undefined for all values = use default copy
  return undefined;
});
// Returns: { a: 1, b: { c: 2 } } (same result as clone)
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>value</code> (<code>T</code>): The value to clone.</li>
<li><code>customizer</code> (<code>function</code>, optional): A function that determines how to copy. In the form <code>(value: any) =&gt; any</code>.</li>
</ul>

<h4>Returns</h4>

<p>(<code>T</code>): Returns the shallow copy processed by the customizer.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/object/cloneWith.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/object/cloneWith.html
    </a>
  </p>
</div>

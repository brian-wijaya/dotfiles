<h1>flatMap (Lodash Compatibility)</h1>

<p>::: warning Use <code>flatMap</code> from <code>es-toolkit</code></p>

<p>This <code>flatMap</code> function operates slowly due to handling <code>null</code> or <code>undefined</code>, <code>ArrayLike</code> type processing, and supporting various condition function formats.</p>

<p>Use the faster and more modern <span>flatMap</span> from <code>es-toolkit</code> instead.</p>

<p>:::</p>

<p>Applies a function to each element and flattens the result.</p>

<pre data-language='typescript'><code class='typescript'>const result = flatMap(collection, iteratee);
</code></pre>

<h2>Usage</h2>

<h4><code>flatMap(collection, iteratee)</code></h4>

<p>Applies an iteratee function to each element of a collection and returns an array flattened by one level. Supports arrays, objects, and strings, and can use various forms of iteratees.</p>

<pre data-language='typescript'><code class='typescript'>import { flatMap } from &#39;es-toolkit/compat&#39;;

// Apply a function to an array
function duplicate(n) {
  return [n, n];
}
flatMap([1, 2], duplicate);
// Result: [1, 1, 2, 2]

// Apply a function to an object
const obj = { a: 1, b: 2 };
flatMap(obj, (value, key) =&gt; [key, value]);
// Result: [&#39;a&#39;, 1, &#39;b&#39;, 2]

// Map with a string property
const users = [
  { user: &#39;barney&#39;, hobbies: [&#39;hiking&#39;, &#39;coding&#39;] },
  { user: &#39;fred&#39;, hobbies: [&#39;reading&#39;] },
];
flatMap(users, &#39;hobbies&#39;);
// Result: [&#39;hiking&#39;, &#39;coding&#39;, &#39;reading&#39;]
</code></pre>

<p>Using without an iteratee flattens the values by one level.</p>

<pre data-language='typescript'><code class='typescript'>import { flatMap } from &#39;es-toolkit/compat&#39;;

const obj = { a: [1, 2], b: [3, 4] };
flatMap(obj);
// Result: [1, 2, 3, 4]
</code></pre>

<p>Conditional mapping with a partial object is also possible.</p>

<pre data-language='typescript'><code class='typescript'>import { flatMap } from &#39;es-toolkit/compat&#39;;

const users = [
  { user: &#39;barney&#39;, age: 36, active: true },
  { user: &#39;fred&#39;, age: 40, active: false },
];
flatMap(users, { active: false });
// Result: [false, true] (matching result of elements where active is false)
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>collection</code> (<code>object | null | undefined</code>): The collection to iterate over. Can be an array, object, or string.</li>
<li><code>iteratee</code> (<code>ListIterator | ObjectIterator | string | object</code>, optional): The iteratee to apply to each element. Can be a function, property name, or partial object.</li>
</ul>

<h4>Returns</h4>

<p>(<code>any[]</code>): Returns a new array flattened by one level after mapping.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/array/flatMap.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/array/flatMap.html
    </a>
  </p>
</div>

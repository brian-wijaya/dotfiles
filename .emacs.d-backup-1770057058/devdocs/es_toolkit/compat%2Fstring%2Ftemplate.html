<h1>template (Lodash compatibility)</h1>

<p>::: warning Use JavaScript template literals</p>

<p>This <code>template</code> function operates slowly due to complex string processing.</p>

<p>Use faster and more modern JavaScript template literals instead.</p>

<p>:::</p>

<p>Creates a function that interpolates values into a string template to generate a new string.</p>

<pre data-language='typescript'><code class='typescript'>const compiled = template(templateString);
</code></pre>

<h2>Usage</h2>

<h4><code>template(string, options?)</code></h4>

<p>Use <code>template</code> when you want to interpolate data into a string template to create a completed string. You can safely escape values, interpolate them as-is, or execute JavaScript code.</p>

<p>Basic usage allows you to interpolate or escape values.</p>

<pre data-language='typescript'><code class='typescript'>import { template } from &#39;es-toolkit/compat&#39;;

// Interpolate values as-is
const compiled = template(&#39;&lt;%= value %&gt;&#39;);
compiled({ value: &#39;Hello, World!&#39; });
// Returns: &#39;Hello, World!&#39;

// Safely escape HTML
const safeCompiled = template(&#39;&lt;%- value %&gt;&#39;);
safeCompiled({ value: &#39;&lt;script&gt;alert(&quot;xss&quot;)&lt;/script&gt;&#39; });
// Returns: &#39;&amp;lt;script&amp;gt;alert(&amp;quot;xss&amp;quot;)&amp;lt;/script&amp;gt;&#39;
</code></pre>

<p>You can also execute JavaScript code.</p>

<pre data-language='typescript'><code class='typescript'>import { template } from &#39;es-toolkit/compat&#39;;

// Using conditional statements
const compiled = template(&#39;&lt;% if (user) { %&gt;Hello &lt;%= user %&gt;!&lt;% } %&gt;&#39;);
compiled({ user: &#39;es-toolkit&#39; });
// Returns: &#39;Hello es-toolkit!&#39;

// Using loops
const listTemplate = template(&#39;&lt;% users.forEach(function(user) { %&gt;&lt;li&gt;&lt;%= user %&gt;&lt;/li&gt;&lt;% }); %&gt;&#39;);
listTemplate({ users: [&#39;Alice&#39;, &#39;Bob&#39;, &#39;Charlie&#39;] });
// Returns: &#39;&lt;li&gt;Alice&lt;/li&gt;&lt;li&gt;Bob&lt;/li&gt;&lt;li&gt;Charlie&lt;/li&gt;&#39;
</code></pre>

<p>You can specify variable names for safer usage.</p>

<pre data-language='typescript'><code class='typescript'>import { template } from &#39;es-toolkit/compat&#39;;

const compiled = template(&#39;&lt;%= data.name %&gt; is &lt;%= data.age %&gt; years old&#39;, {
  variable: &#39;data&#39;,
});
compiled({ name: &#39;Alice&#39;, age: 25 });
// Returns: &#39;Alice is 25 years old&#39;
</code></pre>

<p>You can import and use external functions.</p>

<pre data-language='typescript'><code class='typescript'>import { template } from &#39;es-toolkit/compat&#39;;

const compiled = template(&#39;&lt;%= _.toUpper(message) %&gt;&#39;, {
  imports: { _: { toUpper: str =&gt; str.toUpperCase() } },
});
compiled({ message: &#39;hello world&#39; });
// Returns: &#39;HELLO WORLD&#39;
</code></pre>

<p>You can also create custom delimiters.</p>

<pre data-language='typescript'><code class='typescript'>import { template } from &#39;es-toolkit/compat&#39;;

// Interpolate with custom delimiters
const compiled = template(&#39;{{ message }}&#39;, {
  interpolate: /\{\{([\s\S]+?)\}\}/g,
});
compiled({ message: &#39;Hello!&#39; });
// Returns: &#39;Hello!&#39;

// Escape with custom delimiters
const safeCompiled = template(&#39;[- html -]&#39;, {
  escape: /\[-([\s\S]+?)-\]/g,
});
safeCompiled({ html: &#39;&lt;div&gt;content&lt;/div&gt;&#39; });
// Returns: &#39;&amp;lt;div&amp;gt;content&amp;lt;/div&amp;gt;&#39;
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>string</code> (<code>string</code>): The template string.</li>
<li><code>options</code> (<code>object</code>, optional): Configuration object.

<ul>
<li><code>options.escape</code> (<code>RegExp</code>, optional): Regular expression delimiter for HTML escaping. Default is <code>&lt;%-([\s\S]+?)%&gt;</code>.</li>
<li><code>options.evaluate</code> (<code>RegExp</code>, optional): Regular expression delimiter for executing JavaScript code. Default is <code>&lt;%([\s\S]+?)%&gt;</code>.</li>
<li><code>options.interpolate</code> (<code>RegExp</code>, optional): Regular expression delimiter for value interpolation. Default is <code>&lt;%=([\s\S]+?)%&gt;</code>.</li>
<li><code>options.variable</code> (<code>string</code>, optional): Variable name for the data object.</li>
<li><code>options.imports</code> (<code>object</code>, optional): Functions to be used in the template.</li>
<li><code>options.sourceURL</code> (<code>string</code>, optional): Source URL for debugging purposes.</li>
</ul></li>
</ul>

<h4>Returns</h4>

<p>(<code>TemplateExecutor</code>): A function that takes a data object and returns the completed string. The generated function code can also be accessed via the <code>source</code> property.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/string/template.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/string/template.html
    </a>
  </p>
</div>

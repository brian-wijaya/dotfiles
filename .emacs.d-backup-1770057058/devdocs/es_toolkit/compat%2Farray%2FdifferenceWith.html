<h1>differenceWith (Lodash compatible)</h1>

<p>::: warning Use <code>differenceWith</code> from <code>es-toolkit</code> instead</p>

<p>This <code>differenceWith</code> function operates slowly due to handling <code>null</code> or <code>undefined</code>, processing multiple arrays, and <code>ArrayLike</code> type processing.</p>

<p>Use the faster and more modern <span>differenceWith</span> from <code>es-toolkit</code> instead.</p>

<p>:::</p>

<p>Removes elements from the first array that are present in the other arrays using a comparator function.</p>

<pre data-language='typescript'><code class='typescript'>const result = differenceWith(array, ...values, comparator);
</code></pre>

<h2>Usage</h2>

<h4><code>differenceWith(array, ...values, comparator)</code></h4>

<p>Use <code>differenceWith</code> when you want to compute the difference using a comparator function to compare elements. The last argument becomes the comparator function.</p>

<pre data-language='typescript'><code class='typescript'>import { differenceWith } from &#39;es-toolkit/compat&#39;;

// Compare objects by id
const objects = [{ id: 1 }, { id: 2 }, { id: 3 }];
const others = [{ id: 2 }];
const comparator = (a, b) =&gt; a.id === b.id;

differenceWith(objects, others, comparator);
// Returns: [{ id: 1 }, { id: 3 }]

// Exclude from multiple arrays at once
const array = [{ id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }];
const values1 = [{ id: 2 }];
const values2 = [{ id: 3 }];

differenceWith(array, values1, values2, comparator);
// Returns: [{ id: 1 }, { id: 4 }]
</code></pre>

<p>Without a comparator function, it behaves like regular <code>difference</code>.</p>

<pre data-language='typescript'><code class='typescript'>import { differenceWith } from &#39;es-toolkit/compat&#39;;

// Without comparator, uses regular comparison
differenceWith([1, 2, 3], [2], [3]);
// Returns: [1]
</code></pre>

<p>Can use complex comparison logic.</p>

<pre data-language='typescript'><code class='typescript'>import { differenceWith } from &#39;es-toolkit/compat&#39;;

const users = [
  { name: &#39;alice&#39;, age: 25 },
  { name: &#39;bob&#39;, age: 30 },
  { name: &#39;charlie&#39;, age: 35 },
];
const excludeUsers = [{ name: &#39;bob&#39;, age: 25 }]; // Different age

// Compare only by name
const compareByName = (a, b) =&gt; a.name === b.name;
differenceWith(users, excludeUsers, compareByName);
// Returns: [{ name: &#39;alice&#39;, age: 25 }, { name: &#39;charlie&#39;, age: 35 }]
// bob is excluded (even though age is different, name matches)
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>array</code> (<code>ArrayLike&lt;T&gt; | null | undefined</code>): The base array to compute the difference from.</li>
<li><code>...values</code> (<code>Array&lt;ArrayLike&lt;T&gt;&gt;</code> + <code>(a: T, b: T) =&gt; boolean</code>): Arrays containing elements to exclude, with the last argument being the comparator function.</li>
</ul>

<h4>Returns</h4>

<p>(<code>T[]</code>): Returns a new array with elements from the first array excluding those found in the other arrays using the comparator function.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/array/differenceWith.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/array/differenceWith.html
    </a>
  </p>
</div>

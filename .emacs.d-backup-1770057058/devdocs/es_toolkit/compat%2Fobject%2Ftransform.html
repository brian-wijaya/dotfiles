<h1>transform (Lodash Compatibility)</h1>

<p>::: warning Use <code>reduce</code> or <code>Object.entries</code> instead</p>

<p>This <code>transform</code> function operates slowly due to complex internal logic. In most cases, it can be implemented more simply using JavaScript&#39;s built-in methods.</p>

<p>Use faster and more modern <code>reduce</code> or <code>Object.entries</code> instead.</p>

<p>:::</p>

<p>Iterates over an array or object, accumulating values in an accumulator to create a new value.</p>

<pre data-language='typescript'><code class='typescript'>const result = transform(object, iteratee, accumulator);
</code></pre>

<h2>Usage</h2>

<h4><code>transform(object, iteratee, accumulator)</code></h4>

<p>Use <code>transform</code> when you want to iterate over each element of an array or object, accumulating values in an accumulator. The iteration stops when the <code>iteratee</code> function returns <code>false</code>.</p>

<pre data-language='typescript'><code class='typescript'>import { transform } from &#39;es-toolkit/compat&#39;;

// Transform an array
const numbers = [2, 3, 4];
const doubled = transform(
  numbers,
  (acc, value) =&gt; {
    acc.push(value * 2);
  },
  []
);
// Returns: [4, 6, 8]

// Transform an object
const obj = { a: 1, b: 2, c: 1 };
const grouped = transform(
  obj,
  (result, value, key) =&gt; {
    (result[value] || (result[value] = [])).push(key);
  },
  {}
);
// Returns: { &#39;1&#39;: [&#39;a&#39;, &#39;c&#39;], &#39;2&#39;: [&#39;b&#39;] }
</code></pre>

<p>If accumulator is omitted, an empty array or empty object is automatically created.</p>

<pre data-language='typescript'><code class='typescript'>import { transform } from &#39;es-toolkit/compat&#39;;

// Empty array is created for arrays
const result1 = transform([1, 2, 3], (acc, value) =&gt; {
  acc.push(value * 2);
});
// Returns: [2, 4, 6]

// Empty object is created for objects
const result2 = transform({ a: 1, b: 2 }, (acc, value, key) =&gt; {
  acc[key] = value * 2;
});
// Returns: { a: 2, b: 4 }
</code></pre>

<p>You can stop the iteration by returning <code>false</code> in the <code>iteratee</code> function.</p>

<pre data-language='typescript'><code class='typescript'>import { transform } from &#39;es-toolkit/compat&#39;;

const numbers = [1, 2, 3, 4, 5];
const result = transform(
  numbers,
  (acc, value) =&gt; {
    if (value &gt; 3) {
      return false; // Stop iteration
    }
    acc.push(value * 2);
  },
  []
);
// Returns: [2, 4, 6] (4 and 5 are not processed)
</code></pre>

<p>If the <code>iteratee</code> function is omitted, it returns an empty object or array.</p>

<pre data-language='typescript'><code class='typescript'>import { transform } from &#39;es-toolkit/compat&#39;;

const array = [1, 2, 3];
const copy1 = transform(array);
// Returns: []

const obj = { a: 1, b: 2 };
const copy2 = transform(obj);
// Returns: {}
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>object</code> (<code>readonly T[] | T</code>, optional): The array or object to iterate over.</li>
<li><code>iteratee</code> (<code>(accumulator: U, value: T | T[keyof T], key: any, object: readonly T[] | T) =&gt; unknown</code>, optional): The function to execute for each element. Returning <code>false</code> stops the iteration. Default is the <code>identity</code> function.</li>
<li><code>accumulator</code> (<code>U</code>, optional): The initial value. If omitted, an empty array is created for arrays, and an empty object for objects.</li>
</ul>

<h4>Returns</h4>

<p>(<code>U | any[] | Record&lt;string, any&gt;</code>): Returns the accumulated result.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/object/transform.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/object/transform.html
    </a>
  </p>
</div>

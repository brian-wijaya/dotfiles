<h1>invertBy (Lodash compatibility)</h1>

<p>::: warning Use modern JavaScript APIs</p>

<p>This <code>invertBy</code> function operates slowly due to complex iterator processing and grouping logic.</p>

<p>Instead, use the faster and more modern <code>Object.entries()</code> with <code>reduce()</code> or <code>Map</code>.</p>

<p>:::</p>

<p>Inverts the keys and values of an object while grouping identical values into arrays.</p>

<pre data-language='typescript'><code class='typescript'>const inverted = invertBy(object, iteratee);
</code></pre>

<h2>Usage</h2>

<h4><code>invertBy(object, iteratee?)</code></h4>

<p>Use <code>invertBy</code> when you want to invert the keys and values of an object and group keys with the same value into arrays. You can optionally provide an iteratee function to transform the values.</p>

<pre data-language='typescript'><code class='typescript'>import { invertBy } from &#39;es-toolkit/compat&#39;;

// Basic key-value inversion (identical values are grouped into arrays)
const object = { a: 1, b: 2, c: 1 };
invertBy(object);
// =&gt; { &#39;1&#39;: [&#39;a&#39;, &#39;c&#39;], &#39;2&#39;: [&#39;b&#39;] }

// Value transformation using iteratee function
const ages = { john: 25, jane: 30, bob: 25 };
invertBy(ages, age =&gt; `age_${age}`);
// =&gt; { &#39;age_25&#39;: [&#39;john&#39;, &#39;bob&#39;], &#39;age_30&#39;: [&#39;jane&#39;] }

// Grouping by string length
const words = { a: &#39;hello&#39;, b: &#39;world&#39;, c: &#39;hi&#39;, d: &#39;test&#39; };
invertBy(words, word =&gt; word.length);
// =&gt; { &#39;5&#39;: [&#39;a&#39;, &#39;b&#39;], &#39;2&#39;: [&#39;c&#39;], &#39;4&#39;: [&#39;d&#39;] }
</code></pre>

<p>You can also group by object properties.</p>

<pre data-language='typescript'><code class='typescript'>import { invertBy } from &#39;es-toolkit/compat&#39;;

// Grouping by object property
const users = {
  user1: { department: &#39;IT&#39;, age: 30 },
  user2: { department: &#39;HR&#39;, age: 25 },
  user3: { department: &#39;IT&#39;, age: 35 },
};

invertBy(users, user =&gt; user.department);
// =&gt; { &#39;IT&#39;: [&#39;user1&#39;, &#39;user3&#39;], &#39;HR&#39;: [&#39;user2&#39;] }
</code></pre>

<p>Safely handles <code>null</code> or <code>undefined</code>.</p>

<pre data-language='typescript'><code class='typescript'>import { invertBy } from &#39;es-toolkit/compat&#39;;

invertBy(null);
// =&gt; {}

invertBy(undefined);
// =&gt; {}
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>object</code> (<code>object</code>): The object to invert.</li>
<li><code>iteratee</code> (<code>ValueIteratee</code>, optional): The function to transform values. Defaults to a function that uses the value as-is.</li>
</ul>

<h4>Returns</h4>

<p>(<code>Record&lt;string, string[]&gt;</code>): Returns a new object with transformed values as keys and arrays of original keys as values.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/object/invertBy.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/object/invertBy.html
    </a>
  </p>
</div>

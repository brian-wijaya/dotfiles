<h1>ary (Lodash Compatibility)</h1>

<p>::: warning Use <span><code>ary</code></span> from <code>es-toolkit</code></p>

<p>This <code>ary</code> function operates slowly due to complex parameter validation.</p>

<p>Instead, use the faster and more modern <span>ary</span> from <code>es-toolkit</code>.</p>

<p>:::</p>

<p>Creates a function that limits the number of arguments it can receive.</p>

<pre data-language='typescript'><code class='typescript'>const cappedFunction = ary(func, n);
</code></pre>

<h2>Usage</h2>

<h4><code>ary(func, n)</code></h4>

<p>Use <code>ary</code> when you want to limit the number of arguments a function receives. It&#39;s useful for safely using functions that receive too many arguments or ignoring unnecessary arguments in callback functions.</p>

<pre data-language='typescript'><code class='typescript'>import { ary } from &#39;es-toolkit/compat&#39;;

// Basic usage
function greet(name, age, city) {
  return `Hello, ${name}! ${age} years old, from ${city}.`;
}

const limitedGreet = ary(greet, 2);
console.log(limitedGreet(&#39;John&#39;, 30, &#39;Seoul&#39;, &#39;extraArg&#39;));
// &quot;Hello, John! 30 years old, from undefined.&quot;
// Arguments from the 3rd onwards are ignored
</code></pre>

<p>You can prevent unnecessary arguments from being passed to callback functions when using them with array methods.</p>

<pre data-language='typescript'><code class='typescript'>import { ary } from &#39;es-toolkit/compat&#39;;

// parseInt accepts a second argument (radix), but map&#39;s callback passes 3 arguments
const numbers = [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;];

// Incorrect usage - parseInt receives the index as radix
console.log(numbers.map(parseInt)); // [1, NaN, NaN, NaN, NaN]

// Use ary to pass only the first argument
console.log(numbers.map(ary(parseInt, 1))); // [1, 2, 3, 4, 5]
</code></pre>

<p>You can limit functions to receive only the desired number of parameter arguments.</p>

<pre data-language='typescript'><code class='typescript'>import { ary } from &#39;es-toolkit/compat&#39;;

function sum(...args) {
  return args.reduce((total, num) =&gt; total + num, 0);
}

const sum0 = ary(sum, 0);
const sum1 = ary(sum, 1);
const sum2 = ary(sum, 2);
const sum3 = ary(sum, 3);

console.log(sum0(1, 2, 3, 4, 5)); // 0 (no arguments)
console.log(sum1(1, 2, 3, 4, 5)); // 1 (first argument only)
console.log(sum2(1, 2, 3, 4, 5)); // 3 (first two arguments only)
console.log(sum3(1, 2, 3, 4, 5)); // 6 (first three arguments only)
</code></pre>

<p>When passing a negative number or <code>NaN</code>, it&#39;s treated as 0 and all arguments are ignored.</p>

<pre data-language='typescript'><code class='typescript'>import { ary } from &#39;es-toolkit/compat&#39;;

const func = (a, b, c) =&gt; [a, b, c];

console.log(ary(func, -1)(1, 2, 3)); // [] (negative treated as 0)
console.log(ary(func, NaN)(1, 2, 3)); // [] (NaN treated as 0)
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>func</code> (<code>Function</code>): The function to cap arguments for.</li>
<li><code>n</code> (<code>number</code>, optional): The maximum number of arguments to allow. If omitted, uses the function&#39;s <code>length</code> property.</li>
</ul>

<h4>Returns</h4>

<p>(<code>Function</code>): Returns a new function that accepts at most <code>n</code> arguments.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/function/ary.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/function/ary.html
    </a>
  </p>
</div>

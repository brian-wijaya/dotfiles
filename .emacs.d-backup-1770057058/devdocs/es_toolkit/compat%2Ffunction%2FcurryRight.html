<h1>curryRight (Lodash Compatibility)</h1>

<p>::: warning Use <code>es-toolkit</code>&#39;s <span><code>curryRight</code></span> or manual closures instead</p>

<p>This <code>curryRight</code> function operates slowly due to complex placeholder handling, arity validation, and argument composition logic.</p>

<p>If you don&#39;t need placeholders, use the faster <code>es-toolkit</code>&#39;s <span><code>curryRight</code></span> or simple closures instead.</p>

<p>:::</p>

<p>Curries a function from right to left, creating a function that accepts arguments one at a time or several at a time, starting from the last argument.</p>

<pre data-language='typescript'><code class='typescript'>const curriedFunction = curryRight(func, arity);
</code></pre>

<h2>Usage</h2>

<h4><code>curryRight(func, arity)</code></h4>

<p>Use <code>curryRight</code> when you want to curry a function from right to left and partially apply arguments starting from the last one. Unlike regular <code>curry</code>, it processes arguments starting from the last one first.</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

// Basic usage
function subtract(a, b, c) {
  return a - b - c;
}

const curriedSubtract = curryRight(subtract);

// Currying from right (starting from last argument)
console.log(curriedSubtract(1)(2)(5)); // 5 - 2 - 1 = 2
console.log(curriedSubtract(1, 2)(5)); // 5 - 2 - 1 = 2
console.log(curriedSubtract(1)(2, 5)); // 2 - 5 - 1 = -4
console.log(curriedSubtract(1, 2, 5)); // 1 - 2 - 5 = -6
</code></pre>

<p>Difference between <code>curry</code> and <code>curryRight</code>:</p>

<pre data-language='typescript'><code class='typescript'>import { curry, curryRight } from &#39;es-toolkit/compat&#39;;

function divide(a, b, c) {
  return a / b / c;
}

// Regular curry (from left)
const leftCurried = curry(divide);
console.log(leftCurried(12)(3)(2)); // ((12 / 3) / 2) = 2

// curryRight (from right)
const rightCurried = curryRight(divide);
console.log(rightCurried(2)(3)(12)); // ((12 / 3) / 2) = 2
// The last provided 12 becomes the first argument (a)
</code></pre>

<p>Comparison with main library:</p>

<pre data-language='typescript'><code class='typescript'>// compat version (flexible, but slower)
import { curryRight } from &#39;es-toolkit/compat&#39;;
const curriedCompat = curryRight(subtract);
curriedCompat(1, 2)(3); // supported
curriedCompat(1)(curryRight.placeholder, 3)(2); // placeholder supported

// main library version (faster, but one at a time only)
import { curryRight } from &#39;es-toolkit&#39;;
const curriedMain = curryRight(subtract);
curriedMain(1)(2)(3); // supported
curriedMain(1, 2)(3); // not supported
</code></pre>

<p>Using placeholder feature:</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

function formatMessage(name, action, time) {
  return `${name} did ${action} at ${time}`;
}

const curriedFormat = curryRight(formatMessage);

// Skip specific positions with placeholder
const todayAction = curriedFormat(&#39;today&#39;);
const todayLoginAction = todayAction(curryRight.placeholder, &#39;login&#39;);

console.log(todayLoginAction(&#39;John&#39;));
// &quot;John did login at today&quot;

// Fix time first
const morningFormat = curriedFormat(&#39;9 AM&#39;);
console.log(morningFormat(&#39;comment&#39;, &#39;Jane&#39;));
// &quot;Jane did comment at 9 AM&quot;
</code></pre>

<p>Using in array processing:</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

// Take a specific number of items from the end of an array
function takeFromEnd(array, count, separator = &#39;, &#39;) {
  return array.slice(-count).join(separator);
}

const curriedTake = curryRight(takeFromEnd);

// Create function that separates with comma
const takeWithComma = curriedTake(&#39;, &#39;);

// Get last 3 items
const takeLast3 = takeWithComma(3);

const fruits = [&#39;apple&#39;, &#39;banana&#39;, &#39;orange&#39;, &#39;grape&#39;, &#39;kiwi&#39;];
console.log(takeLast3(fruits)); // &quot;orange, grape, kiwi&quot;

// Use different separator
const takeWithDash = curriedTake(&#39; - &#39;);
console.log(takeWithDash(2, fruits)); // &quot;grape - kiwi&quot;
</code></pre>

<p>Using in function composition:</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

// Log output function
function logWithPrefix(message, level, timestamp) {
  return `[${timestamp}] ${level}: ${message}`;
}

const curriedLog = curryRight(logWithPrefix);

// Fix with current time
const currentTimeLog = curriedLog(new Date().toISOString());

// Create loggers by level
const errorLog = currentTimeLog(&#39;ERROR&#39;);
const infoLog = currentTimeLog(&#39;INFO&#39;);
const debugLog = currentTimeLog(&#39;DEBUG&#39;);

// Usage
console.log(errorLog(&#39;Database connection failed&#39;));
console.log(infoLog(&#39;Server started&#39;));
console.log(debugLog(&#39;Processing user request&#39;));
</code></pre>

<p>Functional programming pipeline:</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

// Data transformation functions
const mapWith = curryRight((array, fn) =&gt; array.map(fn));
const filterWith = curryRight((array, predicate) =&gt; array.filter(predicate));
const reduceWith = curryRight((array, reducer, initial) =&gt; array.reduce(reducer, initial));

const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// Define transformation functions
const double = x =&gt; x * 2;
const isEven = x =&gt; x % 2 === 0;
const sum = (acc, val) =&gt; acc + val;

// Compose pipeline (right first)
const processNumbers = nums =&gt; {
  return reduceWith(filterWith(mapWith(nums, double), isEven), sum, 0);
};

console.log(processNumbers(numbers)); // Double all numbers, filter even ones, then sum
</code></pre>

<p>API request builder:</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

function makeRequest(url, method, headers, body) {
  return fetch(url, { method, headers, body });
}

const curriedRequest = curryRight(makeRequest);

// Set body first
const withJsonBody = curriedRequest(JSON.stringify({ data: &#39;test&#39; }));

// Add headers
const withHeaders = withJsonBody({
  &#39;Content-Type&#39;: &#39;application/json&#39;,
  Authorization: &#39;Bearer token123&#39;,
});

// Set POST method
const postRequest = withHeaders(&#39;POST&#39;);

// Final usage
postRequest(&#39;/api/data&#39;)
  .then(response =&gt; response.json())
  .then(data =&gt; console.log(data));
</code></pre>

<p>Manual currying alternative:</p>

<pre data-language='typescript'><code class='typescript'>// Using curryRight
const curriedSubtract = curryRight((a, b, c) =&gt; a - b - c);

// Manual closure (faster, from right)
const manualCurryRight = c =&gt; b =&gt; a =&gt; a - b - c;

// Both give same result
console.log(curriedSubtract(1)(2)(5)); // 2
console.log(manualCurryRight(1)(2)(5)); // 2
</code></pre>

<p>Specifying arity:</p>

<pre data-language='typescript'><code class='typescript'>import { curryRight } from &#39;es-toolkit/compat&#39;;

function variableArgsFunction(a, b, c, ...rest) {
  return { a, b, c, rest };
}

// Limit arity to 3 (ignore rest)
const curriedFixed = curryRight(variableArgsFunction, 3);

// Receive in order c, b, a from right
console.log(curriedFixed(3)(2)(1)); // { a: 1, b: 2, c: 3, rest: [] }
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>func</code> (<code>Function</code>): The function to curry from right to left.</li>
<li><code>arity</code> (<code>number</code>, optional): The arity (number of arguments) of the function. If omitted, <code>func.length</code> is used.</li>
</ul>

<h4>Returns</h4>

<p>(<code>Function &amp; { placeholder: symbol }</code>): Returns a function curried from right to left. The <code>placeholder</code> property can be used to control argument positions.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/function/curryRight.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/function/curryRight.html
    </a>
  </p>
</div>

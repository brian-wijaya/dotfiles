<h1>flatMapDeep (Lodash Compatibility)</h1>

<p>::: warning Use <span><code>flatMapDeep</code></span> from <code>es-toolkit</code></p>

<p>This <code>flatMapDeep</code> function operates slowly due to complex collection type handling and deep flattening logic.</p>

<p>Use the faster and more modern <span>flatMapDeep</span> from <code>es-toolkit</code> instead.</p>

<p>:::</p>

<p>Applies a function to each element and recursively flattens the result.</p>

<pre data-language='typescript'><code class='typescript'>const result = flatMapDeep(collection, iteratee);
</code></pre>

<h2>Usage</h2>

<h4><code>flatMapDeep(collection, iteratee)</code></h4>

<p>Applies an iteratee function to each element of a collection and returns an array flattened to infinite depth. All nested array structures are flattened into a one-dimensional array.</p>

<pre data-language='typescript'><code class='typescript'>import { flatMapDeep } from &#39;es-toolkit/compat&#39;;

// Apply a function to an array and deeply flatten
function duplicate(n) {
  return [[[n, n]]];
}
flatMapDeep([1, 2], duplicate);
// Result: [1, 1, 2, 2]

// Apply a function to an object and deeply flatten
const obj = { a: 1, b: 2 };
flatMapDeep(obj, (value, key) =&gt; [[[key, value]]]);
// Result: [&#39;a&#39;, 1, &#39;b&#39;, 2]

// Map with a string property and deeply flatten
const users = [
  { user: &#39;barney&#39;, hobbies: [[&#39;hiking&#39;, &#39;coding&#39;]] },
  { user: &#39;fred&#39;, hobbies: [[&#39;reading&#39;]] },
];
flatMapDeep(users, &#39;hobbies&#39;);
// Result: [&#39;hiking&#39;, &#39;coding&#39;, &#39;reading&#39;]
</code></pre>

<p>Using without an iteratee recursively flattens the values.</p>

<pre data-language='typescript'><code class='typescript'>import { flatMapDeep } from &#39;es-toolkit/compat&#39;;

const obj = { a: [[1, 2]], b: [[[3]]] };
flatMapDeep(obj);
// Result: [1, 2, 3]
</code></pre>

<p>Conditional mapping with a partial object is also possible.</p>

<pre data-language='typescript'><code class='typescript'>import { flatMapDeep } from &#39;es-toolkit/compat&#39;;

const users = [
  { user: &#39;barney&#39;, active: [true, false] },
  { user: &#39;fred&#39;, active: [false] },
];
flatMapDeep(users, { active: [false] });
// Result: [true, true] (matching result of elements with active array containing [false])
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>collection</code> (<code>object | null | undefined</code>): The collection to iterate over. Can be an array, object, or string.</li>
<li><code>iteratee</code> (<code>ListIterator | ObjectIterator | string | object</code>, optional): The iteratee to apply to each element. Can be a function, property name, or partial object.</li>
</ul>

<h4>Returns</h4>

<p>(<code>any[]</code>): Returns a new array recursively flattened after mapping.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/array/flatMapDeep.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/array/flatMapDeep.html
    </a>
  </p>
</div>

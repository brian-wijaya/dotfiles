<h1>isRegExp</h1>

<p>Checks if a given value is a <code>RegExp</code> instance.</p>

<pre data-language='typescript'><code class='typescript'>const result = isRegExp(value);
</code></pre>

<h2>Usage</h2>

<h4><code>isRegExp(value)</code></h4>

<p>Use <code>isRegExp</code> when you want to check if a value is a <code>RegExp</code> instance. It&#39;s useful for distinguishing regular expression objects from regular strings or other objects.</p>

<pre data-language='typescript'><code class='typescript'>import { isRegExp } from &#39;es-toolkit/predicate&#39;;

// RegExp instances
const regex1 = /abc/;
const regex2 = new RegExp(&#39;abc&#39;);
const regex3 = new RegExp(&#39;\\d+&#39;, &#39;g&#39;);

console.log(isRegExp(regex1)); // true
console.log(isRegExp(regex2)); // true
console.log(isRegExp(regex3)); // true

// Non-RegExp values
console.log(isRegExp(&#39;/abc/&#39;)); // false (string)
console.log(isRegExp(&#39;abc&#39;)); // false
console.log(isRegExp({})); // false
console.log(isRegExp(null)); // false
console.log(isRegExp(undefined)); // false
</code></pre>

<p>Useful for regex pattern validation or string processing:</p>

<pre data-language='typescript'><code class='typescript'>// Dynamic pattern validation
function validatePattern(pattern: unknown, text: string) {
  if (isRegExp(pattern)) {
    // TypeScript infers pattern as RegExp
    return pattern.test(text);
  }

  // Convert string patterns to regex
  if (typeof pattern === &#39;string&#39;) {
    const regex = new RegExp(pattern);
    return regex.test(text);
  }

  return false;
}

// Usage examples
console.log(validatePattern(/hello/, &#39;hello world&#39;)); // true
console.log(validatePattern(&#39;\\d+&#39;, &#39;123&#39;)); // true
console.log(validatePattern(&#39;invalid&#39;, &#39;text&#39;)); // false

// Use in form validation
function createValidator(rule: unknown) {
  if (isRegExp(rule)) {
    return (value: string) =&gt; rule.test(value);
  }

  // Other rule types...
  return () =&gt; false;
}

// Create email validator
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
const emailValidator = createValidator(emailRegex);

console.log(emailValidator(&#39;test@example.com&#39;)); // true
console.log(emailValidator(&#39;invalid-email&#39;)); // false
</code></pre>

<p>Use in conditional string processing:</p>

<pre data-language='typescript'><code class='typescript'>// Text processing utility
function processText(input: string, processor: unknown) {
  if (isRegExp(processor)) {
    // Extract matching parts with regex
    const matches = input.match(processor);
    return matches ? matches : [];
  }

  // Other processor types...
  return [input];
}

// Extract numbers
const numberRegex = /\d+/g;
const numbers = processText(&#39;Price: 1000 won, Discount: 200 won&#39;, numberRegex);
console.log(numbers); // [&#39;1000&#39;, &#39;200&#39;]

// Extract URLs
const urlRegex = /https?:\/\/[^\s]+/g;
const urls = processText(&#39;Website: https://example.com reference&#39;, urlRegex);
console.log(urls); // [&#39;https://example.com&#39;]

// Configuration-based text validation
class TextValidator {
  private rules: Array&lt;{ name: string; rule: unknown }&gt; = [];

  addRule(name: string, rule: unknown) {
    this.rules.push({ name, rule });
  }

  validate(text: string) {
    const results: Array&lt;{ rule: string; passed: boolean }&gt; = [];

    for (const { name, rule } of this.rules) {
      if (isRegExp(rule)) {
        results.push({
          rule: name,
          passed: rule.test(text),
        });
      } else {
        results.push({
          rule: name,
          passed: false,
        });
      }
    }

    return results;
  }
}

// Usage example
const validator = new TextValidator();
validator.addRule(&#39;Letters only&#39;, /^[a-zA-Z]+$/);
validator.addRule(&#39;Contains number&#39;, /\d/);
validator.addRule(&#39;No special chars&#39;, /^[^!@#$%^&amp;*()]+$/);

console.log(validator.validate(&#39;Hello123&#39;));
// [
//   { rule: &#39;Letters only&#39;, passed: false },
//   { rule: &#39;Contains number&#39;, passed: true },
//   { rule: &#39;No special chars&#39;, passed: true }
// ]
</code></pre>

<p>Distinguishing between strings and regular expressions:</p>

<pre data-language='typescript'><code class='typescript'>// Use in search functionality
function searchText(content: string, query: unknown) {
  if (isRegExp(query)) {
    // Regex search - advanced pattern matching
    const matches = content.match(query);
    return matches ? matches.length : 0;
  }

  if (typeof query === &#39;string&#39;) {
    // Regular string search
    const regex = new RegExp(query.replace(/[.*+?^${}()|[\]\\]/g, &#39;\\$&amp;&#39;), &#39;gi&#39;);
    const matches = content.match(regex);
    return matches ? matches.length : 0;
  }

  return 0;
}

// Usage examples
const text = &#39;Hello world! Hello everyone!&#39;;

console.log(searchText(text, /hello/gi)); // 2 (regex)
console.log(searchText(text, &#39;Hello&#39;)); // 2 (string, escaped)
console.log(searchText(text, /h.llo/i)); // 2 (pattern matching)

// Dynamic filtering
function createFilter(patterns: unknown[]) {
  const regexPatterns = patterns.filter(isRegExp);

  return (text: string) =&gt; {
    return regexPatterns.some(pattern =&gt; pattern.test(text));
  };
}

// Spam filter example
const spamPatterns = [
  /\b(ad|promo)\b/,
  /\d{3}-\d{4}-\d{4}/, // Phone number pattern
  &#39;invalid&#39;, // Not a RegExp, excluded from filter
  /\$\d+/, // Price pattern
];

const spamFilter = createFilter(spamPatterns);
console.log(spamFilter(&#39;Urgent ad!&#39;)); // true
console.log(spamFilter(&#39;Hello&#39;)); // false
</code></pre>

<p>Using regex flags and properties:</p>

<pre data-language='typescript'><code class='typescript'>// Check RegExp properties
function analyzeRegex(value: unknown) {
  if (isRegExp(value)) {
    return {
      source: value.source,
      flags: value.flags,
      global: value.global,
      ignoreCase: value.ignoreCase,
      multiline: value.multiline,
      unicode: value.unicode,
      sticky: value.sticky,
    };
  }

  return null;
}

// Usage example
const regex = /hello/gim;
const analysis = analyzeRegex(regex);
console.log(analysis);
// {
//   source: &#39;hello&#39;,
//   flags: &#39;gim&#39;,
//   global: true,
//   ignoreCase: true,
//   multiline: true,
//   unicode: false,
//   sticky: false
// }

// Clone regex
function cloneRegex(value: unknown) {
  if (isRegExp(value)) {
    return new RegExp(value.source, value.flags);
  }

  return null;
}

const originalRegex = /test/gi;
const clonedRegex = cloneRegex(originalRegex);
console.log(clonedRegex?.test(&#39;TEST&#39;)); // true
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>value</code> (<code>unknown</code>): The value to check if it&#39;s a RegExp instance.</li>
</ul>

<h4>Returns</h4>

<p>(<code>value is RegExp</code>): Returns <code>true</code> if the value is a RegExp instance, <code>false</code> otherwise.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/predicate/isRegExp.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/predicate/isRegExp.html
    </a>
  </p>
</div>

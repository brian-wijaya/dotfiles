<h1>isWeakSet (Lodash Compatibility)</h1>

<p>::: warning Use <code>instanceof</code> operator instead</p>

<p>This <code>isWeakSet</code> function is a Lodash compatibility function, but is a simple type check.</p>

<p>Use the simpler and more modern <code>value instanceof WeakSet</code> instead.</p>

<p>:::</p>

<p>Checks if a value is a WeakSet.</p>

<pre data-language='typescript'><code class='typescript'>const result = isWeakSet(value);
</code></pre>

<h2>Usage</h2>

<h4><code>isWeakSet(value)</code></h4>

<p>Use <code>isWeakSet</code> when you want to type-safely check if a value is a WeakSet. It also works as a type guard in TypeScript.</p>

<pre data-language='typescript'><code class='typescript'>import { isWeakSet } from &#39;es-toolkit/compat&#39;;

// WeakSet checking
const weakSet = new WeakSet();
isWeakSet(weakSet); // true

// Other types return false
isWeakSet(new Set()); // false
isWeakSet(new Map()); // false
isWeakSet(new WeakMap()); // false
isWeakSet([]); // false
isWeakSet({}); // false
isWeakSet(&#39;weakset&#39;); // false
isWeakSet(123); // false
isWeakSet(null); // false
isWeakSet(undefined); // false
</code></pre>

<p>It also distinguishes from other similar collections.</p>

<pre data-language='typescript'><code class='typescript'>import { isWeakSet } from &#39;es-toolkit/compat&#39;;

// WeakSet vs Set
const obj = {};
const weakSet = new WeakSet([obj]);
const set = new Set([obj]);

isWeakSet(weakSet); // true
isWeakSet(set); // false

// WeakSet vs WeakMap
isWeakSet(new WeakSet()); // true
isWeakSet(new WeakMap()); // false

// WeakSet vs array
isWeakSet(new WeakSet()); // true
isWeakSet([]); // false
</code></pre>

<p>It&#39;s useful when utilizing WeakSet&#39;s special properties.</p>

<pre data-language='typescript'><code class='typescript'>import { isWeakSet } from &#39;es-toolkit/compat&#39;;

function addWeakReference(collection: unknown, item: object) {
  if (isWeakSet(collection)) {
    // WeakSet can only store objects and maintains weak references
    collection.add(item);
    console.log(&#39;Stored with weak reference in WeakSet&#39;);

    // WeakSet has no size information and cannot be iterated
    console.log(&#39;WeakSet has no size information and cannot be iterated&#39;);
  } else {
    console.log(&#39;Not a WeakSet&#39;);
  }
}

const weakSet = new WeakSet();
const regularSet = new Set();
const obj = { id: 1 };

addWeakReference(weakSet, obj); // &quot;Stored with weak reference in WeakSet&quot;
addWeakReference(regularSet, obj); // &quot;Not a WeakSet&quot;
</code></pre>

<p>It&#39;s useful for object tracking to prevent memory leaks.</p>

<pre data-language='typescript'><code class='typescript'>import { isWeakSet } from &#39;es-toolkit/compat&#39;;

// DOM element tracking example
function trackDOMElement(tracker: unknown, element: Element) {
  if (isWeakSet(tracker)) {
    // When DOM elements are removed, they&#39;re automatically removed from WeakSet
    tracker.add(element);
    console.log(&#39;Started tracking DOM element&#39;);

    // Check tracking status later
    if (tracker.has(element)) {
      console.log(&#39;This element is being tracked&#39;);
    }
  }
}
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>value</code> (<code>unknown</code>): The value to check if it&#39;s a WeakSet.</li>
</ul>

<h4>Returns</h4>

<p>(<code>value is WeakSet&lt;object&gt;</code>): Returns <code>true</code> if the value is a WeakSet, <code>false</code> otherwise.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/predicate/isWeakSet.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/predicate/isWeakSet.html
    </a>
  </p>
</div>

<h1>mergeWith (Lodash compatibility)</h1>

<p>::: warning Use <code>mergeWith</code> from <code>es-toolkit</code></p>

<p>This <code>mergeWith</code> function is relatively slow due to complex type checking, circular reference handling, and special object processing.</p>

<p>Use the faster and more modern <span><code>mergeWith</code></span> from <code>es-toolkit</code> instead.</p>

<p>:::</p>

<p>Deeply merges multiple objects while controlling the merge behavior with a custom function.</p>

<pre data-language='typescript'><code class='typescript'>const result = mergeWith(target, ...sources, customizer);
</code></pre>

<h2>Usage</h2>

<h4><code>mergeWith(object, ...sources, customizer)</code></h4>

<p>Deeply merges one or more source objects into the target object, controlling the merge behavior with a customizer function. If the customizer function returns <code>undefined</code>, the default merge logic is used. Useful for concatenating arrays or applying special merge rules.</p>

<pre data-language='typescript'><code class='typescript'>import { mergeWith } from &#39;es-toolkit/compat&#39;;

// Add numbers
const obj1 = { a: 1, b: 2 };
const obj2 = { b: 3, c: 4 };
const result = mergeWith(obj1, obj2, (objValue, srcValue) =&gt; {
  if (typeof objValue === &#39;number&#39; &amp;&amp; typeof srcValue === &#39;number&#39;) {
    return objValue + srcValue;
  }
});
// Result: { a: 1, b: 5, c: 4 }

// Concatenate arrays
const arr1 = { items: [1, 2] };
const arr2 = { items: [3, 4] };
const merged = mergeWith(arr1, arr2, (objValue, srcValue) =&gt; {
  if (Array.isArray(objValue)) {
    return objValue.concat(srcValue);
  }
});
// Result: { items: [1, 2, 3, 4] }

// Concatenate strings
const str1 = { message: &#39;Hello&#39; };
const str2 = { message: &#39;World&#39; };
const combined = mergeWith(str1, str2, (objValue, srcValue, key) =&gt; {
  if (key === &#39;message&#39; &amp;&amp; typeof objValue === &#39;string&#39;) {
    return objValue + &#39; &#39; + srcValue;
  }
});
// Result: { message: &#39;Hello World&#39; }

// Multiple source objects with customizer
const base = { scores: [80] };
const quiz1 = { scores: [90] };
const quiz2 = { scores: [85] };
const final = mergeWith(base, quiz1, quiz2, (objValue, srcValue) =&gt; {
  if (Array.isArray(objValue)) {
    return objValue.concat(srcValue);
  }
});
// Result: { scores: [80, 90, 85] }
</code></pre>

<p>The customizer function receives various parameters.</p>

<pre data-language='typescript'><code class='typescript'>import { mergeWith } from &#39;es-toolkit/compat&#39;;

const customizer = (objValue, srcValue, key, object, source, stack) =&gt; {
  console.log(&#39;Merging:&#39;, key, objValue, &#39;-&gt;&#39;, srcValue);

  // Customize only for specific keys
  if (key === &#39;specialField&#39;) {
    return `${objValue}_${srcValue}`;
  }

  // Return undefined to use default merge logic
  return undefined;
};
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>object</code> (<code>any</code>): The target object to merge into. This object is modified.</li>
<li><code>...sources</code> (<code>any[]</code>): The source objects to merge from.</li>
<li><code>customizer</code> (<code>MergeWithCustomizer</code>): The function to customize value assignment. Format: <code>(objValue, srcValue, key, object, source, stack) =&gt; any</code>.</li>
</ul>

<h4>Returns</h4>

<p>(<code>any</code>): Returns the merged target object.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/object/mergeWith.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/object/mergeWith.html
    </a>
  </p>
</div>

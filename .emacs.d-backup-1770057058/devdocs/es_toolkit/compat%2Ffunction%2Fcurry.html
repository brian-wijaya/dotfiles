<h1>curry (Lodash Compatibility)</h1>

<p>::: warning Use <code>es-toolkit</code>&#39;s <code>curry</code> or manual closures
This <code>curry</code> function performs slowly due to complex placeholder handling, arity validation, and argument composition logic.</p>

<p>If you don&#39;t need placeholders, use the faster <code>es-toolkit</code>&#39;s <span><code>curry</code></span> or simple closures instead.
:::</p>

<p>Curries a function so it can accept arguments one at a time or multiple at once.</p>

<pre data-language='typescript'><code class='typescript'>const curriedFunction = curry(func, arity);
</code></pre>

<h2>Usage</h2>

<h4><code>curry(func, arity)</code></h4>

<p>Use <code>curry</code> when you want to curry a function to make partial application easier. It&#39;s useful for providing arguments step by step or using placeholders to provide arguments at specific positions later.</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

// Basic usage
function add(a, b, c) {
  return a + b + c;
}

const curriedAdd = curry(add);

// Can be called in various ways
console.log(curriedAdd(1)(2)(3)); // 6
console.log(curriedAdd(1, 2)(3)); // 6
console.log(curriedAdd(1)(2, 3)); // 6
console.log(curriedAdd(1, 2, 3)); // 6
</code></pre>

<p>Comparison with main library curry:</p>

<pre data-language='typescript'><code class='typescript'>// compat version (flexible, but slower)
import { curry } from &#39;es-toolkit/compat&#39;;
const curriedCompat = curry(add);
curriedCompat(1, 2)(3); // supported
curriedCompat(1)(curry.placeholder, 3)(2); // placeholder support

// main library version (faster, but one at a time only)
import { curry } from &#39;es-toolkit&#39;;
const curriedMain = curry(add);
curriedMain(1)(2)(3); // supported
curriedMain(1, 2)(3); // not supported
</code></pre>

<p>Using placeholder feature:</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

function greet(greeting, name, punctuation) {
  return `${greeting}, ${name}${punctuation}`;
}

const curriedGreet = curry(greet);

// Skip middle arguments with placeholder
const greetWithExclamation = curriedGreet(curry.placeholder, curry.placeholder, &#39;!&#39;);
console.log(greetWithExclamation(&#39;Hello&#39;, &#39;John&#39;)); // &quot;Hello, John!&quot;

const sayHello = curriedGreet(&#39;Hello&#39;);
console.log(sayHello(curry.placeholder, &#39;~&#39;)(&#39;Jane&#39;)); // &quot;Hello, Jane~&quot;
</code></pre>

<p>Using in functional programming:</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

// Create mapping functions
const map = curry((fn, array) =&gt; array.map(fn));
const filter = curry((predicate, array) =&gt; array.filter(predicate));

const numbers = [1, 2, 3, 4, 5];

// Create reusable functions
const double = x =&gt; x * 2;
const isEven = x =&gt; x % 2 === 0;

const mapDouble = map(double);
const filterEven = filter(isEven);

console.log(mapDouble(numbers)); // [2, 4, 6, 8, 10]
console.log(filterEven(numbers)); // [2, 4]

// Function composition
const processNumbers = nums =&gt; mapDouble(filterEven(nums));
console.log(processNumbers(numbers)); // [4, 8]
</code></pre>

<p>Configuring API client:</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

function apiRequest(method, baseUrl, endpoint, options) {
  return fetch(`${baseUrl}${endpoint}`, {
    method,
    ...options,
  });
}

const curriedApiRequest = curry(apiRequest);

// Create specialized functions with default settings
const apiGet = curriedApiRequest(&#39;GET&#39;, &#39;https://api.example.com&#39;);
const apiPost = curriedApiRequest(&#39;POST&#39;, &#39;https://api.example.com&#39;);

// Include authentication headers
const authenticatedPost = apiPost(curry.placeholder, {
  headers: { Authorization: &#39;Bearer token123&#39; },
});

// Usage
apiGet(&#39;/users&#39;); // GET https://api.example.com/users
authenticatedPost(&#39;/users&#39;); // POST with auth headers
</code></pre>

<p>Mathematical operation functions:</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

const calculate = curry((operation, a, b) =&gt; {
  switch (operation) {
    case &#39;+&#39;:
      return a + b;
    case &#39;-&#39;:
      return a - b;
    case &#39;*&#39;:
      return a * b;
    case &#39;/&#39;:
      return a / b;
    default:
      throw new Error(&#39;Unsupported operation&#39;);
  }
});

// Specialized operation functions
const add = calculate(&#39;+&#39;);
const subtract = calculate(&#39;-&#39;);
const multiply = calculate(&#39;*&#39;);

console.log(add(5, 3)); // 8
console.log(subtract(10)(4)); // 6
console.log(multiply(3, 4)); // 12

// Fix second operand with placeholder
const addFive = calculate(&#39;+&#39;, curry.placeholder, 5);
console.log(addFive(10)); // 15
</code></pre>

<p>Specifying arity:</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

function variableArgsFunction(a, b, c, ...rest) {
  return [a, b, c, rest];
}

// Limit arity to 3
const curriedFixed = curry(variableArgsFunction, 3);

console.log(curriedFixed(1)(2)(3)); // [1, 2, 3, []]
console.log(curriedFixed(1, 2)(3)); // [1, 2, 3, []]

// Use without arity (default: function.length)
const curriedDefault = curry(variableArgsFunction); // arity = 3
</code></pre>

<p>Simple currying alternative:</p>

<pre data-language='typescript'><code class='typescript'>// Using curry
const curriedAdd = curry((a, b, c) =&gt; a + b + c);

// Manual closure (faster)
const manualCurry = a =&gt; b =&gt; c =&gt; a + b + c;

// Both produce the same result
console.log(curriedAdd(1)(2)(3)); // 6
console.log(manualCurry(1)(2)(3)); // 6
</code></pre>

<p>Constructor functions are also supported:</p>

<pre data-language='typescript'><code class='typescript'>import { curry } from &#39;es-toolkit/compat&#39;;

function Person(name, age, city) {
  this.name = name;
  this.age = age;
  this.city = city;
}

const CurriedPerson = curry(Person);
const SeoulPerson = CurriedPerson(curry.placeholder, curry.placeholder, &#39;Seoul&#39;);

const person1 = new SeoulPerson(&#39;John&#39;, 30);
const person2 = new SeoulPerson(&#39;Jane&#39;, 25);

console.log(person1.city); // &quot;Seoul&quot;
console.log(person2.city); // &quot;Seoul&quot;
</code></pre>

<h4>Parameters</h4>

<ul>
<li><code>func</code> (<code>Function</code>): The function to curry.</li>
<li><code>arity</code> (<code>number</code>, optional): The arity (number of arguments) of the function. If omitted, <code>func.length</code> is used.</li>
</ul>

<h4>Returns</h4>

<p>(<code>Function &amp; { placeholder: symbol }</code>): Returns the curried function. The <code>placeholder</code> property allows you to control argument positions.</p>
<div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024-2025, Viva Republica<br>
      Licensed under the MIT License.

    <br>
    <a href="https://es-toolkit.slash.page/reference/compat/function/curry.html" class="_attribution-link">
      https://es-toolkit.slash.page/reference/compat/function/curry.html
    </a>
  </p>
</div>

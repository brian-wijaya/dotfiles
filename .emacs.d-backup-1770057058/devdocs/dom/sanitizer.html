<h1>Sanitizer</h1> <details class="baseline-indicator not" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> <span class="not-bold">Limited availability</span> </div>    </summary> <div class="extra"> <p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FSanitizer&amp;level=not" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details>   <div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>Sanitizer</code> interface of the <a href="html_sanitizer_api">HTML Sanitizer API</a> defines a configuration object that specifies what elements, attributes and comments are allowed or should be removed when inserting strings of HTML into an <a href="element"><code>Element</code></a> or <a href="shadowroot"><code>ShadowRoot</code></a>, or when parsing an HTML string into a <a href="document"><code>Document</code></a>.</p> <p>A <code>Sanitizer</code> instance is effectively a wrapper around a <a href="sanitizerconfig"><code>SanitizerConfig</code></a>, and can be passed as a configuration alternative in the same <a href="html_sanitizer_api#sanitization_methods">sanitization methods</a>:</p> <ul> <li>
<a href="element/sethtml"><code>setHTML()</code></a> or <a href="element/sethtmlunsafe"><code>setHTMLUnsafe()</code></a> on <a href="element"><code>Element</code></a>.</li> <li>
<a href="shadowroot/sethtml"><code>setHTML()</code></a> or <a href="shadowroot/sethtmlunsafe"><code>setHTMLUnsafe()</code></a> on <a href="shadowroot"><code>ShadowRoot</code></a>.</li> <li>
<a href="document/parsehtml_static"><code>Document.parseHTML()</code></a> or <a href="document/parsehtmlunsafe_static"><code>Document.parseHTMLUnsafe()</code></a> static methods.</li> </ul> <p>Note that <code>Sanitizer</code> is expected to be more efficient to reuse and modify when needed.</p>     <mdn-survey></mdn-survey>  <h2 id="constructors" class="heading">Constructors</h2> <dl> <dt id="sanitizer">
<a href="sanitizer/sanitizer"><code>Sanitizer()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Creates and returns a <code>Sanitizer</code> object, optionally with custom sanitization behavior defined in a <a href="sanitizerconfig"><code>SanitizerConfig</code></a>.</p> </dd> </dl>  <h2 id="instance_methods" class="heading">Instance methods</h2> <dl> <dt id="sanitizer.allowelement">
<a href="sanitizer/allowelement"><code>Sanitizer.allowElement()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets an element as allowed by the sanitizer, optionally with an array of attributes that are allowed or disallowed.</p> </dd> <dt id="sanitizer.get">
<a href="sanitizer/get"><code>Sanitizer.get()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Returns the current <code>Sanitizer</code> configuration as an <a href="sanitizerconfig"><code>SanitizerConfig</code></a> dictionary instance.</p> </dd> <dt id="sanitizer.removeelement">
<a href="sanitizer/removeelement"><code>Sanitizer.removeElement()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets an element to be removed by the sanitizer.</p> </dd> <dt id="sanitizer.removeunsafe">
<a href="sanitizer/removeunsafe"><code>Sanitizer.removeUnsafe()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Updates the sanitizer configuration so that it will remove any XSS-unsafe HTML.</p> </dd> <dt id="sanitizer.replaceelementwithchildren">
<a href="sanitizer/replaceelementwithchildren"><code>Sanitizer.replaceElementWithChildren()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets an element to be replaced by its child HTML elements.</p> </dd> <dt id="sanitizer.allowattribute">
<a href="sanitizer/allowattribute"><code>Sanitizer.allowAttribute()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets an attribute as allowed on any element.</p> </dd> <dt id="sanitizer.removeattribute">
<a href="sanitizer/removeattribute"><code>Sanitizer.removeAttribute()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets an attribute to be removed from any element.</p> </dd> <dt id="sanitizer.setcomments">
<a href="sanitizer/setcomments"><code>Sanitizer.setComments()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets whether comments will be allowed or removed by the sanitizer.</p> </dd> <dt id="sanitizer.setdataattributes">
<a href="sanitizer/setdataattributes"><code>Sanitizer.setDataAttributes()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Sets whether data attributes on elements will be allowed or removed by the sanitizer.</p> </dd> </dl>  <h2 id="examples" class="heading">Examples</h2> <p>For more examples see the <a href="html_sanitizer_api">HTML Sanitizer API</a> and the individual methods. Below we show a few examples of how you might create different sanitizer configurations.</p>  <h3 id="creating_a_default_sanitizer" class="heading">Creating a default sanitizer</h3> <p>The default sanitizer is constructed as shown below.</p> <div class="code-example"><pre data-language="js">const sanitizer = new Sanitizer();
</pre></div> <p>The XSS-safe <a href="html_sanitizer_api#sanitization_methods">sanitization methods</a> create the same sanitizer automatically if no options are passed.</p>  <h3 id="creating_an_empty_sanitizer" class="heading">Creating an empty sanitizer</h3> <p>To create an empty sanitizer, pass an empty object to the constructor. The resulting sanitizer configuration is shown below.</p> <div class="code-example"><pre data-language="js">const sanitizer = new Sanitizer({});
/*
{
  "attributes": [],
  "comments": true,
  "dataAttributes": true,
  "elements": [],
  "removeAttributes": [],
  "removeElements": [],
  "replaceWithChildrenElements": []
}
*/
</pre></div>  <h3 id="creating_an_allow_sanitizer" class="heading">Creating an "allow" sanitizer</h3> <p>This example shows how you might create an "allow sanitizer": a sanitizer that allows only a subset of attributes and elements.</p> <p>The code first uses the <a href="sanitizer/sanitizer"><code>Sanitizer()</code></a> constructor to create a <code>Sanitizer</code>, specifying a <a href="sanitizerconfig"><code>SanitizerConfig</code></a> that allows the element <code>&lt;div&gt;</code>, <code>&lt;p&gt;</code> and <code>&lt;script&gt;</code>.</p> <p>The example then uses <code>allowElement()</code> to further allow <code>&lt;span&gt;</code> elements, <code>allowAttribute()</code> to allow the <code>id</code> attribute on any element, and <code>replaceElementWithChildren()</code> method to set that any <code>&lt;b&gt;</code> elements should be replaced by their inner content (this is a kind of "allow" in that you are explicitly specifying some entities to keep). Lastly we specify that comments should be retained.</p> <div class="code-example"><pre data-language="js">const sanitizer = new Sanitizer({ elements: ["div", "p", "script"] });
sanitizer.allowElement("span");
sanitizer.allowAttribute("id");
sanitizer.replaceElementWithChildren("b");
sanitizer.setComments(true);
</pre></div>  <h3 id="creating_a_remove_sanitizer" class="heading">Creating a "remove" sanitizer</h3> <p>This example shows how you might create a "remove sanitizer", specifying items to remove from the input.</p> <p>The code first uses the <a href="sanitizer/sanitizer"><code>Sanitizer()</code></a> constructor to create a <code>Sanitizer</code>, specifying a <a href="sanitizerconfig"><code>SanitizerConfig</code></a> that removes the element <code>&lt;span&gt;</code> and <code>&lt;script&gt;</code>. We then use <code>removeElement()</code> to add <code>&lt;h6&gt;</code> to the array of elements to be removed, and <code>removeAttribute()</code> to remove <code>lang</code> from the attributes list. We also remove comments.</p> <div class="code-example"><pre data-language="js">const sanitizer = new Sanitizer({ removeElements: ["span", "script"] });
sanitizer.removeElement("h6");
sanitizer.removeAttribute("lang");
sanitizer.setComments(false);
</pre></div>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://wicg.github.io/sanitizer-api/#sanitizer" rel="noopener" target="_blank">HTML Sanitizer API&gt;<br># sanitizer&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Sanitizer</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>Sanitizer</code></th>
<td class="bc-supports-no"><details><summary>No</summary>Chrome 105 to Chrome 118 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-no"><details><summary>No</summary>Edge 105 to Edge 118 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no"><details><summary>No</summary>Opera 91 to Opera 104 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no"><details><summary>No</summary>Chrome Android 105 to Chrome Android 118 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no"><details><summary>No</summary>Opera Android 72 to Opera Android 79 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no"><details><summary>No</summary>Samsung Internet 20.0 to Samsung Internet 25.0 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-no"><details><summary>No</summary>WebView Android 105 to WebView Android 118 (inclusive) supported this interface name with a significantly different specification.</details></td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>allowAttribute</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>allowElement</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>get</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>removeAttribute</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>removeElement</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>removeUnsafe</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>replaceElementWithChildren</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>setComments</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>setDataAttributes</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">138</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Sanitizer" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Sanitizer</a>
  </p>
</div>

<h1>PublicKeyCredential: signalCurrentUserDetails() static method</h1> <details class="baseline-indicator not" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> <span class="not-bold">Limited availability</span> </div>    </summary> <div class="extra"> <p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPublicKeyCredential%2FsignalCurrentUserDetails_static&amp;level=not" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details>   <div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <p>The <code>signalCurrentUserDetails()</code> static method of the <a href="../publickeycredential"><code>PublicKeyCredential</code></a> interface signals to the authenticator that a particular user has updated their user name and/or display name on the <a href="https://en.wikipedia.org/wiki/Relying_party" target="_blank">relying party</a> (RP) server.</p> <p>This allows the authenticator to update user account details, to make sure they stay in sync with those held by the RP. It should only be used when the current user is authenticated â€” after sign in, or when they change the metadata associated with their credentials on the RP web app.</p>     <mdn-survey></mdn-survey>  <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="js">signalCurrentUserDetails(options)
</pre></div>  <h3 id="parameters" class="heading">Parameters</h3> <dl> <dt id="options"><a href="#options"><code>options</code></a></dt> <dd> <p>An object representing the updated user information, which contains the following properties:</p> <dl> <dt id="displayname"><a href="#displayname"><code>displayName</code></a></dt> <dd> <p>A string representing the updated user <a href="../publickeycredentialcreationoptions#displayname"><code>displayName</code></a>.</p> </dd> <dt id="name"><a href="#name"><code>name</code></a></dt> <dd> <p>A string representing the updated user <a href="../publickeycredentialcreationoptions#name_2"><code>name</code></a>.</p> </dd> <dt id="rpid"><a href="#rpid"><code>rpId</code></a></dt> <dd> <p>A string representing the <a href="../publickeycredentialcreationoptions#id_2"><code>id</code> of the RP</a> that sent the signal.</p> </dd> <dt id="userid"><a href="#userid"><code>userId</code></a></dt> <dd> <p>A base64url-encoded string representing the <a href="../publickeycredentialcreationoptions#id_3"><code>id</code> of the user</a> the credentials relate to.</p> </dd> </dl> </dd> </dl>  <h3 id="return_value" class="heading">Return value</h3> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>.</p>  <h3 id="exceptions" class="heading">Exceptions</h3> <p>The promise rejects with the following exceptions:</p> <dl> <dt id="securityerror">
<code>SecurityError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>The RP domain is not valid.</p> </dd> <dt id="typeerror">
<code>TypeError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>The <code>credentialId</code> is not a valid base64url-encoded string.</p> </dd> </dl>  <h2 id="description" class="heading">Description</h2> <p>It is possible for the information stored in a user's authenticator about a <a href="../web_authentication_api#discoverable_credentials_and_conditional_mediation">discoverable credential</a> (for example, <a href="https://passkeys.dev/" target="_blank">a passkey</a>) to go out sync with the RP server. This can occur when the user updates their user name or display name on the RP web app without updating the authenticator.</p> <p>The next time they try to sign in with a discoverable credential, the credential will still be presented to them with the old user name/display name in the relevant UI, which can result in a confusing user experience.</p> <p>To avoid this issue, <code>signalCurrentUserDetails()</code> should be called on the RP web app each time a user updates their user account details or signs in, to tell the authenticator that the user information has been updated. It is up to the authenticator how to handle this information, but the expectation is that it will synchronize its user information with the provided update.</p>  <h2 id="examples" class="heading">Examples</h2> &gt;  <h3 id="signaling_the_current_user_details" class="heading">Signaling the current user details</h3> <p>In this example, we invoke the <code>signalCurrentUserDetail()</code> method, passing it the details of a credential the user has just edited on the RP. As a result, the authenticator should update its own copy of the credential so that it stays in sync with the RP.</p> <div class="code-example"><pre data-language="js">if (PublicKeyCredential.signalCurrentUserDetails) {
  await PublicKeyCredential.signalCurrentUserDetails({
    rpId: "example.com",
    userId: "M2YPl-KGnA8", // base64url-encoded user ID
    name: "a.new.email.address@example.com", // username
    displayName: "Maria Sanchez",
  });
} else {
  // Encourage the user to update their details in the authenticator
}
</pre></div> <p>For further code examples, see <a href="https://developer.chrome.com/docs/identity/webauthn-signal-api" target="_blank">Keep passkeys consistent with credentials on your server with the Signal API</a> on developer.chrome.com (2024).</p>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/webauthn/#dom-publickeycredential-signalcurrentuserdetails" rel="noopener" target="_blank">Web Authentication: An API for accessing Public Key Credentials - Level 3&gt;<br># dom-publickeycredential-signalcurrentuserdetails&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody><tr>
<th><code>signalCurrentUserDetails_static</code></th>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">117</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">132</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">87</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">26</td>
</tr></tbody>
</table></div>  <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="signalallacceptedcredentials_static"><code>PublicKeyCredential.signalAllAcceptedCredentials()</code></a></li> <li><a href="signalunknowncredential_static"><code>PublicKeyCredential.signalUnknownCredential()</code></a></li> <li>
<a href="https://developer.chrome.com/docs/identity/webauthn-signal-api" target="_blank">Keep passkeys consistent with credentials on your server with the Signal API</a> on developer.chrome.com (2024)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredential/signalCurrentUserDetails_static" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredential/signalCurrentUserDetails_static</a>
  </p>
</div>

<h1>RTCInboundRtpStreamStats: qpSum property</h1> <details class="baseline-indicator not" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> <span class="not-bold">Limited availability</span> </div>    </summary> <div class="extra"> <p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FRTCInboundRtpStreamStats%2FqpSum&amp;level=not" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details>   <p>The <code>qpSum</code> property of the <a href="../rtcinboundrtpstreamstats"><code>RTCInboundRtpStreamStats</code></a> dictionary indicates the sum of the <strong>Quantization Parameter</strong> (<strong>QP</strong>) values for every frame sent or received on the video track corresponding to this <code>RTCInboundRtpStreamStats</code> object.</p> <p>In general, a larger numbers indicates that the video data is more heavily compressed.</p> <div class="notecard note"> <p><strong>Note:</strong> This value is only available for video media.</p> </div>     <mdn-survey></mdn-survey>  <h2 id="value" class="heading">Value</h2> <p>A positive integer.</p>  <h2 id="description" class="heading">Description</h2> <p><a href="https://en.wikipedia.org/wiki/Quantization" target="_blank">Quantization</a> is the process of applying lossy compression to a range of values, resulting in a single <strong>quantum value</strong>. This value takes the place of the range of values, thereby reducing the number of different values that appear in the overall data set, making the data more compressible. The quantization process and the amount of compression can be controlled using one or more parameters.</p> <p>It's important to keep in mind that the value of QP can change periodically—even every frame—so it's difficult to know for certain how substantial the compression is. The best you can do is make an estimate. You can, for example, use the value of <a class="page-not-created" data-href="/en-US/docs/Web/API/RTCReceivedRtpStreamStats/framesDecoded"><code>RTCReceivedRtpStreamStats.framesDecoded</code></a> if receiving the media (or <a class="page-not-created" data-href="/en-US/docs/Web/API/RTCSentRtpStreamStats/framesEncoded"><code>RTCSentRtpStreamStats.framesEncoded</code></a> if sending it) to get the number of frames handled so far, and compute an average from there. See <a href="#calculating_average_quantization">Calculating average quantization</a> below for a function that does this.</p> <p>Also, the exact meaning of the QP value depends on the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Codec">codec</a> being used. For example, for the VP8 codec, the QP value can be anywhere from 1 to 127 and is found in the frame header element <code>"y_ac_qi"</code>, whose value is defined in <a href="https://datatracker.ietf.org/doc/html/rfc6386#section-19.2" target="_blank">RFC 6386, section 19.2</a>. H.264 uses a QP which ranges from 0 to 51; in this case, it's an index used to derive a scaling matrix used during the quantization process. Additionally, QP is not likely to be the only parameter the codec uses to adjust the compression. See the individual codec specifications for details.</p>  <h2 id="examples" class="heading">Examples</h2> &gt;  <h3 id="calculating_average_quantization" class="heading">Calculating average quantization</h3> <p>The <code>calculateAverageQP()</code> function shown below computes the average QP for the given <a href="../rtcstatsreport"><code>RTCStatsReport</code></a> object that contains RTP stream statistics, returning 0 if the object doesn't describe an RTP stream.</p> <div class="code-example"><pre data-language="js">function calculateAverageQP(stats) {
  let frameCount = 0;

  switch (stats.type) {
    case "inbound-rtp":
    case "remote-inbound-rtp":
      frameCount = stats.framesDecoded;
      break;
    case "outbound-rtp":
    case "remote-outbound-rtp":
      frameCount = stats.framesEncoded;
      break;
    default:
      return 0;
  }

  return status.qpSum / frameCount;
}
</pre></div> <p>Note that QP values can vary from codec to codec. This value is therefore only potentially useful when compared against the same codec.</p>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/webrtc-stats/#dom-rtcinboundrtpstreamstats-qpsum" rel="noopener" target="_blank">Identifiers for WebRTC's Statistics API&gt;<br># dom-rtcinboundrtpstreamstats-qpsum&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody><tr>
<th><code>qpSum</code></th>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">66</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">12.0</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCInboundRtpStreamStats/qpSum" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCInboundRtpStreamStats/qpSum</a>
  </p>
</div>

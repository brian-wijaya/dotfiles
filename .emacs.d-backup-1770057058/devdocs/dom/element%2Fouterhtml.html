<h1>Element: outerHTML property</h1> <details class="baseline-indicator high" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title">  Baseline <span class="not-bold"> Widely available </span>   </div>    </summary> <div class="extra"> <p> This feature is well established and works across many devices and browser versions. It’s been available across browsers since ⁨July 2015⁩. </p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FElement%2FouterHTML&amp;level=high" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details>   <div class="notecard warning"> <p><strong>Warning:</strong> This property parses its input as HTML, writing the result into the DOM. APIs like this are known as <a href="../trusted_types_api#concepts_and_usage">injection sinks</a>, and are potentially a vector for <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS">cross-site-scripting (XSS)</a> attacks, if the input originally came from an attacker.</p> <p>You can mitigate this risk by always assigning <code>TrustedHTML</code> objects instead of strings and <a href="../trusted_types_api#using_a_csp_to_enforce_trusted_types">enforcing trusted types</a>. See <a href="#security_considerations">Security considerations</a> for more information.</p> </div> <p>The <code>outerHTML</code> attribute of the <a href="../element"><code>Element</code></a> interface gets or sets the HTML or XML markup of the element and its descendants, omitting any <a href="https://developer.mozilla.org/en-US/docs/Glossary/Shadow_tree">shadow roots</a> in both cases.</p> <p>To get or set the contents of an element, use the <a href="innerhtml"><code>innerHTML</code></a> property instead.</p>     <mdn-survey></mdn-survey>  <h2 id="value" class="heading">Value</h2> <p>Getting the property returns a string containing an HTML serialization of the <code>element</code> and its descendants.</p> <p>Setting the property accepts either a <a href="../trustedhtml"><code>TrustedHTML</code></a> object or a string. The input is parsed as HTML and replaces the element and all its descendants with the result. When set to the <code>null</code> value, that <code>null</code> value is converted to the empty string (<code>""</code>), so <code>element.outerHTML = null</code> is equivalent to <code>element.outerHTML = ""</code>.</p>  <h3 id="exceptions" class="heading">Exceptions</h3> <dl> <dt id="nomodificationallowederror">
<code>NoModificationAllowedError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if an attempt was made to set <code>outerHTML</code> on an element which is a direct child of a <a href="../document"><code>Document</code></a>, such as <a href="../document/documentelement"><code>Document.documentElement</code></a>.</p> </dd> <dt id="syntaxerror">
<code>SyntaxError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if an attempt was made to set <code>outerHTML</code> using an XML input which is not well-formed.</p> </dd> <dt id="typeerror"><a href="#typeerror"><code>TypeError</code></a></dt> <dd> <p>Thrown if the property is set to a string when <a href="../trusted_types_api">Trusted Types</a> are <a href="../trusted_types_api#using_a_csp_to_enforce_trusted_types">enforced by a CSP</a> and no default policy is defined.</p> </dd> </dl>  <h2 id="description" class="heading">Description</h2> <p><code>outerHTML</code> gets a serialization of the element, or sets HTML or XML that should be parsed to replace it within the element's parent.</p> <p>If the element has no parent node, setting its <code>outerHTML</code> property will not change it or its descendants. For example:</p> <div class="code-example"><pre data-language="js">const div = document.createElement("div");
div.outerHTML = '&lt;div class="test"&gt;test&lt;/div&gt;';
console.log(div.outerHTML); // output: "&lt;div&gt;&lt;/div&gt;"
</pre></div> <p>Also, while the element will be replaced in the document, the variable whose <code>outerHTML</code> property was set will still hold a reference to the original element:</p> <div class="code-example"><pre data-language="js">const p = document.querySelector("p");
console.log(p.nodeName); // shows: "P"
p.outerHTML = "&lt;div&gt;This div replaced a paragraph.&lt;/div&gt;";
console.log(p.nodeName); // still "P";
</pre></div>  <h3 id="escaped_attribute_values" class="heading">Escaped attribute values</h3> <p>The returned value will escape some values in HTML attributes. Here we see that the <code>&amp;</code> character is escaped:</p> <div class="code-example"><pre data-language="js">const anchor = document.createElement("a");
anchor.href = "https://developer.mozilla.org?a=b&amp;c=d";
console.log(anchor.outerHTML); // output: "&lt;a href='https://developer.mozilla.org?a=b&amp;amp;c=d'&gt;&lt;/a&gt;"
</pre></div> <p>Some browsers also serialize the <code>&lt;</code> and <code>&gt;</code> characters as <code>&amp;lt;</code> and <code>&amp;gt;</code> when they appear in attribute values (see <a href="#browser_compatibility">Browser compatibility</a>). This is to prevent a potential security vulnerability (<a href="https://www.securitum.com/mutation-xss-via-mathml-mutation-dompurify-2-0-17-bypass.html" target="_blank">mutation XSS</a>) in which an attacker can craft input that bypasses a <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS#sanitization">sanitization function</a>, enabling a cross-site scripting (XSS) attack.</p>  <h3 id="shadow_dom_considerations" class="heading">Shadow DOM considerations</h3> <p>The serialization of the DOM tree read from the property does not include <a href="https://developer.mozilla.org/en-US/docs/Glossary/Shadow_tree">shadow roots</a>. If you want to get an HTML serialization of an element that includes shadow roots, you must instead use the <a href="gethtml"><code>Element.getHTML()</code></a> method. Note that this gets the <em>contents</em> of the element.</p> <p>Similarly, when setting element content using <code>outerHTML</code>, the HTML input is parsed into DOM elements that do not contain shadow roots. So for example <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/template"><code>&lt;template&gt;</code></a> is parsed into as <a href="../htmltemplateelement"><code>HTMLTemplateElement</code></a>, whether or not the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/template#shadowrootmode"><code>shadowrootmode</code></a> attribute is specified. If you want to set an element's <em>contents</em> from an HTML input that includes declarative shadow roots, you must instead use <a href="sethtmlunsafe"><code>Element.setHTMLUnsafe()</code></a> or <a href="../shadowroot/sethtmlunsafe"><code>ShadowRoot.setHTMLUnsafe()</code></a>.</p>  <h3 id="security_considerations" class="heading">Security considerations</h3> <p>The <code>outerHTML</code> property is possible vector for <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS">Cross-site-scripting (XSS)</a> attacks, as it can be used to inject potentially unsafe strings provided by a user into the DOM. While the property does prevent <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/script"><code>&lt;script&gt;</code></a> elements from executing when they are injected, it is susceptible to many other ways that attackers can craft HTML to run malicious JavaScript. For example, the following example would execute the code in the <code>error</code> event handler, because the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/img"><code>&lt;img&gt;</code></a> <code>src</code> value is not a valid image URL:</p> <div class="code-example"><pre data-language="js">const name = "&lt;img src='x' onerror='alert(1)'&gt;";
element.outerHTML = name; // shows the alert
</pre></div> <p>You can mitigate these issues by always assigning <a href="../trustedhtml"><code>TrustedHTML</code></a> objects instead of strings, and <a href="../trusted_types_api#using_a_csp_to_enforce_trusted_types">enforcing trusted type</a> using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Content-Security-Policy/require-trusted-types-for"><code>require-trusted-types-for</code></a> CSP directive. This ensures that the input is passed through a transformation function, which has the chance to <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Attacks/XSS#sanitization">sanitize</a> the input to remove potentially dangerous markup before it is injected.</p>  <h2 id="examples" class="heading">Examples</h2> &gt;  <h3 id="getting_the_serialization_of_an_element" class="heading">Getting the serialization of an element</h3> <p>Reading <code>outerHTML</code> causes the user agent to serialize the element.</p> <p>Given the following HTML:</p> <div class="code-example"><pre data-language="html">&lt;div id="example"&gt;
  &lt;p&gt;Content&lt;/p&gt;
  &lt;p&gt;Further Elaborated&lt;/p&gt;
&lt;/div&gt;
</pre></div> <p>You can get and log the markup for the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/div"><code>&lt;div&gt;</code></a> as shown:</p> <div class="code-example"><pre data-language="js">const myElement = document.querySelector("#example");
const contents = myElement.outerHTML;
console.log(contents);
// '&lt;div id="example"&gt;\n  &lt;p&gt;Content&lt;/p&gt;\n  &lt;p&gt;Further Elaborated&lt;/p&gt;\n&lt;/div&gt;'
</pre></div>  <h3 id="replacing_the_element" class="heading">Replacing the element</h3> <p>In this example we'll replace an element in the DOM by assigning HTML to the element's <code>outerHTML</code> property. To mitigate the risk of XSS, we'll first create a <code>TrustedHTML</code> object from the string containing the HTML, and then assign that object to <code>outerHTML</code>.</p> <p>Trusted types are not yet supported on all browsers, so first we define the <a href="../trusted_types_api#trusted_types_tinyfill">trusted types tinyfill</a>. This acts as a transparent replacement for the trusted types JavaScript API:</p> <div class="code-example"><pre data-language="js">if (typeof trustedTypes === "undefined")
  trustedTypes = { createPolicy: (n, rules) =&gt; rules };
</pre></div> <p>Next we create a <a href="../trustedtypepolicy"><code>TrustedTypePolicy</code></a> that defines a <a href="../trustedtypepolicy/createhtml"><code>createHTML()</code></a> for transforming an input string into <a href="../trustedhtml"><code>TrustedHTML</code></a> instances. Commonly implementations of <code>createHTML()</code> use a library such as <a href="https://github.com/cure53/DOMPurify" target="_blank">DOMPurify</a> to sanitize the input as shown below:</p> <div class="code-example"><pre data-language="js">const policy = trustedTypes.createPolicy("my-policy", {
  createHTML: (input) =&gt; DOMPurify.sanitize(input),
});
</pre></div> <p>Then we use this <code>policy</code> object to create a <code>TrustedHTML</code> object from the potentially unsafe input string, and assign the result to the element:</p> <div class="code-example"><pre data-language="js">// The potentially malicious string
const untrustedString = "&lt;p&gt;I might be XSS&lt;/p&gt;&lt;img src='x' onerror='alert(1)'&gt;";

// Create a TrustedHTML instance using the policy
const trustedHTML = policy.createHTML(untrustedString);

// Inject the TrustedHTML (which contains a trusted string)
const element = document.querySelector("#container");
element.outerHTML = trustedHTML; // Replaces the element with id "container"

// Note that the  #container div is no longer part of the document tree,
</pre></div> <div class="notecard warning"> <p><strong>Warning:</strong> While you can directly assign a string to <code>outerHTML</code> this is a <a href="#security_considerations">security risk</a> if the string to be inserted might contain potentially malicious content. You should use <code>TrustedHTML</code> to ensure that the content is sanitized before it is inserted, and you should set a CSP header to <a href="../trusted_types_api#using_a_csp_to_enforce_trusted_types">enforce trusted types</a>.</p> </div>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-outerhtml" rel="noopener" target="_blank">HTML&gt;<br># dom-element-outerhtml&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>outerHTML</code></th>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">8</td>
<td class="bc-supports-yes">1.3</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes">10.1</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1</td>
</tr>
<tr>
<th><code>enforces_trusted_types</code></th>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-yes">135</td>
<td class="bc-supports-yes">69</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">59</td>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">13.0</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-yes">26</td>
</tr>
<tr>
<th><code>escapes_lt_gt_in_attributes</code></th>
<td class="bc-supports-yes">114</td>
<td class="bc-supports-yes">114</td>
<td class="bc-supports-yes">140</td>
<td class="bc-supports-yes">100</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">114</td>
<td class="bc-supports-yes">140</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
</tbody>
</table></div>  <h2 id="see_also" class="heading">See also</h2> <ul> <li>Serializing DOM trees into XML strings: <a href="../xmlserializer"><code>XMLSerializer</code></a>
</li> <li>Parsing XML or HTML into DOM trees: <a href="../domparser"><code>DOMParser</code></a>
</li> <li><a href="../htmlelement/outertext"><code>HTMLElement.outerText</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/outerHTML" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Element/outerHTML</a>
  </p>
</div>

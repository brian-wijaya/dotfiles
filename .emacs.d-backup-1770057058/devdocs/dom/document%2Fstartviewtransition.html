<h1>Document: startViewTransition() method</h1> <details class="baseline-indicator not" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> <span class="not-bold">Limited availability</span> </div>    </summary> <div class="extra"> <p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FstartViewTransition&amp;level=not" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details>   <p>The <code>startViewTransition()</code> method of the <a href="../document"><code>Document</code></a> interface starts a new same-document (SPA) <a href="../view_transition_api">view transition</a> and returns a <a href="../viewtransition"><code>ViewTransition</code></a> object to represent it.</p> <p>When <code>startViewTransition()</code> is invoked, a sequence of steps is followed as explained in <a href="../view_transition_api/using#the_view_transition_process">The view transition process</a>.</p>     <mdn-survey></mdn-survey>  <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="js">startViewTransition()
startViewTransition(updateCallback)
startViewTransition(options)
</pre></div>  <h3 id="parameters" class="heading">Parameters</h3> <dl> <dt id="updatecallback"><a href="#updatecallback"><code>updateCallback</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An optional callback function typically invoked to update the DOM during the SPA view transition process, which returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>. The callback is invoked once the API has taken a snapshot of the current page. When the promise returned by the callback fulfills, the view transition begins in the next frame. If the promise returned by the callback rejects, the transition is abandoned.</p> </dd> <dt id="options"><a href="#options"><code>options</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An object containing options to configure the view transition. It can include the following properties:</p> <dl> <dt id="update"><a href="#update"><code>update</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The same <code>updateCallback</code> function described above. Defaults to <code>null</code>.</p> </dd> <dt id="types"><a href="#types"><code>types</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An array of strings. These strings act as class names or identifiers for the transition, allowing you to selectively apply CSS styles or run different JavaScript logic based on the type of transition occurring. Defaults to an empty sequence.</p> </dd> </dl> </dd> </dl>  <h3 id="return_value" class="heading">Return value</h3> <p>A <a href="../viewtransition"><code>ViewTransition</code></a> object instance.</p>  <h2 id="examples" class="heading">Examples</h2> &gt;  <h3 id="using_a_same-document_view_transition" class="heading">Using a same-document view transition</h3> <p>In this same-document view transition, we check if the browser supports view transitions. If there's no support, we set the background color using a fallback method which is applied immediately. Otherwise, we can safely call <code>document.startViewTransition()</code> with animation rules that we define in CSS.</p> <div class="code-example"><pre data-language="html">&lt;main&gt;
  &lt;section&gt;&lt;/section&gt;
  &lt;button id="change-color"&gt;Change color&lt;/button&gt;
&lt;/main&gt;
</pre></div> <p>We are setting the <code>animation-duration</code> to 2 seconds using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::view-transition-group"><code>::view-transition-group</code></a> pseudo-element.</p> <div class="code-example"><pre data-language="css">html {
  --bg: indigo;
}
main {
  display: flex;
  flex-direction: column;
  gap: 5px;
}
section {
  background-color: var(--bg);
  height: 60px;
  border-radius: 5px;
}
::view-transition-group(root) {
  animation-duration: 2s;
}
</pre></div> <div class="code-example"><pre data-language="js">const colors = ["darkred", "darkslateblue", "darkgreen"];
const colBlock = document.querySelector("section");
let count = 0;
const updateColour = () =&gt; {
  colBlock.style = `--bg: ${colors[count]}`;
  count = count !== colors.length - 1 ? ++count : 0;
};
const changeColor = () =&gt; {
  // Fallback for browsers that don't support View Transitions:
  if (!document.startViewTransition) {
    updateColour();
    return;
  }

  // With View Transitions:
  const transition = document.startViewTransition(() =&gt; {
    updateColour();
  });
};
const changeColorButton = document.querySelector("#change-color");
changeColorButton.addEventListener("click", changeColor);
changeColorButton.addEventListener("keypress", changeColor);
</pre></div> <p>If view transitions are supported, clicking the button will transition the color from one to another over 2 seconds. Otherwise, the background color is set using a fallback method, without any animation.</p> <div class="code-example"><iframe class="sample-code-frame" title="color change sample" id="frame_color_change" width="100%" height="120" src="about:blank" data-live-path="/en-US/docs/Web/API/Document/startViewTransition/" data-live-id="color_change" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.csswg.org/css-view-transitions-1/#dom-document-startviewtransition" rel="noopener" target="_blank">CSS View Transitions Module Level 1&gt;<br># dom-document-startviewtransition&gt;</a></td> </tr>
<tr> <td><a href="https://drafts.csswg.org/css-view-transitions-2/#dom-document-startviewtransition" rel="noopener" target="_blank">CSS View Transitions Module Level 2&gt;<br># dom-document-startviewtransition&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>startViewTransition</code></th>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">preview140</td>
<td class="bc-supports-yes">97</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">75</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">22.0</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">18</td>
</tr>
<tr>
<th><code>callbackOptions_parameter</code></th>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">18.2</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-yes">18.2</td>
<td class="bc-supports-yes">27.0</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">18.2</td>
</tr>
<tr>
<th><code>updateCallback_parameter</code></th>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">preview140</td>
<td class="bc-supports-yes">97</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">75</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">22.0</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">18</td>
</tr>
</tbody>
</table></div>  <h2 id="see_also" class="heading">See also</h2> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:active-view-transition"><code>:active-view-transition</code></a> pseudo-class</li> <li>
<a class="page-not-created" data-href="/en-US/docs/Web/CSS/:active-view-transition-type"><code>:active-view-transition-type()</code></a> pseudo-class</li> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/" target="_blank">Smooth transitions with the View Transition API</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition</a>
  </p>
</div>

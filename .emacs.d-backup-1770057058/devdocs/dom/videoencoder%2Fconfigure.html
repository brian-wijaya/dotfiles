<h1>VideoEncoder: configure() method</h1> <details class="baseline-indicator not" data-glean-toggle-open="baseline_toggle_open"> <summary>  <div class="status-title"> <span class="not-bold">Limited availability</span> </div>    </summary> <div class="extra"> <p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>  <ul> <li> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean-id="baseline_link_learn_more" target="_blank" class="learn-more"> Learn more </a> </li> <li> <a href="#browser_compatibility" data-glean-id="baseline_link_bcd_table"> See full compatibility </a> </li> <li> <a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FVideoEncoder%2Fconfigure&amp;level=not" data-glean-id="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer"> Report feedback </a> </li> </ul> </div> </details>   <div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <div class="notecard note"><p><strong>Note:</strong> This feature is available in <a href="../dedicatedworkerglobalscope">Dedicated Web Workers</a>.</p></div> <p>The <code>configure()</code> method of the <a href="../videoencoder"><code>VideoEncoder</code></a> interface changes the <a href="state"><code>state</code></a> of the encoder to "configured" and asynchronously prepares the encoder to accept <a href="../videoencoder"><code>VideoEncoder</code></a>s for encoding with the specified parameters. If the encoder doesn't support the specified parameters or can't be initialized for other reasons an error will be reported via the error callback provided to the <a href="../videoencoder"><code>VideoEncoder</code></a> constructor.</p> <p>If the <a href="../videoencoder"><code>VideoEncoder</code></a> has been previously configured, the new configuration will not be applied until all previous tasks have completed.</p>     <mdn-survey></mdn-survey>  <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="js">configure(config)
</pre></div>  <h3 id="parameters" class="heading">Parameters</h3> <dl> <dt id="config"><a href="#config"><code>config</code></a></dt> <dd> <p>A dictionary object containing the following members:</p> <dl> <dt id="codec"><a href="#codec"><code>codec</code></a></dt> <dd> <p>A string containing a <a href="https://w3c.github.io/webcodecs/codec_registry.html#video-codec-registry" target="_blank">valid codec string</a>. See <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Guides/Formats/codecs_parameter#codec_options_by_container">"codecs" parameter</a> for details on codec string construction.</p> </dd> <dt id="width"><a href="#width"><code>width</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An integer representing the width of each output <a href="../encodedvideochunk"><code>EncodedVideoChunk</code></a> in pixels, before any ratio adjustments.</p> </dd> <dt id="height"><a href="#height"><code>height</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An integer representing the height of each output <a href="../encodedvideochunk"><code>EncodedVideoChunk</code></a> in pixels, before any ratio adjustments.</p> </dd> <dt id="displaywidth"><a href="#displaywidth"><code>displayWidth</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An integer representing the intended display width of each output <a href="../encodedvideochunk"><code>EncodedVideoChunk</code></a> in pixels when displayed.</p> </dd> <dt id="displayheight"><a href="#displayheight"><code>displayHeight</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An integer representing the vertical dimension of each output <a href="../encodedvideochunk"><code>EncodedVideoChunk</code></a> in pixels when displayed.</p> </dd> <dt id="hardwareacceleration"><a href="#hardwareacceleration"><code>hardwareAcceleration</code></a></dt> <dd> <p>A hint that configures the hardware acceleration method of this codec. One of:</p> <ul> <li><code>"no-preference"</code></li> <li><code>"prefer-hardware"</code></li> <li><code>"prefer-software"</code></li> </ul> </dd> <dt id="bitrate"><a href="#bitrate"><code>bitrate</code></a></dt> <dd> <p>An integer containing the average bitrate of the encoded video in units of bits per second.</p> </dd> <dt id="framerate"><a href="#framerate"><code>framerate</code></a></dt> <dd> <p>An integer containing the expected frame rate in frames per second.</p> </dd> <dt id="alpha"><a href="#alpha"><code>alpha</code></a></dt> <dd> <p>A string indicating whether the alpha component of the <code>VideoFrame</code> inputs should be kept or discarded prior to encoding. One of:</p> <ul> <li>
<code>"discard"</code> (default)</li> <li><code>"keep"</code></li> </ul> </dd> <dt id="scalabilitymode"><a href="#scalabilitymode"><code>scalabilityMode</code></a></dt> <dd> <p>A string containing an encoding scalability mode identifier as defined in <a href="https://w3c.github.io/webrtc-svc/#scalabilitymodes*" target="_blank">WebRTC</a>.</p> </dd> <dt id="bitratemode"><a href="#bitratemode"><code>bitrateMode</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>A string containing a bitrate mode. One of:</p> <dl> <dt id="constant"><a href="#constant"><code>"constant"</code></a></dt> <dd> <p>The encoder will target constant bitrate.</p> </dd> <dt id="variable"><a href="#variable"><code>"variable"</code> (default)</a></dt> <dd> <p>The encoder will target a variable bitrate, allowing more space to be used for complex signals and less space for less complex signals.</p> </dd> <dt id="quantizer"><a href="#quantizer"><code>"quantizer"</code></a></dt> <dd> <p>The encoder will disregard the <code>bitrate</code> option and instead it will use codec-specific quantizer values specified for each frame in the <code>options</code> parameter to <a href="encode"><code>VideoEncoder.encode()</code></a>.</p> </dd> </dl> </dd> <dt id="latencymode"><a href="#latencymode"><code>latencyMode</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>A string containing a value that configures the latency behavior of this codec. One of:</p> <dl> <dt id="quality"><a href="#quality"><code>"quality"</code> (default)</a></dt> <dd> <p>The encoder should optimize for encoding quality.</p> </dd> <dt id="realtime"><a href="#realtime"><code>"realtime"</code></a></dt> <dd> <p>The encoder should optimize for low latency and may even drop frames to honor <code>framerate</code>.</p> </dd> </dl> </dd> </dl> </dd> </dl>  <h3 id="return_value" class="heading">Return value</h3> <p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p>  <h3 id="exceptions" class="heading">Exceptions</h3> <dl> <dt id="typeerror"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a></dt> <dd> <p>Thrown if the provided <code>config</code> is invalid.</p> </dd> <dt id="invalidstateerror">
<code>InvalidStateError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if the <a href="state"><code>state</code></a> is <code>"closed"</code>.</p> </dd> <dt id="notsupportederror">
<code>NotSupportedError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if the provided <code>config</code> is valid but the user agent cannot provide a codec that can decode this profile.</p> </dd> </dl>  <h2 id="examples" class="heading">Examples</h2> <p>The following example creates a new <a href="../videoencoder"><code>VideoEncoder</code></a> and configures it with some of the available options.</p> <div class="code-example"><pre data-language="js">const init = {
  output: handleChunk,
  error(e) {
    console.log(e.message);
  },
};

let config = {
  codec: "vp8",
  width: 640,
  height: 480,
  bitrate: 2_000_000, // 2 Mbps
  framerate: 30,
};

let encoder = new VideoEncoder(init);
encoder.configure(config);
</pre></div>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/webcodecs/#dom-videoencoder-configure" rel="noopener" target="_blank">WebCodecs&gt;<br># dom-videoencoder-configure&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody><tr>
<th><code>configure</code></th>
<td class="bc-supports-yes">94</td>
<td class="bc-supports-yes">94</td>
<td class="bc-supports-yes">130</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">16.4</td>
<td class="bc-supports-yes">94</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">66</td>
<td class="bc-supports-yes">16.4</td>
<td class="bc-supports-yes">17.0</td>
<td class="bc-supports-yes">94</td>
<td class="bc-supports-yes">16.4</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/VideoEncoder/configure" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/VideoEncoder/configure</a>
  </p>
</div>

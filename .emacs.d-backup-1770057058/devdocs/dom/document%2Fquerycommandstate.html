<h1>Document: queryCommandState() method</h1>    <div class="notecard deprecated"><p><strong>Deprecated:</strong> This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p></div> <div class="notecard nonstandard"><p><strong>Non-standard:</strong> This feature is not standardized. We do not recommend using non-standard features in production, as they have limited browser support, and may change or be removed. However, they can be a suitable alternative in specific cases where no standard option exists.</p></div> <div class="notecard note"> <p><strong>Note:</strong> Although the <a href="execcommand"><code>execCommand()</code></a> method is deprecated, there are still some valid use cases that do not yet have viable alternatives, as mentioned in the <code>execCommand()</code> article. In these cases, you may find this method useful to implement a complete user experience, but test to ensure cross-browser compatibility.</p> </div> <p>The <code>queryCommandState()</code> method will tell you if the current selection has a certain <a href="execcommand"><code>Document.execCommand()</code></a> command applied.</p>     <mdn-survey></mdn-survey>  <h2 id="syntax" class="heading">Syntax</h2> <div class="code-example"><pre data-language="js">queryCommandState(command)
</pre></div>  <h3 id="parameters" class="heading">Parameters</h3> <dl> <dt id="command"><a href="#command"><code>command</code></a></dt> <dd> <p>A command from <a href="execcommand"><code>Document.execCommand()</code></a></p> </dd> </dl>  <h3 id="return_value" class="heading">Return value</h3> <p><code>queryCommandState()</code> can return a boolean value or <code>null</code> if the state is unknown.</p>  <h2 id="example" class="heading">Example</h2> &gt;  <h3 id="html" class="heading">HTML</h3> <div class="code-example"><pre data-language="html">&lt;div contenteditable="true"&gt;Select a part of this text!&lt;/div&gt;
&lt;button&gt;Test the state of the 'bold' command&lt;/button&gt;
&lt;hr /&gt;
&lt;div id="output"&gt;&lt;/div&gt;
</pre></div>   <h3 id="javascript" class="heading">JavaScript</h3> <div class="code-example"><pre data-language="js">function makeBold() {
  const state = document.queryCommandState("bold");
  let message;
  switch (state) {
    case true:
      message = "The bold formatting will be removed from the selected text.";
      break;
    case false:
      message = "The selected text will be displayed in bold.";
      break;
    default:
      message = "The state of the 'bold' command is indeterminable.";
      break;
  }
  document.querySelector("#output").textContent = `Output: ${message}`;
  document.execCommand("bold");
}

document.querySelector("button").addEventListener("click", makeBold);
</pre></div>  <h3 id="result" class="heading">Result</h3> <div class="code-example"><iframe class="sample-code-frame" title="Example sample" id="frame_example" width="100" height="180" src="about:blank" data-live-path="/en-US/docs/Web/API/Document/queryCommandState/" data-live-id="example" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div>  <h2 id="specifications" class="heading">Specifications</h2> <p>This feature is not part of any current specification. It is no longer on track to become a standard. There is an unofficial <a href="https://w3c.github.io/editing/docs/execCommand/" target="_blank">W3C execCommand spec draft</a>.</p>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody><tr>
<th><code>queryCommandState</code></th>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">69<details><summary>1–69</summary>Only supported for <a href="https://developer.mozilla.org/docs/Web/API/HTMLDocument"><code>HTMLDocument</code></a>, not all <code>Document</code> objects.</details>
</td>
<td class="bc-supports-yes">≤12.1</td>
<td class="bc-supports-yes">2</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">79<details><summary>4–79</summary>Only supported for <a href="https://developer.mozilla.org/docs/Web/API/HTMLDocument"><code>HTMLDocument</code></a>, not all <code>Document</code> objects.</details>
</td>
<td class="bc-supports-yes">≤12.1</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">4.4</td>
<td class="bc-supports-yes">1</td>
</tr></tbody>
</table></div>  <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="../htmlelement/contenteditable"><code>HTMLElement.contentEditable</code></a></li> <li><a href="designmode"><code>document.designMode</code></a></li> <li><a href="execcommand"><code>document.execCommand()</code></a></li> <li>Browser bugs related to <code>queryCommandState()</code>: <a href="https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate" target="_blank">Scribe's "Browser Inconsistencies" documentation</a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/queryCommandState" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Document/queryCommandState</a>
  </p>
</div>

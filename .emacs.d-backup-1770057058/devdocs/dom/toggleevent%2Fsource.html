<h1>ToggleEvent: source property</h1>    <div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>source</code> read-only property of the <a href="../toggleevent"><code>ToggleEvent</code></a> interface is an <a href="../element"><code>Element</code></a> object instance representing the HTML popover control element that initiated the toggle.</p>     <mdn-survey></mdn-survey>  <h2 id="value" class="heading">Value</h2> <p>An <a href="../element"><code>Element</code></a> object instance, or <code>null</code> if the popover was not activated by a control element.</p>  <h2 id="description" class="heading">Description</h2> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/button"><code>&lt;button&gt;</code></a> element can be set as a popover control by specifying the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Global_attributes/id"><code>id</code></a> of the popover element in its <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/button#commandfor"><code>commandfor</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/button#popovertarget"><code>popovertarget</code></a> attribute (if the button is specified using <code>&lt;input type="button"&gt;</code>, only the <code>popovertarget</code> attribute works).</p> <p>When the <a href="../htmlelement/toggle_event"><code>toggle</code></a> event fires on the popover, the <code>ToggleEvent</code> event object's <code>source</code> property will then contain a reference to the popover control button that initiated the toggle. This is useful for running different code in response to the <code>toggle</code> event depending on which control initiated it (see an <a href="#basic_source_usage">example</a>).</p> <p>Before the <code>source</code> property was available, developers would have to reimplement the <code>command</code> attribute functionality from scratch to provide a similar identifier and then monitor it with JavaScript to know which button invoked the popover. In addition, there was a danger of such JavaScript tasks blocking the showing or hiding of the popover. The <code>toggle</code> event is asynchronous, and therefore avoids this problem.</p> <p>If the popover was not activated by a control button — for example, if the popover is being controlled using a JavaScript method such as <a href="../htmlelement/togglepopover"><code>HTMLElement.togglePopover()</code></a> — the <code>source</code> property returns <code>null</code>.</p>  <h2 id="examples" class="heading">Examples</h2> &gt;  <h3 id="basic_source_usage" class="heading">Basic <code>source</code> usage</h3> <p>This demo shows how to use the <code>source</code> property to perform a different action depending on which control button was used to close a popover.</p> <h4 id="html">HTML</h4> <p>Our markup contains a <code>&lt;button&gt;</code>, a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/p"><code>&lt;p&gt;</code></a>, and a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/div"><code>&lt;div&gt;</code></a> element. The <code>&lt;div&gt;</code> is designated as an <a href="../popover_api/using#auto_state_and_light_dismiss"><code>auto</code> popover</a>, and the button is designated as a control for showing the popover using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/button#commandfor"><code>commandfor</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/button#command"><code>command</code></a> attributes.</p> <p>The popover contains a heading asking the user if they would like a cookie, and two buttons allowing them to select an answer of "yes" or "no". Each one of these buttons is designated as a control for hiding the popover.</p> <div class="code-example"><pre data-language="html">&lt;button commandfor="popover" command="show-popover"&gt;
  Select cookie preference
&lt;/button&gt;
&lt;p id="output"&gt;&lt;/p&gt;
&lt;div id="popover" popover="auto"&gt;
  &lt;h3&gt;Would you like a cookie?&lt;/h3&gt;
  &lt;button id="yes" commandfor="popover" command="hide-popover"&gt;Yes&lt;/button&gt;
  &lt;button id="no" commandfor="popover" command="hide-popover"&gt;No&lt;/button&gt;
&lt;/div&gt;
</pre></div>  <h4 id="javascript">JavaScript</h4> <p>In our script, we start off by grabbing references to the "yes" and "no" buttons, the popover, and the output <code>&lt;p&gt;</code>.</p> <div class="code-example"><pre data-language="js">const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const popover = document.getElementById("popover");
const output = document.getElementById("output");
</pre></div> <p>We then add some feature detection to detect whether the HTML <code>command</code> attribute is supported, and whether the <code>source</code> property is supported. If either are not supported, we output an appropriate message to the output <code>&lt;p&gt;</code>. If both are supported, we add a <a href="../htmlelement/toggle_event"><code>toggle</code></a> event listener to the popover. When fired, it checks if the "yes" or the "no" button was used to toggle (hide) the popover; an appropriate message is printed to the output <code>&lt;p&gt;</code> in each case.</p> <div class="code-example"><pre data-language="js">if (yesBtn.command === undefined) {
  output.textContent = "Popover control command attribute not supported.";
} else {
  popover.addEventListener("toggle", (event) =&gt; {
    if (event.source === undefined) {
      output.textContent = "ToggleEvent.source not supported.";
    } else if (event.source === yesBtn) {
      output.textContent = "Cookie set!";
    } else if (event.source === noBtn) {
      output.textContent = "No cookie set.";
    }
  });
}
</pre></div> <h4 id="result">Result</h4> <div class="code-example"><iframe class="sample-code-frame" title="toggleevent-source sample" id="frame_toggleevent-source" width="100%" height="100" src="about:blank" data-live-path="/en-US/docs/Web/API/ToggleEvent/source/" data-live-id="toggleevent-source" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div>  <h2 id="specifications" class="heading">Specifications</h2> <div class="_table"><table> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://html.spec.whatwg.org/multipage/interaction.html#dom-toggleevent-source" rel="noopener" target="_blank">HTML&gt;<br># dom-toggleevent-source&gt;</a></td> </tr> </tbody> </table></div>  <h2 id="browser_compatibility" class="heading">Browser compatibility</h2> <div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="7">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>WebView on iOS</th>
</tr>
</thead>
<tbody><tr>
<th><code>source</code></th>
<td class="bc-supports-yes">140</td>
<td class="bc-supports-yes">140</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">124</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">140</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">140</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div>  <h2 id="see_also" class="heading">See also</h2> <ul> <li><a href="../popover_api">Popover API</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/source" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/source</a>
  </p>
</div>

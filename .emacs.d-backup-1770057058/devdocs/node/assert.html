<h2 id="assert">Assert
</h2> 
<div class="api_stability api_stability_2">
<a href="https://nodejs.org/api/documentation.html#stability-index">Stability: 2</a> - Stable</div>
 <p><strong>Source Code:</strong> <a href="https://github.com/nodejs/node/blob/v25.0.0/lib/assert.js">lib/assert.js</a></p> <p>The <code>node:assert</code> module provides a set of assertion functions for verifying invariants.</p> <section><h3 id="strict-assertion-mode">Strict assertion mode
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v15.0.0</td> <td><p>Exposed as <code>require('node:assert/strict')</code>.</p></td>
</tr> <tr>
<td>v13.9.0, v12.16.2</td> <td><p>Changed "strict mode" to "strict assertion mode" and "legacy mode" to "legacy assertion mode" to avoid confusion with the more usual meaning of "strict mode".</p></td>
</tr> <tr>
<td>v9.9.0</td> <td><p>Added error diffs to the strict assertion mode.</p></td>
</tr> <tr>
<td>v9.9.0</td> <td><p>Added strict assertion mode to the assert module.</p></td>
</tr> <tr>
<td>v9.9.0</td> <td><p><span>Added in: v9.9.0</span></p></td>
</tr> </tbody>
</table> </details> </div> <p>In strict assertion mode, non-strict methods behave like their corresponding strict methods. For example, <a href="#assertdeepequalactual-expected-message"><code>assert.deepEqual()</code></a> will behave like <a href="#assertdeepstrictequalactual-expected-message"><code>assert.deepStrictEqual()</code></a>.</p> <p>In strict assertion mode, error messages for objects display a diff. In legacy assertion mode, error messages for objects display the objects, often truncated.</p> <p>To use strict assertion mode:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import { strict as assert } from 'node:assert';</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert').strict;</pre></details> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');</pre></details> <p>Example error diff:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import { strict as assert } from 'node:assert';

assert.deepEqual([[[1, 2, 3]], 4, 5], [[[1, 2, '3']], 4, 5]);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected ... Lines skipped
//
//   [
//     [
// ...
//       2,
// +     3
// -     '3'
//     ],
// ...
//     5
//   ]</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.deepEqual([[[1, 2, 3]], 4, 5], [[[1, 2, '3']], 4, 5]);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected ... Lines skipped
//
//   [
//     [
// ...
//       2,
// +     3
// -     '3'
//     ],
// ...
//     5
//   ]</pre></details> <p>To deactivate the colors, use the <code>NO_COLOR</code> or <code>NODE_DISABLE_COLORS</code> environment variables. This will also deactivate the colors in the REPL. For more on color support in terminal environments, read the tty <a href="tty#writestreamgetcolordepthenv"><code>getColorDepth()</code></a> documentation.</p> </section><section><h3 id="legacy-assertion-mode">Legacy assertion mode
</h3> <p>Legacy assertion mode uses the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality"><code>==</code> operator</a> in:</p> <ul> <li><a href="#assertdeepequalactual-expected-message"><code>assert.deepEqual()</code></a></li> <li><a href="#assertequalactual-expected-message"><code>assert.equal()</code></a></li> <li><a href="#assertnotdeepequalactual-expected-message"><code>assert.notDeepEqual()</code></a></li> <li><a href="#assertnotequalactual-expected-message"><code>assert.notEqual()</code></a></li> </ul> <p>To use legacy assertion mode:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');</pre></details> <p>Legacy assertion mode may have surprising results, especially when using <a href="#assertdeepequalactual-expected-message"><code>assert.deepEqual()</code></a>:</p> <pre data-language="js">// WARNING: This does not throw an AssertionError in legacy assertion mode!
assert.deepEqual(/a/gi, new Date()); copy</pre> </section><section><h3 id="class-assertassertionerror">Class: <code>assert.AssertionError</code>
</h3> <ul> <li>Extends: <a href="errors#class-error" class="type">&lt;errors.Error&gt;</a>
</li> </ul> <p>Indicates the failure of an assertion. All errors thrown by the <code>node:assert</code> module will be instances of the <code>AssertionError</code> class.</p> <div> <h4 id="new-assertassertionerroroptions">
<code>new assert.AssertionError(options)</code>
</h4> <div class="api_metadata"> <span>Added in: v0.1.21</span> </div> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> <ul> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> If provided, the error message is set to this value.</li> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a> The <code>actual</code> property on the error instance.</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a> The <code>expected</code> property on the error instance.</li> <li>
<code>operator</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> The <code>operator</code> property on the error instance.</li> <li>
<code>stackStartFn</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> If provided, the generated stack trace omits frames before this function.</li> <li>
<code>diff</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> If set to <code>'full'</code>, shows the full diff in assertion errors. Defaults to <code>'simple'</code>. Accepted values: <code>'simple'</code>, <code>'full'</code>.</li> </ul> </li> </ul> <p>A subclass of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> that indicates the failure of an assertion.</p> <p>All instances contain the built-in <code>Error</code> properties (<code>message</code> and <code>name</code>) and:</p> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a> Set to the <code>actual</code> argument for methods such as <a href="#assertstrictequalactual-expected-message"><code>assert.strictEqual()</code></a>.</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a> Set to the <code>expected</code> value for methods such as <a href="#assertstrictequalactual-expected-message"><code>assert.strictEqual()</code></a>.</li> <li>
<code>generatedMessage</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Indicates if the message was auto-generated (<code>true</code>) or not.</li> <li>
<code>code</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> Value is always <code>ERR_ASSERTION</code> to show that the error is an assertion error.</li> <li>
<code>operator</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> Set to the passed in operator value.</li> </ul> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';

// Generate an AssertionError to compare the error message later:
const { message } = new assert.AssertionError({
  actual: 1,
  expected: 2,
  operator: 'strictEqual',
});

// Verify error output:
try {
  assert.strictEqual(1, 2);
} catch (err) {
  assert(err instanceof assert.AssertionError);
  assert.strictEqual(err.message, message);
  assert.strictEqual(err.name, 'AssertionError');
  assert.strictEqual(err.actual, 1);
  assert.strictEqual(err.expected, 2);
  assert.strictEqual(err.code, 'ERR_ASSERTION');
  assert.strictEqual(err.operator, 'strictEqual');
  assert.strictEqual(err.generatedMessage, true);
}</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

// Generate an AssertionError to compare the error message later:
const { message } = new assert.AssertionError({
  actual: 1,
  expected: 2,
  operator: 'strictEqual',
});

// Verify error output:
try {
  assert.strictEqual(1, 2);
} catch (err) {
  assert(err instanceof assert.AssertionError);
  assert.strictEqual(err.message, message);
  assert.strictEqual(err.name, 'AssertionError');
  assert.strictEqual(err.actual, 1);
  assert.strictEqual(err.expected, 2);
  assert.strictEqual(err.code, 'ERR_ASSERTION');
  assert.strictEqual(err.operator, 'strictEqual');
  assert.strictEqual(err.generatedMessage, true);
}</pre></details> </div> </section><section><h3 id="class-assertassert">Class: <code>assert.Assert</code>
</h3> <div class="api_metadata"> <span>Added in: v24.6.0, v22.19.0</span> </div> <p>The <code>Assert</code> class allows creating independent assertion instances with custom options.</p> <div> <h4 id="new-assertassertoptions">
<code>new assert.Assert([options])</code>
</h4> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v24.9.0</td> <td><p>Added <code>skipPrototype</code> option.</p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> <ul> <li>
<code>diff</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> If set to <code>'full'</code>, shows the full diff in assertion errors. Defaults to <code>'simple'</code>. Accepted values: <code>'simple'</code>, <code>'full'</code>.</li> <li>
<code>strict</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> If set to <code>true</code>, non-strict methods behave like their corresponding strict methods. Defaults to <code>true</code>.</li> <li>
<code>skipPrototype</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> If set to <code>true</code>, skips prototype and constructor comparison in deep equality checks. Defaults to <code>false</code>.</li> </ul> </li> </ul> <p>Creates a new assertion instance. The <code>diff</code> option controls the verbosity of diffs in assertion error messages.</p> <pre data-language="js">const { Assert } = require('node:assert');
const assertInstance = new Assert({ diff: 'full' });
assertInstance.deepStrictEqual({ a: 1 }, { a: 2 });
// Shows a full diff in the error message. copy</pre> <p><strong>Important</strong>: When destructuring assertion methods from an <code>Assert</code> instance, the methods lose their connection to the instance's configuration options (such as <code>diff</code>, <code>strict</code>, and <code>skipPrototype</code> settings). The destructured methods will fall back to default behavior instead.</p> <pre data-language="js">const myAssert = new Assert({ diff: 'full' });

// This works as expected - uses 'full' diff
myAssert.strictEqual({ a: 1 }, { b: { c: 1 } });

// This loses the 'full' diff setting - falls back to default 'simple' diff
const { strictEqual } = myAssert;
strictEqual({ a: 1 }, { b: { c: 1 } }); copy</pre> <p>The <code>skipPrototype</code> option affects all deep equality methods:</p> <pre data-language="js">class Foo {
  constructor(a) {
    this.a = a;
  }
}

class Bar {
  constructor(a) {
    this.a = a;
  }
}

const foo = new Foo(1);
const bar = new Bar(1);

// Default behavior - fails due to different constructors
const assert1 = new Assert();
assert1.deepStrictEqual(foo, bar); // AssertionError

// Skip prototype comparison - passes if properties are equal
const assert2 = new Assert({ skipPrototype: true });
assert2.deepStrictEqual(foo, bar); // OK copy</pre> <p>When destructured, methods lose access to the instance's <code>this</code> context and revert to default assertion behavior (diff: 'simple', non-strict mode). To maintain custom options when using destructured methods, avoid destructuring and call methods directly on the instance.</p> </div> </section><section><h3 id="assertvalue-message">
<code>assert(value[, message])</code>
</h3> <div class="api_metadata"> <span>Added in: v0.5.9</span> </div> <ul> <li>
<code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a> The input that is checked for being truthy.</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>An alias of <a href="#assertokvalue-message"><code>assert.ok()</code></a>.</p> </section><section><h3 id="assertdeepequalactual-expected-message">
<code>assert.deepEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v25.0.0</td> <td><p>Promises are not considered equal anymore if they are not of the same instance.</p></td>
</tr> <tr>
<td>v25.0.0</td> <td><p>Invalid dates are now considered equal.</p></td>
</tr> <tr>
<td>v24.0.0</td> <td><p>Recursion now stops when either side encounters a circular reference.</p></td>
</tr> <tr>
<td>v22.2.0, v20.15.0</td> <td><p>Error cause and errors properties are now compared as well.</p></td>
</tr> <tr>
<td>v18.0.0</td> <td><p>Regular expressions lastIndex property is now compared as well.</p></td>
</tr> <tr>
<td>v16.0.0, v14.18.0</td> <td><p>In Legacy assertion mode, changed status from Deprecated to Legacy.</p></td>
</tr> <tr>
<td>v14.0.0</td> <td><p>NaN is now treated as being identical if both sides are NaN.</p></td>
</tr> <tr>
<td>v12.0.0</td> <td><p>The type tags are now properly compared and there are a couple minor comparison adjustments to make the check less surprising.</p></td>
</tr> <tr>
<td>v9.0.0</td> <td><p>The <code>Error</code> names and messages are now properly compared.</p></td>
</tr> <tr>
<td>v8.0.0</td> <td><p>The <code>Set</code> and <code>Map</code> content is also compared.</p></td>
</tr> <tr>
<td>v6.4.0, v4.7.1</td> <td><p>Typed array slices are handled correctly now.</p></td>
</tr> <tr>
<td>v6.1.0, v4.5.0</td> <td><p>Objects with circular references can be used as inputs now.</p></td>
</tr> <tr>
<td>v5.10.1, v4.4.3</td> <td><p>Handle non-<code>Uint8Array</code> typed arrays correctly.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p><strong>Strict assertion mode</strong></p> <p>An alias of <a href="#assertdeepstrictequalactual-expected-message"><code>assert.deepStrictEqual()</code></a>.</p> <p><strong>Legacy assertion mode</strong></p> 
<div class="api_stability api_stability_3">
<a href="https://nodejs.org/api/documentation.html#stability-index">Stability: 3</a> - Legacy: Use <a href="#assertdeepstrictequalactual-expected-message"><code>assert.deepStrictEqual()</code></a> instead.</div>
 <p>Tests for deep equality between the <code>actual</code> and <code>expected</code> parameters. Consider using <a href="#assertdeepstrictequalactual-expected-message"><code>assert.deepStrictEqual()</code></a> instead. <a href="#assertdeepequalactual-expected-message"><code>assert.deepEqual()</code></a> can have surprising results.</p> <p><em>Deep equality</em> means that the enumerable "own" properties of child objects are also recursively evaluated by the following rules.</p> <div> <h4 id="comparison-details">Comparison details
</h4> <ul> <li>Primitive values are compared with the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality"><code>==</code> operator</a>, with the exception of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" class="type">&lt;NaN&gt;</a>. It is treated as being identical in case both sides are <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" class="type">&lt;NaN&gt;</a>.</li> <li>
<a href="https://tc39.github.io/ecma262/#sec-object.prototype.tostring">Type tags</a> of objects should be the same.</li> <li>Only <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">enumerable "own" properties</a> are considered.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> names, messages, causes, and errors are always compared, even if these are not enumerable properties.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive#Primitive_wrapper_objects_in_JavaScript">Object wrappers</a> are compared both as objects and unwrapped values.</li> <li>
<code>Object</code> properties are compared unordered.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" class="type">&lt;Map&gt;</a> keys and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" class="type">&lt;Set&gt;</a> items are compared unordered.</li> <li>Recursion stops when both sides differ or either side encounters a circular reference.</li> <li>Implementation does not test the <a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots"><code>[[Prototype]]</code></a> of objects.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" class="type">&lt;Symbol&gt;</a> properties are not compared.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap" class="type">&lt;WeakMap&gt;</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet" class="type">&lt;WeakSet&gt;</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a> instances are <strong>not</strong> compared structurally. They are only equal if they reference the same object. Any comparison between different <code>WeakMap</code>, <code>WeakSet</code>, or <code>Promise</code> instances will result in inequality, even if they contain the same content.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> lastIndex, flags, and source are always compared, even if these are not enumerable properties.</li> </ul> <p>The following example does not throw an <a href="#class-assertassertionerror"><code>AssertionError</code></a> because the primitives are compared using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality"><code>==</code> operator</a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';
// WARNING: This does not throw an AssertionError!

assert.deepEqual('+00000000', false);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');
// WARNING: This does not throw an AssertionError!

assert.deepEqual('+00000000', false);</pre></details> <p>"Deep" equality means that the enumerable "own" properties of child objects are evaluated also:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';

const obj1 = {
  a: {
    b: 1,
  },
};
const obj2 = {
  a: {
    b: 2,
  },
};
const obj3 = {
  a: {
    b: 1,
  },
};
const obj4 = { __proto__: obj1 };

assert.deepEqual(obj1, obj1);
// OK

// Values of b are different:
assert.deepEqual(obj1, obj2);
// AssertionError: { a: { b: 1 } } deepEqual { a: { b: 2 } }

assert.deepEqual(obj1, obj3);
// OK

// Prototypes are ignored:
assert.deepEqual(obj1, obj4);
// AssertionError: { a: { b: 1 } } deepEqual {}</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

const obj1 = {
  a: {
    b: 1,
  },
};
const obj2 = {
  a: {
    b: 2,
  },
};
const obj3 = {
  a: {
    b: 1,
  },
};
const obj4 = { __proto__: obj1 };

assert.deepEqual(obj1, obj1);
// OK

// Values of b are different:
assert.deepEqual(obj1, obj2);
// AssertionError: { a: { b: 1 } } deepEqual { a: { b: 2 } }

assert.deepEqual(obj1, obj3);
// OK

// Prototypes are ignored:
assert.deepEqual(obj1, obj4);
// AssertionError: { a: { b: 1 } } deepEqual {}</pre></details> <p>If the values are not equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> </div> </section><section><h3 id="assertdeepstrictequalactual-expected-message">
<code>assert.deepStrictEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v25.0.0</td> <td><p>Promises are not considered equal anymore if they are not of the same instance.</p></td>
</tr> <tr>
<td>v25.0.0</td> <td><p>Invalid dates are now considered equal.</p></td>
</tr> <tr>
<td>v24.0.0</td> <td><p>Recursion now stops when either side encounters a circular reference.</p></td>
</tr> <tr>
<td>v22.2.0, v20.15.0</td> <td><p>Error cause and errors properties are now compared as well.</p></td>
</tr> <tr>
<td>v18.0.0</td> <td><p>Regular expressions lastIndex property is now compared as well.</p></td>
</tr> <tr>
<td>v9.0.0</td> <td><p>Enumerable symbol properties are now compared.</p></td>
</tr> <tr>
<td>v9.0.0</td> <td><p>The <code>NaN</code> is now compared using the <a href="https://tc39.github.io/ecma262/#sec-samevaluezero">SameValueZero</a> comparison.</p></td>
</tr> <tr>
<td>v8.5.0</td> <td><p>The <code>Error</code> names and messages are now properly compared.</p></td>
</tr> <tr>
<td>v8.0.0</td> <td><p>The <code>Set</code> and <code>Map</code> content is also compared.</p></td>
</tr> <tr>
<td>v6.1.0</td> <td><p>Objects with circular references can be used as inputs now.</p></td>
</tr> <tr>
<td>v6.4.0, v4.7.1</td> <td><p>Typed array slices are handled correctly now.</p></td>
</tr> <tr>
<td>v5.10.1, v4.4.3</td> <td><p>Handle non-<code>Uint8Array</code> typed arrays correctly.</p></td>
</tr> <tr>
<td>v1.2.0</td> <td><p><span>Added in: v1.2.0</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Tests for deep equality between the <code>actual</code> and <code>expected</code> parameters. "Deep" equality means that the enumerable "own" properties of child objects are recursively evaluated also by the following rules.</p> <div> <h4 id="comparison-details_1">Comparison details
</h4> <ul> <li>Primitive values are compared using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a>.</li> <li>
<a href="https://tc39.github.io/ecma262/#sec-object.prototype.tostring">Type tags</a> of objects should be the same.</li> <li>
<a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots"><code>[[Prototype]]</code></a> of objects are compared using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality"><code>===</code> operator</a>.</li> <li>Only <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">enumerable "own" properties</a> are considered.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> names, messages, causes, and errors are always compared, even if these are not enumerable properties. <code>errors</code> is also compared.</li> <li>Enumerable own <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" class="type">&lt;Symbol&gt;</a> properties are compared as well.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive#Primitive_wrapper_objects_in_JavaScript">Object wrappers</a> are compared both as objects and unwrapped values.</li> <li>
<code>Object</code> properties are compared unordered.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" class="type">&lt;Map&gt;</a> keys and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" class="type">&lt;Set&gt;</a> items are compared unordered.</li> <li>Recursion stops when both sides differ or either side encounters a circular reference.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap" class="type">&lt;WeakMap&gt;</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet" class="type">&lt;WeakSet&gt;</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a> instances are <strong>not</strong> compared structurally. They are only equal if they reference the same object. Any comparison between different <code>WeakMap</code>, <code>WeakSet</code>, or <code>Promise</code> instances will result in inequality, even if they contain the same content.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> lastIndex, flags, and source are always compared, even if these are not enumerable properties.</li> </ul> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

// This fails because 1 !== '1'.
assert.deepStrictEqual({ a: 1 }, { a: '1' });
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
//   {
// +   a: 1
// -   a: '1'
//   }

// The following objects don't have own properties
const date = new Date();
const object = {};
const fakeDate = {};
Object.setPrototypeOf(fakeDate, Date.prototype);

// Different [[Prototype]]:
assert.deepStrictEqual(object, fakeDate);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + {}
// - Date {}

// Different type tags:
assert.deepStrictEqual(date, fakeDate);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + 2018-04-26T00:49:08.604Z
// - Date {}

assert.deepStrictEqual(NaN, NaN);
// OK because Object.is(NaN, NaN) is true.

// Different unwrapped numbers:
assert.deepStrictEqual(new Number(1), new Number(2));
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + [Number: 1]
// - [Number: 2]

assert.deepStrictEqual(new String('foo'), Object('foo'));
// OK because the object and the string are identical when unwrapped.

assert.deepStrictEqual(-0, -0);
// OK

// Different zeros:
assert.deepStrictEqual(0, -0);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + 0
// - -0

const symbol1 = Symbol();
const symbol2 = Symbol();
assert.deepStrictEqual({ [symbol1]: 1 }, { [symbol1]: 1 });
// OK, because it is the same symbol on both objects.

assert.deepStrictEqual({ [symbol1]: 1 }, { [symbol2]: 1 });
// AssertionError [ERR_ASSERTION]: Inputs identical but not reference equal:
//
// {
//   Symbol(): 1
// }

const weakMap1 = new WeakMap();
const weakMap2 = new WeakMap();
const obj = {};

weakMap1.set(obj, 'value');
weakMap2.set(obj, 'value');

// Comparing different instances fails, even with same contents
assert.deepStrictEqual(weakMap1, weakMap2);
// AssertionError: Values have same structure but are not reference-equal:
//
// WeakMap {
//   &lt;items unknown&gt;
// }

// Comparing the same instance to itself succeeds
assert.deepStrictEqual(weakMap1, weakMap1);
// OK

const weakSet1 = new WeakSet();
const weakSet2 = new WeakSet();
weakSet1.add(obj);
weakSet2.add(obj);

// Comparing different instances fails, even with same contents
assert.deepStrictEqual(weakSet1, weakSet2);
// AssertionError: Values have same structure but are not reference-equal:
// + actual - expected
//
// WeakSet {
//   &lt;items unknown&gt;
// }

// Comparing the same instance to itself succeeds
assert.deepStrictEqual(weakSet1, weakSet1);
// OK</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

// This fails because 1 !== '1'.
assert.deepStrictEqual({ a: 1 }, { a: '1' });
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
//   {
// +   a: 1
// -   a: '1'
//   }

// The following objects don't have own properties
const date = new Date();
const object = {};
const fakeDate = {};
Object.setPrototypeOf(fakeDate, Date.prototype);

// Different [[Prototype]]:
assert.deepStrictEqual(object, fakeDate);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + {}
// - Date {}

// Different type tags:
assert.deepStrictEqual(date, fakeDate);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + 2018-04-26T00:49:08.604Z
// - Date {}

assert.deepStrictEqual(NaN, NaN);
// OK because Object.is(NaN, NaN) is true.

// Different unwrapped numbers:
assert.deepStrictEqual(new Number(1), new Number(2));
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + [Number: 1]
// - [Number: 2]

assert.deepStrictEqual(new String('foo'), Object('foo'));
// OK because the object and the string are identical when unwrapped.

assert.deepStrictEqual(-0, -0);
// OK

// Different zeros:
assert.deepStrictEqual(0, -0);
// AssertionError: Expected inputs to be strictly deep-equal:
// + actual - expected
//
// + 0
// - -0

const symbol1 = Symbol();
const symbol2 = Symbol();
assert.deepStrictEqual({ [symbol1]: 1 }, { [symbol1]: 1 });
// OK, because it is the same symbol on both objects.

assert.deepStrictEqual({ [symbol1]: 1 }, { [symbol2]: 1 });
// AssertionError [ERR_ASSERTION]: Inputs identical but not reference equal:
//
// {
//   Symbol(): 1
// }

const weakMap1 = new WeakMap();
const weakMap2 = new WeakMap();
const obj = {};

weakMap1.set(obj, 'value');
weakMap2.set(obj, 'value');

// Comparing different instances fails, even with same contents
assert.deepStrictEqual(weakMap1, weakMap2);
// AssertionError: Values have same structure but are not reference-equal:
//
// WeakMap {
//   &lt;items unknown&gt;
// }

// Comparing the same instance to itself succeeds
assert.deepStrictEqual(weakMap1, weakMap1);
// OK

const weakSet1 = new WeakSet();
const weakSet2 = new WeakSet();
weakSet1.add(obj);
weakSet2.add(obj);

// Comparing different instances fails, even with same contents
assert.deepStrictEqual(weakSet1, weakSet2);
// AssertionError: Values have same structure but are not reference-equal:
// + actual - expected
//
// WeakSet {
//   &lt;items unknown&gt;
// }

// Comparing the same instance to itself succeeds
assert.deepStrictEqual(weakSet1, weakSet1);
// OK</pre></details> <p>If the values are not equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <code>AssertionError</code>.</p> </div> </section><section><h3 id="assertdoesnotmatchstring-regexp-message">
<code>assert.doesNotMatch(string, regexp[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v16.0.0</td> <td><p>This API is no longer experimental.</p></td>
</tr> <tr>
<td>v13.6.0, v12.16.0</td> <td><p><span>Added in: v13.6.0, v12.16.0</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a>
</li> <li>
<code>regexp</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Expects the <code>string</code> input not to match the regular expression.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.doesNotMatch('I will fail', /fail/);
// AssertionError [ERR_ASSERTION]: The input was expected to not match the ...

assert.doesNotMatch(123, /pass/);
// AssertionError [ERR_ASSERTION]: The "string" argument must be of type string.

assert.doesNotMatch('I will pass', /different/);
// OK</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.doesNotMatch('I will fail', /fail/);
// AssertionError [ERR_ASSERTION]: The input was expected to not match the ...

assert.doesNotMatch(123, /pass/);
// AssertionError [ERR_ASSERTION]: The "string" argument must be of type string.

assert.doesNotMatch('I will pass', /different/);
// OK</pre></details> <p>If the values do match, or if the <code>string</code> argument is of another type than <code>string</code>, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> </section><section><h3 id="assertdoesnotrejectasyncfn-error-message">
<code>assert.doesNotReject(asyncFn[, error][, message])</code>
</h3> <div class="api_metadata"> <span>Added in: v10.0.0</span> </div> <ul> <li>
<code>asyncFn</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a>
</li> <li>
<code>error</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a>
</li> <li>Returns: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a>
</li> </ul> <p>Awaits the <code>asyncFn</code> promise or, if <code>asyncFn</code> is a function, immediately calls the function and awaits the returned promise to complete. It will then check that the promise is not rejected.</p> <p>If <code>asyncFn</code> is a function and it throws an error synchronously, <code>assert.doesNotReject()</code> will return a rejected <code>Promise</code> with that error. If the function does not return a promise, <code>assert.doesNotReject()</code> will return a rejected <code>Promise</code> with an <a href="errors#err_invalid_return_value"><code>ERR_INVALID_RETURN_VALUE</code></a> error. In both cases the error handler is skipped.</p> <p>Using <code>assert.doesNotReject()</code> is actually not useful because there is little benefit in catching a rejection and then rejecting it again. Instead, consider adding a comment next to the specific code path that should not reject and keep error messages as expressive as possible.</p> <p>If specified, <code>error</code> can be a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"><code>Class</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> or a validation function. See <a href="#assertthrowsfn-error-message"><code>assert.throws()</code></a> for more details.</p> <p>Besides the async nature to await the completion behaves identically to <a href="#assertdoesnotthrowfn-error-message"><code>assert.doesNotThrow()</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

await assert.doesNotReject(
  async () =&gt; {
    throw new TypeError('Wrong value');
  },
  SyntaxError,
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

(async () =&gt; {
  await assert.doesNotReject(
    async () =&gt; {
      throw new TypeError('Wrong value');
    },
    SyntaxError,
  );
})();</pre></details> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.doesNotReject(Promise.reject(new TypeError('Wrong value')))
  .then(() =&gt; {
    // ...
  });</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.doesNotReject(Promise.reject(new TypeError('Wrong value')))
  .then(() =&gt; {
    // ...
  });</pre></details> </section><section><h3 id="assertdoesnotthrowfn-error-message">
<code>assert.doesNotThrow(fn[, error][, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v5.11.0, v4.4.5</td> <td><p>The <code>message</code> parameter is respected now.</p></td>
</tr> <tr>
<td>v4.2.0</td> <td><p>The <code>error</code> parameter can now be an arrow function.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>fn</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a>
</li> <li>
<code>error</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a>
</li> </ul> <p>Asserts that the function <code>fn</code> does not throw an error.</p> <p>Using <code>assert.doesNotThrow()</code> is actually not useful because there is no benefit in catching an error and then rethrowing it. Instead, consider adding a comment next to the specific code path that should not throw and keep error messages as expressive as possible.</p> <p>When <code>assert.doesNotThrow()</code> is called, it will immediately call the <code>fn</code> function.</p> <p>If an error is thrown and it is the same type as that specified by the <code>error</code> parameter, then an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown. If the error is of a different type, or if the <code>error</code> parameter is undefined, the error is propagated back to the caller.</p> <p>If specified, <code>error</code> can be a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"><code>Class</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a>, or a validation function. See <a href="#assertthrowsfn-error-message"><code>assert.throws()</code></a> for more details.</p> <p>The following, for instance, will throw the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError" class="type">&lt;TypeError&gt;</a> because there is no matching error type in the assertion:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.doesNotThrow(
  () =&gt; {
    throw new TypeError('Wrong value');
  },
  SyntaxError,
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.doesNotThrow(
  () =&gt; {
    throw new TypeError('Wrong value');
  },
  SyntaxError,
);</pre></details> <p>However, the following will result in an <a href="#class-assertassertionerror"><code>AssertionError</code></a> with the message 'Got unwanted exception...':</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.doesNotThrow(
  () =&gt; {
    throw new TypeError('Wrong value');
  },
  TypeError,
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.doesNotThrow(
  () =&gt; {
    throw new TypeError('Wrong value');
  },
  TypeError,
);</pre></details> <p>If an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown and a value is provided for the <code>message</code> parameter, the value of <code>message</code> will be appended to the <a href="#class-assertassertionerror"><code>AssertionError</code></a> message:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.doesNotThrow(
  () =&gt; {
    throw new TypeError('Wrong value');
  },
  /Wrong value/,
  'Whoops',
);
// Throws: AssertionError: Got unwanted exception: Whoops</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.doesNotThrow(
  () =&gt; {
    throw new TypeError('Wrong value');
  },
  /Wrong value/,
  'Whoops',
);
// Throws: AssertionError: Got unwanted exception: Whoops</pre></details> </section><section><h3 id="assertequalactual-expected-message">
<code>assert.equal(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v16.0.0, v14.18.0</td> <td><p>In Legacy assertion mode, changed status from Deprecated to Legacy.</p></td>
</tr> <tr>
<td>v14.0.0</td> <td><p>NaN is now treated as being identical if both sides are NaN.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p><strong>Strict assertion mode</strong></p> <p>An alias of <a href="#assertstrictequalactual-expected-message"><code>assert.strictEqual()</code></a>.</p> <p><strong>Legacy assertion mode</strong></p> 
<div class="api_stability api_stability_3">
<a href="https://nodejs.org/api/documentation.html#stability-index">Stability: 3</a> - Legacy: Use <a href="#assertstrictequalactual-expected-message"><code>assert.strictEqual()</code></a> instead.</div>
 <p>Tests shallow, coercive equality between the <code>actual</code> and <code>expected</code> parameters using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality"><code>==</code> operator</a>. <code>NaN</code> is specially handled and treated as being identical if both sides are <code>NaN</code>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';

assert.equal(1, 1);
// OK, 1 == 1
assert.equal(1, '1');
// OK, 1 == '1'
assert.equal(NaN, NaN);
// OK

assert.equal(1, 2);
// AssertionError: 1 == 2
assert.equal({ a: { b: 1 } }, { a: { b: 1 } });
// AssertionError: { a: { b: 1 } } == { a: { b: 1 } }</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

assert.equal(1, 1);
// OK, 1 == 1
assert.equal(1, '1');
// OK, 1 == '1'
assert.equal(NaN, NaN);
// OK

assert.equal(1, 2);
// AssertionError: 1 == 2
assert.equal({ a: { b: 1 } }, { a: { b: 1 } });
// AssertionError: { a: { b: 1 } } == { a: { b: 1 } }</pre></details> <p>If the values are not equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <code>AssertionError</code>.</p> </section><section><h3 id="assertfailmessage">
<code>assert.fail([message])</code>
</h3> <div class="api_metadata"> <span>Added in: v0.1.21</span> </div> <ul> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> <strong>Default:</strong> <code>'Failed'</code>
</li> </ul> <p>Throws an <a href="#class-assertassertionerror"><code>AssertionError</code></a> with the provided error message or a default error message. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.fail();
// AssertionError [ERR_ASSERTION]: Failed

assert.fail('boom');
// AssertionError [ERR_ASSERTION]: boom

assert.fail(new TypeError('need array'));
// TypeError: need array</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.fail();
// AssertionError [ERR_ASSERTION]: Failed

assert.fail('boom');
// AssertionError [ERR_ASSERTION]: boom

assert.fail(new TypeError('need array'));
// TypeError: need array</pre></details> </section><section><h3 id="assertiferrorvalue">
<code>assert.ifError(value)</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v10.0.0</td> <td><p>Instead of throwing the original error it is now wrapped into an [<code>AssertionError</code>][] that contains the full stack trace.</p></td>
</tr> <tr>
<td>v10.0.0</td> <td><p>Value may now only be <code>undefined</code> or <code>null</code>. Before all falsy values were handled the same as <code>null</code> and did not throw.</p></td>
</tr> <tr>
<td>v0.1.97</td> <td><p><span>Added in: v0.1.97</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> </ul> <p>Throws <code>value</code> if <code>value</code> is not <code>undefined</code> or <code>null</code>. This is useful when testing the <code>error</code> argument in callbacks. The stack trace contains all frames from the error passed to <code>ifError()</code> including the potential new frames for <code>ifError()</code> itself.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.ifError(null);
// OK
assert.ifError(0);
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: 0
assert.ifError('error');
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: 'error'
assert.ifError(new Error());
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: Error

// Create some random error frames.
let err;
(function errorFrame() {
  err = new Error('test error');
})();

(function ifErrorFrame() {
  assert.ifError(err);
})();
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: test error
//     at ifErrorFrame
//     at errorFrame</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.ifError(null);
// OK
assert.ifError(0);
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: 0
assert.ifError('error');
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: 'error'
assert.ifError(new Error());
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: Error

// Create some random error frames.
let err;
(function errorFrame() {
  err = new Error('test error');
})();

(function ifErrorFrame() {
  assert.ifError(err);
})();
// AssertionError [ERR_ASSERTION]: ifError got unwanted exception: test error
//     at ifErrorFrame
//     at errorFrame</pre></details> </section><section><h3 id="assertmatchstring-regexp-message">
<code>assert.match(string, regexp[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v16.0.0</td> <td><p>This API is no longer experimental.</p></td>
</tr> <tr>
<td>v13.6.0, v12.16.0</td> <td><p><span>Added in: v13.6.0, v12.16.0</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a>
</li> <li>
<code>regexp</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Expects the <code>string</code> input to match the regular expression.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.match('I will fail', /pass/);
// AssertionError [ERR_ASSERTION]: The input did not match the regular ...

assert.match(123, /pass/);
// AssertionError [ERR_ASSERTION]: The "string" argument must be of type string.

assert.match('I will pass', /pass/);
// OK</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.match('I will fail', /pass/);
// AssertionError [ERR_ASSERTION]: The input did not match the regular ...

assert.match(123, /pass/);
// AssertionError [ERR_ASSERTION]: The "string" argument must be of type string.

assert.match('I will pass', /pass/);
// OK</pre></details> <p>If the values do not match, or if the <code>string</code> argument is of another type than <code>string</code>, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> </section><section><h3 id="assertnotdeepequalactual-expected-message">
<code>assert.notDeepEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v16.0.0, v14.18.0</td> <td><p>In Legacy assertion mode, changed status from Deprecated to Legacy.</p></td>
</tr> <tr>
<td>v14.0.0</td> <td><p>NaN is now treated as being identical if both sides are NaN.</p></td>
</tr> <tr>
<td>v9.0.0</td> <td><p>The <code>Error</code> names and messages are now properly compared.</p></td>
</tr> <tr>
<td>v8.0.0</td> <td><p>The <code>Set</code> and <code>Map</code> content is also compared.</p></td>
</tr> <tr>
<td>v6.4.0, v4.7.1</td> <td><p>Typed array slices are handled correctly now.</p></td>
</tr> <tr>
<td>v6.1.0, v4.5.0</td> <td><p>Objects with circular references can be used as inputs now.</p></td>
</tr> <tr>
<td>v5.10.1, v4.4.3</td> <td><p>Handle non-<code>Uint8Array</code> typed arrays correctly.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p><strong>Strict assertion mode</strong></p> <p>An alias of <a href="#assertnotdeepstrictequalactual-expected-message"><code>assert.notDeepStrictEqual()</code></a>.</p> <p><strong>Legacy assertion mode</strong></p> 
<div class="api_stability api_stability_3">
<a href="https://nodejs.org/api/documentation.html#stability-index">Stability: 3</a> - Legacy: Use <a href="#assertnotdeepstrictequalactual-expected-message"><code>assert.notDeepStrictEqual()</code></a> instead.</div>
 <p>Tests for any deep inequality. Opposite of <a href="#assertdeepequalactual-expected-message"><code>assert.deepEqual()</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';

const obj1 = {
  a: {
    b: 1,
  },
};
const obj2 = {
  a: {
    b: 2,
  },
};
const obj3 = {
  a: {
    b: 1,
  },
};
const obj4 = { __proto__: obj1 };

assert.notDeepEqual(obj1, obj1);
// AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }

assert.notDeepEqual(obj1, obj2);
// OK

assert.notDeepEqual(obj1, obj3);
// AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }

assert.notDeepEqual(obj1, obj4);
// OK</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

const obj1 = {
  a: {
    b: 1,
  },
};
const obj2 = {
  a: {
    b: 2,
  },
};
const obj3 = {
  a: {
    b: 1,
  },
};
const obj4 = { __proto__: obj1 };

assert.notDeepEqual(obj1, obj1);
// AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }

assert.notDeepEqual(obj1, obj2);
// OK

assert.notDeepEqual(obj1, obj3);
// AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }

assert.notDeepEqual(obj1, obj4);
// OK</pre></details> <p>If the values are deeply equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <code>AssertionError</code>.</p> </section><section><h3 id="assertnotdeepstrictequalactual-expected-message">
<code>assert.notDeepStrictEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v9.0.0</td> <td><p>The <code>-0</code> and <code>+0</code> are not considered equal anymore.</p></td>
</tr> <tr>
<td>v9.0.0</td> <td><p>The <code>NaN</code> is now compared using the <a href="https://tc39.github.io/ecma262/#sec-samevaluezero">SameValueZero</a> comparison.</p></td>
</tr> <tr>
<td>v9.0.0</td> <td><p>The <code>Error</code> names and messages are now properly compared.</p></td>
</tr> <tr>
<td>v8.0.0</td> <td><p>The <code>Set</code> and <code>Map</code> content is also compared.</p></td>
</tr> <tr>
<td>v6.1.0</td> <td><p>Objects with circular references can be used as inputs now.</p></td>
</tr> <tr>
<td>v6.4.0, v4.7.1</td> <td><p>Typed array slices are handled correctly now.</p></td>
</tr> <tr>
<td>v5.10.1, v4.4.3</td> <td><p>Handle non-<code>Uint8Array</code> typed arrays correctly.</p></td>
</tr> <tr>
<td>v1.2.0</td> <td><p><span>Added in: v1.2.0</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Tests for deep strict inequality. Opposite of <a href="#assertdeepstrictequalactual-expected-message"><code>assert.deepStrictEqual()</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.notDeepStrictEqual({ a: 1 }, { a: '1' });
// OK</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.notDeepStrictEqual({ a: 1 }, { a: '1' });
// OK</pre></details> <p>If the values are deeply and strictly equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> </section><section><h3 id="assertnotequalactual-expected-message">
<code>assert.notEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v16.0.0, v14.18.0</td> <td><p>In Legacy assertion mode, changed status from Deprecated to Legacy.</p></td>
</tr> <tr>
<td>v14.0.0</td> <td><p>NaN is now treated as being identical if both sides are NaN.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p><strong>Strict assertion mode</strong></p> <p>An alias of <a href="#assertnotstrictequalactual-expected-message"><code>assert.notStrictEqual()</code></a>.</p> <p><strong>Legacy assertion mode</strong></p> 
<div class="api_stability api_stability_3">
<a href="https://nodejs.org/api/documentation.html#stability-index">Stability: 3</a> - Legacy: Use <a href="#assertnotstrictequalactual-expected-message"><code>assert.notStrictEqual()</code></a> instead.</div>
 <p>Tests shallow, coercive inequality with the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Inequality"><code>!=</code> operator</a>. <code>NaN</code> is specially handled and treated as being identical if both sides are <code>NaN</code>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';

assert.notEqual(1, 2);
// OK

assert.notEqual(1, 1);
// AssertionError: 1 != 1

assert.notEqual(1, '1');
// AssertionError: 1 != '1'</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

assert.notEqual(1, 2);
// OK

assert.notEqual(1, 1);
// AssertionError: 1 != 1

assert.notEqual(1, '1');
// AssertionError: 1 != '1'</pre></details> <p>If the values are equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <code>AssertionError</code>.</p> </section><section><h3 id="assertnotstrictequalactual-expected-message">
<code>assert.notStrictEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v10.0.0</td> <td><p>Used comparison changed from Strict Equality to <code>Object.is()</code>.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Tests strict inequality between the <code>actual</code> and <code>expected</code> parameters as determined by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.notStrictEqual(1, 2);
// OK

assert.notStrictEqual(1, 1);
// AssertionError [ERR_ASSERTION]: Expected "actual" to be strictly unequal to:
//
// 1

assert.notStrictEqual(1, '1');
// OK</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.notStrictEqual(1, 2);
// OK

assert.notStrictEqual(1, 1);
// AssertionError [ERR_ASSERTION]: Expected "actual" to be strictly unequal to:
//
// 1

assert.notStrictEqual(1, '1');
// OK</pre></details> <p>If the values are strictly equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <code>AssertionError</code>.</p> </section><section><h3 id="assertokvalue-message">
<code>assert.ok(value[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v10.0.0</td> <td><p>The <code>assert.ok()</code> (no arguments) will now use a predefined error message.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Tests if <code>value</code> is truthy. It is equivalent to <code>assert.equal(!!value, true, message)</code>.</p> <p>If <code>value</code> is not truthy, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is <code>undefined</code>, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <code>AssertionError</code>. If no arguments are passed in at all <code>message</code> will be set to the string: <code>'No value argument passed to `assert.ok()`'</code>.</p> <p>Be aware that in the <code>repl</code> the error message will be different to the one thrown in a file! See below for further details.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.ok(true);
// OK
assert.ok(1);
// OK

assert.ok();
// AssertionError: No value argument passed to `assert.ok()`

assert.ok(false, 'it\'s false');
// AssertionError: it's false

// In the repl:
assert.ok(typeof 123 === 'string');
// AssertionError: false == true

// In a file (e.g. test.js):
assert.ok(typeof 123 === 'string');
// AssertionError: The expression evaluated to a falsy value:
//
//   assert.ok(typeof 123 === 'string')

assert.ok(false);
// AssertionError: The expression evaluated to a falsy value:
//
//   assert.ok(false)

assert.ok(0);
// AssertionError: The expression evaluated to a falsy value:
//
//   assert.ok(0)</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.ok(true);
// OK
assert.ok(1);
// OK

assert.ok();
// AssertionError: No value argument passed to `assert.ok()`

assert.ok(false, 'it\'s false');
// AssertionError: it's false

// In the repl:
assert.ok(typeof 123 === 'string');
// AssertionError: false == true

// In a file (e.g. test.js):
assert.ok(typeof 123 === 'string');
// AssertionError: The expression evaluated to a falsy value:
//
//   assert.ok(typeof 123 === 'string')

assert.ok(false);
// AssertionError: The expression evaluated to a falsy value:
//
//   assert.ok(false)

assert.ok(0);
// AssertionError: The expression evaluated to a falsy value:
//
//   assert.ok(0)</pre></details> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

// Using `assert()` works the same:
assert(0);
// AssertionError: The expression evaluated to a falsy value:
//
//   assert(0)</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

// Using `assert()` works the same:
assert(0);
// AssertionError: The expression evaluated to a falsy value:
//
//   assert(0)</pre></details> </section><section><h3 id="assertrejectsasyncfn-error-message">
<code>assert.rejects(asyncFn[, error][, message])</code>
</h3> <div class="api_metadata"> <span>Added in: v10.0.0</span> </div> <ul> <li>
<code>asyncFn</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a>
</li> <li>
<code>error</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a>
</li> <li>Returns: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a>
</li> </ul> <p>Awaits the <code>asyncFn</code> promise or, if <code>asyncFn</code> is a function, immediately calls the function and awaits the returned promise to complete. It will then check that the promise is rejected.</p> <p>If <code>asyncFn</code> is a function and it throws an error synchronously, <code>assert.rejects()</code> will return a rejected <code>Promise</code> with that error. If the function does not return a promise, <code>assert.rejects()</code> will return a rejected <code>Promise</code> with an <a href="errors#err_invalid_return_value"><code>ERR_INVALID_RETURN_VALUE</code></a> error. In both cases the error handler is skipped.</p> <p>Besides the async nature to await the completion behaves identically to <a href="#assertthrowsfn-error-message"><code>assert.throws()</code></a>.</p> <p>If specified, <code>error</code> can be a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"><code>Class</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a>, a validation function, an object where each property will be tested for, or an instance of error where each property will be tested for including the non-enumerable <code>message</code> and <code>name</code> properties.</p> <p>If specified, <code>message</code> will be the message provided by the <a href="#class-assertassertionerror"><code>AssertionError</code></a> if the <code>asyncFn</code> fails to reject.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

await assert.rejects(
  async () =&gt; {
    throw new TypeError('Wrong value');
  },
  {
    name: 'TypeError',
    message: 'Wrong value',
  },
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

(async () =&gt; {
  await assert.rejects(
    async () =&gt; {
      throw new TypeError('Wrong value');
    },
    {
      name: 'TypeError',
      message: 'Wrong value',
    },
  );
})();</pre></details> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

await assert.rejects(
  async () =&gt; {
    throw new TypeError('Wrong value');
  },
  (err) =&gt; {
    assert.strictEqual(err.name, 'TypeError');
    assert.strictEqual(err.message, 'Wrong value');
    return true;
  },
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

(async () =&gt; {
  await assert.rejects(
    async () =&gt; {
      throw new TypeError('Wrong value');
    },
    (err) =&gt; {
      assert.strictEqual(err.name, 'TypeError');
      assert.strictEqual(err.message, 'Wrong value');
      return true;
    },
  );
})();</pre></details> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.rejects(
  Promise.reject(new Error('Wrong value')),
  Error,
).then(() =&gt; {
  // ...
});</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.rejects(
  Promise.reject(new Error('Wrong value')),
  Error,
).then(() =&gt; {
  // ...
});</pre></details> <p><code>error</code> cannot be a string. If a string is provided as the second argument, then <code>error</code> is assumed to be omitted and the string will be used for <code>message</code> instead. This can lead to easy-to-miss mistakes. Please read the example in <a href="#assertthrowsfn-error-message"><code>assert.throws()</code></a> carefully if using a string as the second argument gets considered.</p> </section><section><h3 id="assertstrictequalactual-expected-message">
<code>assert.strictEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v10.0.0</td> <td><p>Used comparison changed from Strict Equality to <code>Object.is()</code>.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Tests strict equality between the <code>actual</code> and <code>expected</code> parameters as determined by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.strictEqual(1, 2);
// AssertionError [ERR_ASSERTION]: Expected inputs to be strictly equal:
//
// 1 !== 2

assert.strictEqual(1, 1);
// OK

assert.strictEqual('Hello foobar', 'Hello World!');
// AssertionError [ERR_ASSERTION]: Expected inputs to be strictly equal:
// + actual - expected
//
// + 'Hello foobar'
// - 'Hello World!'
//          ^

const apples = 1;
const oranges = 2;
assert.strictEqual(apples, oranges, `apples ${apples} !== oranges ${oranges}`);
// AssertionError [ERR_ASSERTION]: apples 1 !== oranges 2

assert.strictEqual(1, '1', new TypeError('Inputs are not identical'));
// TypeError: Inputs are not identical</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.strictEqual(1, 2);
// AssertionError [ERR_ASSERTION]: Expected inputs to be strictly equal:
//
// 1 !== 2

assert.strictEqual(1, 1);
// OK

assert.strictEqual('Hello foobar', 'Hello World!');
// AssertionError [ERR_ASSERTION]: Expected inputs to be strictly equal:
// + actual - expected
//
// + 'Hello foobar'
// - 'Hello World!'
//          ^

const apples = 1;
const oranges = 2;
assert.strictEqual(apples, oranges, `apples ${apples} !== oranges ${oranges}`);
// AssertionError [ERR_ASSERTION]: apples 1 !== oranges 2

assert.strictEqual(1, '1', new TypeError('Inputs are not identical'));
// TypeError: Inputs are not identical</pre></details> <p>If the values are not strictly equal, an <a href="#class-assertassertionerror"><code>AssertionError</code></a> is thrown with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If the <code>message</code> parameter is undefined, a default error message is assigned. If the <code>message</code> parameter is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> then it will be thrown instead of the <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> </section><section><h3 id="assertthrowsfn-error-message">
<code>assert.throws(fn[, error][, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v10.2.0</td> <td><p>The <code>error</code> parameter can be an object containing regular expressions now.</p></td>
</tr> <tr>
<td>v9.9.0</td> <td><p>The <code>error</code> parameter can now be an object as well.</p></td>
</tr> <tr>
<td>v4.2.0</td> <td><p>The <code>error</code> parameter can now be an arrow function.</p></td>
</tr> <tr>
<td>v0.1.21</td> <td><p><span>Added in: v0.1.21</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>fn</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a>
</li> <li>
<code>error</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a>
</li> </ul> <p>Expects the function <code>fn</code> to throw an error.</p> <p>If specified, <code>error</code> can be a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"><code>Class</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a>, a validation function, a validation object where each property will be tested for strict deep equality, or an instance of error where each property will be tested for strict deep equality including the non-enumerable <code>message</code> and <code>name</code> properties. When using an object, it is also possible to use a regular expression, when validating against a string property. See below for examples.</p> <p>If specified, <code>message</code> will be appended to the message provided by the <code>AssertionError</code> if the <code>fn</code> call fails to throw or in case the error validation fails.</p> <p>Custom validation object/error instance:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

const err = new TypeError('Wrong value');
err.code = 404;
err.foo = 'bar';
err.info = {
  nested: true,
  baz: 'text',
};
err.reg = /abc/i;

assert.throws(
  () =&gt; {
    throw err;
  },
  {
    name: 'TypeError',
    message: 'Wrong value',
    info: {
      nested: true,
      baz: 'text',
    },
    // Only properties on the validation object will be tested for.
    // Using nested objects requires all properties to be present. Otherwise
    // the validation is going to fail.
  },
);

// Using regular expressions to validate error properties:
assert.throws(
  () =&gt; {
    throw err;
  },
  {
    // The `name` and `message` properties are strings and using regular
    // expressions on those will match against the string. If they fail, an
    // error is thrown.
    name: /^TypeError$/,
    message: /Wrong/,
    foo: 'bar',
    info: {
      nested: true,
      // It is not possible to use regular expressions for nested properties!
      baz: 'text',
    },
    // The `reg` property contains a regular expression and only if the
    // validation object contains an identical regular expression, it is going
    // to pass.
    reg: /abc/i,
  },
);

// Fails due to the different `message` and `name` properties:
assert.throws(
  () =&gt; {
    const otherErr = new Error('Not found');
    // Copy all enumerable properties from `err` to `otherErr`.
    for (const [key, value] of Object.entries(err)) {
      otherErr[key] = value;
    }
    throw otherErr;
  },
  // The error's `message` and `name` properties will also be checked when using
  // an error as validation object.
  err,
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

const err = new TypeError('Wrong value');
err.code = 404;
err.foo = 'bar';
err.info = {
  nested: true,
  baz: 'text',
};
err.reg = /abc/i;

assert.throws(
  () =&gt; {
    throw err;
  },
  {
    name: 'TypeError',
    message: 'Wrong value',
    info: {
      nested: true,
      baz: 'text',
    },
    // Only properties on the validation object will be tested for.
    // Using nested objects requires all properties to be present. Otherwise
    // the validation is going to fail.
  },
);

// Using regular expressions to validate error properties:
assert.throws(
  () =&gt; {
    throw err;
  },
  {
    // The `name` and `message` properties are strings and using regular
    // expressions on those will match against the string. If they fail, an
    // error is thrown.
    name: /^TypeError$/,
    message: /Wrong/,
    foo: 'bar',
    info: {
      nested: true,
      // It is not possible to use regular expressions for nested properties!
      baz: 'text',
    },
    // The `reg` property contains a regular expression and only if the
    // validation object contains an identical regular expression, it is going
    // to pass.
    reg: /abc/i,
  },
);

// Fails due to the different `message` and `name` properties:
assert.throws(
  () =&gt; {
    const otherErr = new Error('Not found');
    // Copy all enumerable properties from `err` to `otherErr`.
    for (const [key, value] of Object.entries(err)) {
      otherErr[key] = value;
    }
    throw otherErr;
  },
  // The error's `message` and `name` properties will also be checked when using
  // an error as validation object.
  err,
);</pre></details> <p>Validate instanceof using constructor:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.throws(
  () =&gt; {
    throw new Error('Wrong value');
  },
  Error,
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.throws(
  () =&gt; {
    throw new Error('Wrong value');
  },
  Error,
);</pre></details> <p>Validate error message using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a>:</p> <p>Using a regular expression runs <code>.toString</code> on the error object, and will therefore also include the error name.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.throws(
  () =&gt; {
    throw new Error('Wrong value');
  },
  /^Error: Wrong value$/,
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.throws(
  () =&gt; {
    throw new Error('Wrong value');
  },
  /^Error: Wrong value$/,
);</pre></details> <p>Custom error validation:</p> <p>The function must return <code>true</code> to indicate all internal validations passed. It will otherwise fail with an <a href="#class-assertassertionerror"><code>AssertionError</code></a>.</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

assert.throws(
  () =&gt; {
    throw new Error('Wrong value');
  },
  (err) =&gt; {
    assert(err instanceof Error);
    assert(/value/.test(err));
    // Avoid returning anything from validation functions besides `true`.
    // Otherwise, it's not clear what part of the validation failed. Instead,
    // throw an error about the specific validation that failed (as done in this
    // example) and add as much helpful debugging information to that error as
    // possible.
    return true;
  },
  'unexpected error',
);</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

assert.throws(
  () =&gt; {
    throw new Error('Wrong value');
  },
  (err) =&gt; {
    assert(err instanceof Error);
    assert(/value/.test(err));
    // Avoid returning anything from validation functions besides `true`.
    // Otherwise, it's not clear what part of the validation failed. Instead,
    // throw an error about the specific validation that failed (as done in this
    // example) and add as much helpful debugging information to that error as
    // possible.
    return true;
  },
  'unexpected error',
);</pre></details> <p><code>error</code> cannot be a string. If a string is provided as the second argument, then <code>error</code> is assumed to be omitted and the string will be used for <code>message</code> instead. This can lead to easy-to-miss mistakes. Using the same message as the thrown error message is going to result in an <code>ERR_AMBIGUOUS_ARGUMENT</code> error. Please read the example below carefully if using a string as the second argument gets considered:</p> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert/strict';

function throwingFirst() {
  throw new Error('First');
}

function throwingSecond() {
  throw new Error('Second');
}

function notThrowing() {}

// The second argument is a string and the input function threw an Error.
// The first case will not throw as it does not match for the error message
// thrown by the input function!
assert.throws(throwingFirst, 'Second');
// In the next example the message has no benefit over the message from the
// error and since it is not clear if the user intended to actually match
// against the error message, Node.js throws an `ERR_AMBIGUOUS_ARGUMENT` error.
assert.throws(throwingSecond, 'Second');
// TypeError [ERR_AMBIGUOUS_ARGUMENT]

// The string is only used (as message) in case the function does not throw:
assert.throws(notThrowing, 'Second');
// AssertionError [ERR_ASSERTION]: Missing expected exception: Second

// If it was intended to match for the error message do this instead:
// It does not throw because the error messages match.
assert.throws(throwingSecond, /Second$/);

// If the error message does not match, an AssertionError is thrown.
assert.throws(throwingFirst, /Second$/);
// AssertionError [ERR_ASSERTION]</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert/strict');

function throwingFirst() {
  throw new Error('First');
}

function throwingSecond() {
  throw new Error('Second');
}

function notThrowing() {}

// The second argument is a string and the input function threw an Error.
// The first case will not throw as it does not match for the error message
// thrown by the input function!
assert.throws(throwingFirst, 'Second');
// In the next example the message has no benefit over the message from the
// error and since it is not clear if the user intended to actually match
// against the error message, Node.js throws an `ERR_AMBIGUOUS_ARGUMENT` error.
assert.throws(throwingSecond, 'Second');
// TypeError [ERR_AMBIGUOUS_ARGUMENT]

// The string is only used (as message) in case the function does not throw:
assert.throws(notThrowing, 'Second');
// AssertionError [ERR_ASSERTION]: Missing expected exception: Second

// If it was intended to match for the error message do this instead:
// It does not throw because the error messages match.
assert.throws(throwingSecond, /Second$/);

// If the error message does not match, an AssertionError is thrown.
assert.throws(throwingFirst, /Second$/);
// AssertionError [ERR_ASSERTION]</pre></details> <p>Due to the confusing error-prone notation, avoid a string as the second argument.</p> </section><section><h3 id="assertpartialdeepstrictequalactual-expected-message">
<code>assert.partialDeepStrictEqual(actual, expected[, message])</code>
</h3> <div class="api_metadata"> <details class="changelog"><summary>History</summary> <table> <tbody>
<tr>
<th>Version</th>
<th>Changes</th>
</tr> <tr>
<td>v25.0.0</td> <td><p>Promises are not considered equal anymore if they are not of the same instance.</p></td>
</tr> <tr>
<td>v25.0.0</td> <td><p>Invalid dates are now considered equal.</p></td>
</tr> <tr>
<td>v24.0.0, v22.17.0</td> <td><p>partialDeepStrictEqual is now Stable. Previously, it had been Experimental.</p></td>
</tr> <tr>
<td>v23.4.0, v22.13.0</td> <td><p><span>Added in: v23.4.0, v22.13.0</span></p></td>
</tr> </tbody>
</table> </details> </div> <ul> <li>
<code>actual</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>expected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" class="type">&lt;any&gt;</a>
</li> <li>
<code>message</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a>
</li> </ul> <p>Tests for partial deep equality between the <code>actual</code> and <code>expected</code> parameters. "Deep" equality means that the enumerable "own" properties of child objects are recursively evaluated also by the following rules. "Partial" equality means that only properties that exist on the <code>expected</code> parameter are going to be compared.</p> <p>This method always passes the same test cases as <a href="#assertdeepstrictequalactual-expected-message"><code>assert.deepStrictEqual()</code></a>, behaving as a super set of it.</p> <div> <h4 id="comparison-details_2">Comparison details
</h4> <ul> <li>Primitive values are compared using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a>.</li> <li>
<a href="https://tc39.github.io/ecma262/#sec-object.prototype.tostring">Type tags</a> of objects should be the same.</li> <li>
<a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots"><code>[[Prototype]]</code></a> of objects are not compared.</li> <li>Only <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">enumerable "own" properties</a> are considered.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> names, messages, causes, and errors are always compared, even if these are not enumerable properties. <code>errors</code> is also compared.</li> <li>Enumerable own <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" class="type">&lt;Symbol&gt;</a> properties are compared as well.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive#Primitive_wrapper_objects_in_JavaScript">Object wrappers</a> are compared both as objects and unwrapped values.</li> <li>
<code>Object</code> properties are compared unordered.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" class="type">&lt;Map&gt;</a> keys and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" class="type">&lt;Set&gt;</a> items are compared unordered.</li> <li>Recursion stops when both sides differ or both sides encounter a circular reference.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap" class="type">&lt;WeakMap&gt;</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet" class="type">&lt;WeakSet&gt;</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="type">&lt;Promise&gt;</a> instances are <strong>not</strong> compared structurally. They are only equal if they reference the same object. Any comparison between different <code>WeakMap</code>, <code>WeakSet</code>, or <code>Promise</code> instances will result in inequality, even if they contain the same content.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> lastIndex, flags, and source are always compared, even if these are not enumerable properties.</li> <li>Holes in sparse arrays are ignored.</li> </ul> <details open><summary>JavaScript modules</summary><pre data-language="js">import assert from 'node:assert';

assert.partialDeepStrictEqual(
  { a: { b: { c: 1 } } },
  { a: { b: { c: 1 } } },
);
// OK

assert.partialDeepStrictEqual(
  { a: 1, b: 2, c: 3 },
  { b: 2 },
);
// OK

assert.partialDeepStrictEqual(
  [1, 2, 3, 4, 5, 6, 7, 8, 9],
  [4, 5, 8],
);
// OK

assert.partialDeepStrictEqual(
  new Set([{ a: 1 }, { b: 1 }]),
  new Set([{ a: 1 }]),
);
// OK

assert.partialDeepStrictEqual(
  new Map([['key1', 'value1'], ['key2', 'value2']]),
  new Map([['key2', 'value2']]),
);
// OK

assert.partialDeepStrictEqual(123n, 123n);
// OK

assert.partialDeepStrictEqual(
  [1, 2, 3, 4, 5, 6, 7, 8, 9],
  [5, 4, 8],
);
// AssertionError

assert.partialDeepStrictEqual(
  { a: 1 },
  { a: 1, b: 2 },
);
// AssertionError

assert.partialDeepStrictEqual(
  { a: { b: 2 } },
  { a: { b: '2' } },
);
// AssertionError</pre></details><details><summary>CommonJS</summary><pre data-language="js">const assert = require('node:assert');

assert.partialDeepStrictEqual(
  { a: { b: { c: 1 } } },
  { a: { b: { c: 1 } } },
);
// OK

assert.partialDeepStrictEqual(
  { a: 1, b: 2, c: 3 },
  { b: 2 },
);
// OK

assert.partialDeepStrictEqual(
  [1, 2, 3, 4, 5, 6, 7, 8, 9],
  [4, 5, 8],
);
// OK

assert.partialDeepStrictEqual(
  new Set([{ a: 1 }, { b: 1 }]),
  new Set([{ a: 1 }]),
);
// OK

assert.partialDeepStrictEqual(
  new Map([['key1', 'value1'], ['key2', 'value2']]),
  new Map([['key2', 'value2']]),
);
// OK

assert.partialDeepStrictEqual(123n, 123n);
// OK

assert.partialDeepStrictEqual(
  [1, 2, 3, 4, 5, 6, 7, 8, 9],
  [5, 4, 8],
);
// AssertionError

assert.partialDeepStrictEqual(
  { a: 1 },
  { a: 1, b: 2 },
);
// AssertionError

assert.partialDeepStrictEqual(
  { a: { b: 2 } },
  { a: { b: '2' } },
);
// AssertionError</pre></details>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; Joyent, Inc. and other Node contributors<br>Licensed under the MIT License.<br>Node.js is a trademark of Joyent, Inc. and is used with its permission.<br>We are not endorsed by or affiliated with Joyent.<br>
    <a href="https://nodejs.org/api/assert.html" class="_attribution-link">https://nodejs.org/api/assert.html</a>
  </p>
</div>

<header><h1>Worker</h1></header><p>The Worker class represents a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API" target="_blank" rel="noopener noreferrer">WebWorker</a>. <code>worker</code> event is emitted on the page object to signal a worker creation. <code>close</code> event is emitted on the worker object when the worker is gone.</p> <pre tabindex="0" data-language="javascript">page.on('worker', worker =&gt; {
  console.log('Worker created: ' + worker.url());
  worker.on('close', worker =&gt; console.log('Worker destroyed: ' + worker.url()));
});

console.log('Current workers:');
for (const worker of page.workers())
  console.log('  ' + worker.url());</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="worker-evaluate">evaluate<a href="#worker-evaluate" aria-label="Direct link to evaluate" title="Direct link to evaluate">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns the return value of <a href="class-worker#worker-evaluate-option-expression">pageFunction</a>.</p> <p>If the function passed to the <a href="class-worker#worker-evaluate">worker.evaluate()</a> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, then <a href="class-worker#worker-evaluate">worker.evaluate()</a> would wait for the promise to resolve and return its value.</p> <p>If the function passed to the <a href="class-worker#worker-evaluate">worker.evaluate()</a> returns a non-<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> value, then <a href="class-worker#worker-evaluate">worker.evaluate()</a> returns <code>undefined</code>. Playwright also supports transferring some additional values that are not serializable by <code>JSON</code>: <code>-0</code>, <code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await worker.evaluate(pageFunction);
await worker.evaluate(pageFunction, arg);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>pageFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Function to be evaluated in the worker context.</p> </li> <li> <p><code>arg</code> <a title="EvaluationArgument" href="../evaluating#evaluation-argument">EvaluationArgument</a> <em>(optional)</em></p> <p>Optional argument to pass to <a href="class-worker#worker-evaluate-option-expression">pageFunction</a>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a>&gt;
</li> </ul>  <h3 id="worker-evaluate-handle">evaluateHandle<a href="#worker-evaluate-handle" aria-label="Direct link to evaluateHandle" title="Direct link to evaluateHandle">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns the return value of <a href="class-worker#worker-evaluate-handle-option-expression">pageFunction</a> as a <a title="JSHandle" href="class-jshandle">JSHandle</a>.</p> <p>The only difference between <a href="class-worker#worker-evaluate">worker.evaluate()</a> and <a href="class-worker#worker-evaluate-handle">worker.evaluateHandle()</a> is that <a href="class-worker#worker-evaluate-handle">worker.evaluateHandle()</a> returns <a title="JSHandle" href="class-jshandle">JSHandle</a>.</p> <p>If the function passed to the <a href="class-worker#worker-evaluate-handle">worker.evaluateHandle()</a> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, then <a href="class-worker#worker-evaluate-handle">worker.evaluateHandle()</a> would wait for the promise to resolve and return its value.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await worker.evaluateHandle(pageFunction);
await worker.evaluateHandle(pageFunction, arg);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>pageFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Function to be evaluated in the worker context.</p> </li> <li> <p><code>arg</code> <a title="EvaluationArgument" href="../evaluating#evaluation-argument">EvaluationArgument</a> <em>(optional)</em></p> <p>Optional argument to pass to <a href="class-worker#worker-evaluate-handle-option-expression">pageFunction</a>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="JSHandle" href="class-jshandle">JSHandle</a>&gt;
</li> </ul>  <h3 id="worker-url">url<a href="#worker-url" aria-label="Direct link to url" title="Direct link to url">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">worker.url();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>
</li> </ul>  <h3 id="worker-wait-for-event">waitForEvent<a href="#worker-wait-for-event" aria-label="Direct link to waitForEvent" title="Direct link to waitForEvent">​</a>
</h3>   <p>Waits for event to fire and passes its value into the predicate function. Returns when the predicate returns truthy value. Will throw an error if the page is closed before the event is fired. Returns the event data value.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">// Start waiting for download before clicking. Note no await.
const consolePromise = worker.waitForEvent('console');
await worker.evaluate('console.log(42)');
const consoleMessage = await consolePromise;</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>event</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Event name, same one typically passed into <code>*.on(event)</code>.</p> </li> <li> <p><code>optionsOrPredicate</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>predicate</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>Receives the event data and resolves to truthy value when the waiting should resolve.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Maximum time to wait for in milliseconds. Defaults to <code>0</code> - no timeout. The default value can be changed via <code>actionTimeout</code> option in the config, or by using the <a href="class-browsercontext#browser-context-set-default-timeout">browserContext.setDefaultTimeout()</a> or <a href="class-page#page-set-default-timeout">page.setDefaultTimeout()</a> methods.</p> </li> </ul> <p>Either a predicate that receives an event or an options object. Optional.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>predicate</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> <em>(optional)</em></p> <p>Receives the event data and resolves to truthy value when the waiting should resolve.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt;
</li> </ul>  <h2 id="events">Events<a href="#events" aria-label="Direct link to Events" title="Direct link to Events">​</a>
</h2> <h3 id="worker-event-close">on('close')<a href="#worker-event-close" aria-label="Direct link to on('close')" title="Direct link to on('close')">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Emitted when this dedicated <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API" target="_blank" rel="noopener noreferrer">WebWorker</a> is terminated.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">worker.on('close', data =&gt; {});</pre> <p><strong>Event data</strong></p> <ul> <li><a title="Worker" href="class-worker">Worker</a></li> </ul>  <h3 id="worker-event-console">on('console')<a href="#worker-event-console" aria-label="Direct link to on('console')" title="Direct link to on('console')">​</a>
</h3>   <p>Emitted when JavaScript within the worker calls one of console API methods, e.g. <code>console.log</code> or <code>console.dir</code>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">worker.on('console', data =&gt; {});</pre> <p><strong>Event data</strong></p> <ul> <li><a title="ConsoleMessage" href="class-consolemessage">ConsoleMessage</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2025 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-worker" class="_attribution-link">https://playwright.dev/docs/api/class-worker</a>
  </p>
</div>

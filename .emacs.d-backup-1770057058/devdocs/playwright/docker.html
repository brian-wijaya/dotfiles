<header><h1>Docker</h1></header><h2 id="introduction">Introduction<a href="#introduction" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a>
</h2> <p><a href="https://github.com/microsoft/playwright/blob/main/utils/docker/Dockerfile.noble" target="_blank" rel="noopener noreferrer" title="Dockerfile.noble">Dockerfile.noble</a> can be used to run Playwright scripts in Docker environment. This image includes the <a href="browsers#install-browsers">Playwright browsers</a> and <a href="browsers#install-system-dependencies">browser system dependencies</a>. The Playwright package/dependency is not included in the image and should be installed separately.</p> <h2 id="usage">Usage<a href="#usage" aria-label="Direct link to Usage" title="Direct link to Usage">​</a>
</h2> <p>This Docker image is published to <a href="https://mcr.microsoft.com/en-us/product/playwright/about" target="_blank" rel="noopener noreferrer" title="Microsoft Artifact Registry">Microsoft Artifact Registry</a>.</p> <blockquote>
<div>
<span><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div>
<div><p>This Docker image is intended to be used for testing and development purposes only. It is not recommended to use this Docker image to visit untrusted websites.</p></div>
</blockquote> <h3 id="pull-the-image">Pull the image<a href="#pull-the-image" aria-label="Direct link to Pull the image" title="Direct link to Pull the image">​</a>
</h3> <pre tabindex="0" data-language="javascript">docker pull mcr.microsoft.com/playwright:v1.57.0-noble</pre> <h3 id="run-the-image">Run the image<a href="#run-the-image" aria-label="Direct link to Run the image" title="Direct link to Run the image">​</a>
</h3> <p>By default, the Docker image will use the <code>root</code> user to run the browsers. This will disable the Chromium sandbox which is not available with root. If you run trusted code (e.g. End-to-end tests) and want to avoid the hassle of managing separate user then the root user may be fine. For web scraping or crawling, we recommend to create a separate user inside the Docker container and use the seccomp profile.</p> <h4 id="end-to-end-tests">End-to-end tests<a href="#end-to-end-tests" aria-label="Direct link to End-to-end tests" title="Direct link to End-to-end tests">​</a>
</h4> <p>On trusted websites, you can avoid creating a separate user and use root for it since you trust the code which will run on the browsers.</p> <pre tabindex="0" data-language="javascript">docker run -it --rm --ipc=host mcr.microsoft.com/playwright:v1.57.0-noble /bin/bash</pre> <h4 id="crawling-and-scraping">Crawling and scraping<a href="#crawling-and-scraping" aria-label="Direct link to Crawling and scraping" title="Direct link to Crawling and scraping">​</a>
</h4> <p>On untrusted websites, it's recommended to use a separate user for launching the browsers in combination with the seccomp profile. Inside the container or if you are using the Docker image as a base image you have to use <code>adduser</code> for it.</p> <pre tabindex="0" data-language="javascript">docker run -it --rm --ipc=host --user pwuser --security-opt seccomp=seccomp_profile.json mcr.microsoft.com/playwright:v1.57.0-noble /bin/bash</pre> <p><a href="https://github.com/microsoft/playwright/blob/main/utils/docker/seccomp_profile.json" target="_blank" rel="noopener noreferrer"><code>seccomp_profile.json</code></a> is needed to run Chromium with sandbox. This is a <a href="https://github.com/docker/engine/blob/d0d99b04cf6e00ed3fc27e81fc3d94e7eda70af3/profiles/seccomp/default.json" target="_blank" rel="noopener noreferrer">default Docker seccomp profile</a> with extra user namespace cloning permissions:</p> <pre tabindex="0" data-language="javascript">{
  "comment": "Allow create user namespaces",
  "names": [
    "clone",
    "setns",
    "unshare"
  ],
  "action": "SCMP_ACT_ALLOW",
  "args": [],
  "includes": {},
  "excludes": {}
}</pre> <h3 id="recommended-docker-configuration">Recommended Docker Configuration<a href="#recommended-docker-configuration" aria-label="Direct link to Recommended Docker Configuration" title="Direct link to Recommended Docker Configuration">​</a>
</h3> <p>When running Playwright in Docker, the following configuration is recommended:</p> <ol> <li>
<strong>Using <a href="https://docs.docker.com/reference/cli/docker/container/run/#init" target="_blank" rel="noopener noreferrer"><code>--init</code></a></strong> Docker flag is recommended to avoid special treatment for processes with PID=1. This is a common reason for zombie processes.</li> <li>
<strong>Using <code>--ipc=host</code></strong> is recommended when using Chromium. Without it, Chromium can run out of memory and crash. Learn more about this option in <a href="https://docs.docker.com/reference/cli/docker/container/run/#ipc" target="_blank" rel="noopener noreferrer">Docker docs</a>.</li> <li>
<strong>If seeing weird errors when launching Chromium</strong>, try running your container with <code>docker run --cap-add=SYS_ADMIN</code> when developing locally.</li> </ol> <h3 id="using-on-ci">Using on CI<a href="#using-on-ci" aria-label="Direct link to Using on CI" title="Direct link to Using on CI">​</a>
</h3> <p>See our <a href="ci">Continuous Integration guides</a> for sample configs.</p> <h3 id="remote-connection">Remote Connection<a href="#remote-connection" aria-label="Direct link to Remote Connection" title="Direct link to Remote Connection">​</a>
</h3> <p>You can run Playwright Server in Docker while keeping your tests running on the host system or another machine. This is useful for running tests on unsupported Linux distributions or remote execution scenarios.</p> <h4 id="running-the-playwright-server">Running the Playwright Server<a href="#running-the-playwright-server" aria-label="Direct link to Running the Playwright Server" title="Direct link to Running the Playwright Server">​</a>
</h4> <p>Start the Playwright Server in Docker:</p> <pre tabindex="0" data-language="javascript">docker run -p 3000:3000 --rm --init -it --workdir /home/pwuser --user pwuser mcr.microsoft.com/playwright:v1.57.0-noble /bin/sh -c "npx -y playwright@1.57.0 run-server --port 3000 --host 0.0.0.0"</pre> <h4 id="connecting-to-the-server">Connecting to the Server<a href="#connecting-to-the-server" aria-label="Direct link to Connecting to the Server" title="Direct link to Connecting to the Server">​</a>
</h4> <p>There are two ways to connect to the remote Playwright server:</p> <ol> <li>Using environment variable with <code>@playwright/test</code>:</li> </ol> <pre tabindex="0" data-language="javascript">PW_TEST_CONNECT_WS_ENDPOINT=ws://127.0.0.1:3000/ npx playwright test</pre> <ol start="2"> <li>Using the <a href="api/class-browsertype#browser-type-connect">browserType.connect()</a> API for other applications:</li> </ol> <pre tabindex="0" data-language="javascript">const browser = await playwright['chromium'].connect('ws://127.0.0.1:3000/');</pre> <h4 id="network-configuration">Network Configuration<a href="#network-configuration" aria-label="Direct link to Network Configuration" title="Direct link to Network Configuration">​</a>
</h4> <p>If you need to access local servers from within the Docker container:</p> <pre tabindex="0" data-language="javascript">docker run --add-host=hostmachine:host-gateway -p 3000:3000 --rm --init -it --workdir /home/pwuser --user pwuser mcr.microsoft.com/playwright:v1.57.0-noble /bin/sh -c "npx -y playwright@1.57.0 run-server --port 3000 --host 0.0.0.0"</pre> <p>This makes <code>hostmachine</code> point to the host's localhost. Your tests should use <code>hostmachine</code> instead of <code>localhost</code> when accessing local servers.</p> <blockquote>
<div>
<span><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div>
<div><p>When running tests remotely, ensure the Playwright version in your tests matches the version running in the Docker container.</p></div>
</blockquote> <h2 id="image-tags">Image tags<a href="#image-tags" aria-label="Direct link to Image tags" title="Direct link to Image tags">​</a>
</h2> <p>See <a href="https://mcr.microsoft.com/en-us/product/playwright/about" target="_blank" rel="noopener noreferrer" title="all available image tags">all available image tags</a>.</p> <p>We currently publish images with the following tags:</p> <ul> <li>
<code>:v1.57.0</code> - Playwright v1.57.0 release docker image based on Ubuntu 24.04 LTS (Noble Numbat).</li> <li>
<code>:v1.57.0-noble</code> - Playwright v1.57.0 release docker image based on Ubuntu 24.04 LTS (Noble Numbat).</li> <li>
<code>:v1.57.0-jammy</code> - Playwright v1.57.0 release docker image based on Ubuntu 22.04 LTS (Jammy Jellyfish).</li> </ul> <blockquote>
<div>
<span><svg viewbox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div>
<div><p>It is recommended to always pin your Docker image to a specific version if possible. If the Playwright version in your Docker image does not match the version in your project/tests, Playwright will be unable to locate browser executables.</p></div>
</blockquote> <h3 id="base-images">Base images<a href="#base-images" aria-label="Direct link to Base images" title="Direct link to Base images">​</a>
</h3> <p>We currently publish images based on the following <a href="https://hub.docker.com/_/ubuntu" target="_blank" rel="noopener noreferrer">Ubuntu</a> versions:</p> <ul> <li>
<strong>Ubuntu 24.04 LTS</strong> (Noble Numbat), image tags include <code>noble</code>
</li> <li>
<strong>Ubuntu 22.04 LTS</strong> (Jammy Jellyfish), image tags include <code>jammy</code>
</li> </ul> <h4 id="alpine">Alpine<a href="#alpine" aria-label="Direct link to Alpine" title="Direct link to Alpine">​</a>
</h4> <p>Browser builds for Firefox and WebKit are built for the <a href="https://en.wikipedia.org/wiki/Glibc" target="_blank" rel="noopener noreferrer">glibc</a> library. Alpine Linux and other distributions that are based on the <a href="https://en.wikipedia.org/wiki/Musl" target="_blank" rel="noopener noreferrer">musl</a> standard library are not supported.</p> <h2 id="build-your-own-image">Build your own image<a href="#build-your-own-image" aria-label="Direct link to Build your own image" title="Direct link to Build your own image">​</a>
</h2> <p>To run Playwright inside Docker, you need to have Node.js, <a href="browsers#install-browsers">Playwright browsers</a> and <a href="browsers#install-system-dependencies">browser system dependencies</a> installed. See the following Dockerfile:</p> <pre tabindex="0" data-language="javascript">FROM node:20-bookworm

RUN npx -y playwright@1.57.0 install --with-deps</pre><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2025 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/docker" class="_attribution-link">https://playwright.dev/docs/docker</a>
  </p>
</div>

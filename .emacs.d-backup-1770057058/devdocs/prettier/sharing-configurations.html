<header><h1>Sharing configurations</h1></header><p>In case you have many different projects, it can be helpful to have a <strong>shared configuration</strong> which can be used in all of them, instead of copy-pasting the same config for every project.</p> <p>This page explains how to create, publish and consume a shareable config.</p> <h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-shareable-config">Creating a Shareable Config</h2> <p>Sharable configs are just <a href="https://docs.npmjs.com/about-packages-and-modules#about-packages" rel="noopener noreferrer" class="">npm packages</a> that export a single <a class="" href="configuration">prettier config file</a>.</p> <p>Before we start, make sure you have:</p> <ul> <li class="">An account for <a href="https://www.npmjs.com/" rel="noopener noreferrer" class="">npmjs.com</a> to publish the package</li> <li class="">Basic understating about <a href="https://docs.npmjs.com/creating-node-js-modules" rel="noopener noreferrer" class="">how to create a Node.js module</a>
</li> </ul> <p>First, create a new package. We recommend creating a <a href="https://docs.npmjs.com/cli/v10/using-npm/scope" rel="noopener noreferrer" class="">scoped package</a> with the name <code>@username/prettier-config</code>.</p> <p>A minimal package should have at least two files. A <code>package.json</code> for the package configuration and an <code>index.js</code> which holds the shared prettier configuration object:</p> <pre tabindex="0" data-language="text">prettier-config/
├── index.js
└── package.json</pre> <p>Example <code>package.json</code>:</p> <pre tabindex="0" data-language="json">{
  "name": "@username/prettier-config",
  "version": "1.0.0",
  "description": "My personal Prettier config",
  "type": "module",
  "exports": "./index.js",
  "license": "MIT",
  "publishConfig": {
    "access": "public"
  },
  "peerDependencies": {
    "prettier": "&gt;=3.0.0"
  }
}</pre> <p><code>index.js</code> is where you put the shared configuration. This file just exports a <a class="" href="configuration">regular prettier configuration</a> with the same syntax and same options:</p> <pre tabindex="0" data-language="js">const config = {
  trailingComma: "es5",
  tabWidth: 4,
  singleQuote: true,
};

export default config;</pre> <p>An example shared configuration repository is available <a href="https://github.com/azz/prettier-config" rel="noopener noreferrer" class="">here</a>.</p> <h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="publishing-a-shareable-config">Publishing a Shareable Config</h2> <p>Once you are ready, you can <a href="https://docs.npmjs.com/creating-and-publishing-scoped-public-packages#publishing-scoped-public-packages" rel="noopener noreferrer" class="">publish your package to npm</a>:</p> <pre tabindex="0" data-language="bash">npm publish</pre> <h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-a-shareable-config">Using a Shareable Config</h2> <p>You first need to install your published configuration, for example:</p> <ul role="tablist" aria-orientation="horizontal" class="tabs">
<li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">npm</li>
<li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">yarn</li>
<li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">pnpm</li>
<li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">bun</li>
</ul>
<div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" data-language="bash">npm install --save-dev @username/prettier-config</pre></div></div></div>
<div role="tabpanel" class="tabItem_Ymn6" hidden><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" data-language="bash">yarn add --dev @username/prettier-config</pre></div></div></div>
<div role="tabpanel" class="tabItem_Ymn6" hidden><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" data-language="bash">pnpm add --save-dev @username/prettier-config</pre></div></div></div>
<div role="tabpanel" class="tabItem_Ymn6" hidden><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" data-language="bash">bun add --dev @username/prettier-config</pre></div></div></div> <p>Then, you can reference it in your <code>package.json</code>:</p> <pre tabindex="0" data-language="json">{
  "name": "my-cool-library",
  "version": "1.0.0",
  "prettier": "@username/prettier-config"
}</pre> <p>If you don’t want to use <code>package.json</code>, you can use any of the supported extensions to export a string, e.g. <code>.prettierrc</code>:</p> <pre tabindex="0" data-language="json">"@company/prettier-config"</pre> <h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="extending-a-sharable-config">Extending a Sharable Config</h3> <p>To <em>extend</em> the configuration to overwrite some properties from the shared configuration, import the file in a <code>.prettierrc.mjs</code> file and export the modifications, e.g:</p> <pre tabindex="0" data-language="js">import usernamePrettierConfig from "@username/prettier-config";

/**
 * @see https://prettier.io/docs/configuration
 * @type {import("prettier").Config}
 */
const config = {
  ...usernamePrettierConfig,
  semi: false,
};

export default config;</pre> <h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-examples">Other examples</h2> <h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-type-annotation-in-the-shared-config">Using Type Annotation in the Shared Config</h3> <p>You can get type safety and autocomplete support in your shared configuration by using a <code>jsdoc</code> type annotation:</p> <pre tabindex="0" data-language="js">/**
 * @type {import("prettier").Config}
 */
const config = {
  trailingComma: "es5",
  tabWidth: 4,
  semi: false,
  singleQuote: true,
};

export default config;</pre> <p>In order to make this work, you have to <a class="" href="install">install <code>prettier</code></a> for the project.</p> <p>After that, your <code>package.json</code> file should look like this:</p> <pre tabindex="0" data-language="diff">{
  "name": "@username/prettier-config",
  "version": "1.0.0",
  "description": "My personal Prettier config",
  "type": "module",
  "exports": "./index.js",
  "license": "MIT",
  "publishConfig": {
    "access": "public"
  },
  "peerDependencies": {
    "prettier": "&gt;=3.0.0"
  },
+ "devDependencies": {
+   "prettier": "^3.3.3"
+ }
}</pre> <h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="include-plugins-in-shareable-configurations">Include Plugins in Shareable Configurations</h3> <p>In case you want to use <a class="" href="plugins">plugins</a> in your shared configuration, you need to declare those plugins in the config file's <code>plugin</code> array and as <code>dependencies</code> in <code>package.json</code>:</p> <pre tabindex="0" data-language="js">// index.js
const config = {
  singleQuote: true,
  plugins: ["prettier-plugin-xml"],
};

export default config;</pre> <pre tabindex="0" data-language="diff">// package.json
{
  "name": "@username/prettier-config",
  "version": "1.0.0",
  "description": "My personal Prettier config",
  "type": "module",
  "exports": "./index.js",
  "license": "MIT",
  "publishConfig": {
    "access": "public"
  },
+  "dependencies": {
+    "prettier-plugin-xml": "3.4.1"
+  },
  "peerDependencies": {
    "prettier": "&gt;=3.0.0"
  }
}</pre> <p>An example repository can be found <a href="https://github.com/kachkaev/routine-npm-packages/tree/bc3e658f88c0b41beb118c7a1b9b91ec647f8478/packages/prettier-config" rel="noopener noreferrer" class="">here</a></p> <p><strong>Note:</strong> You can use <a href="https://docs.npmjs.com/cli/v10/configuring-npm/package-json#peerdependencies" rel="noopener noreferrer" class=""><code>peerDependencies</code></a> instead of <a href="https://docs.npmjs.com/cli/v10/configuring-npm/package-json#dependencies" rel="noopener noreferrer" class=""><code>dependencies</code></a>. To learn about their differences, you can read <a href="https://nodejs.org/en/blog/npm/peer-dependencies" rel="noopener noreferrer" class="">this blog post from Domenic Denicola about peer dependencies</a></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; James Long and contributors<br>
    <a href="https://prettier.io/docs/sharing-configurations" class="_attribution-link">https://prettier.io/docs/sharing-configurations</a>
  </p>
</div>

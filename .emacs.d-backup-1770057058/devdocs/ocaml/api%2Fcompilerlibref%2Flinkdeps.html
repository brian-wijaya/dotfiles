<div class="api"> <h1>Module Linkdeps</h1> <pre id="MODULELinkdeps" data-type="module Linkdeps [Module Linkdeps]" data-language="ocaml">module Linkdeps: sig .. end</pre> <pre id="TYPEt" data-type="type t [Module Linkdeps]" data-language="ocaml">type t </pre> <div class="info "> <div class="info-desc"> <p>The state of the linking check. It keeps track of compilation units provided and required so far.</p> </div> </div> <pre id="TYPEcompunit" data-type="type compunit [Module Linkdeps]" data-language="ocaml">type compunit = string </pre> <pre id="TYPEfilename" data-type="type filename [Module Linkdeps]" data-language="ocaml">type filename = string </pre> <pre id="VALcreate" data-type="val create [Module Linkdeps]" data-language="ocaml">val create : complete:bool -&gt; t</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">create ~complete</code> returns an empty state. If <code class="code">complete</code> is <code class="code"><span class="keyword">true</span></code>, missing compilation units will be treated as errors.</p> </div> </div> <pre id="VALadd" data-type="val add [Module Linkdeps]" data-language="ocaml">val add : t -&gt;       filename:filename -&gt;       compunit:compunit -&gt;       provides:compunit list -&gt; requires:compunit list -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">add t ~filename ~compunit ~provides ~requires</code> registers the compilation unit <code class="code">compunit</code> found in <code class="code">filename</code> to <code class="code">t</code>.</p> <ul> <li>
<code class="code">provides</code> are units and sub-units provided by <code class="code">compunit</code>
</li> <li>
<code class="code">requires</code> are units required by <code class="code">compunit</code>
</li> </ul> <p><code class="code">add</code> should be called in reverse topological order.</p> </div> </div> <pre id="VALrequired" data-type="val required [Module Linkdeps]" data-language="ocaml">val required : t -&gt; compunit -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">required t compunit</code> returns <code class="code"><span class="keyword">true</span></code> if <code class="code">compunit</code> is a dependency of previously added compilation units.</p> </div> </div> <pre id="TYPEcompunit_and_source" data-type="type compunit_and_source [Module Linkdeps]" data-language="ocaml">type compunit_and_source = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTcompunit_and_source.compunit">compunit</span> : <code class="type"><a href="linkdeps#TYPEcompunit">compunit</a></code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTcompunit_and_source.filename">filename</span> : <code class="type"><a href="linkdeps#TYPEfilename">filename</a></code>;</code>
</td> </tr>
</tbody>
</table> <code>}</code> <pre id="TYPEerror" data-type="type error [Module Linkdeps]" data-language="ocaml">type error = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.Missing_implementations"><span class="constructor">Missing_implementations</span></span> <span class="keyword">of</span> <code class="type">(<a href="linkdeps#TYPEcompunit">compunit</a> * <a href="linkdeps#TYPEcompunit_and_source">compunit_and_source</a> list) list</code></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.Wrong_link_order"><span class="constructor">Wrong_link_order</span></span> <span class="keyword">of</span> <code class="type">(<a href="linkdeps#TYPEcompunit_and_source">compunit_and_source</a> * <a href="linkdeps#TYPEcompunit_and_source">compunit_and_source</a> list) list</code></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.Multiple_definitions"><span class="constructor">Multiple_definitions</span></span> <span class="keyword">of</span> <code class="type">(<a href="linkdeps#TYPEcompunit">compunit</a> * <a href="linkdeps#TYPEfilename">filename</a> list) list</code></code>
</td> </tr>
</tbody>
</table> <pre id="VALcheck" data-type="val check [Module Linkdeps]" data-language="ocaml">val check : t -&gt; error option</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">check t</code> should be called once all the compilation units to be linked have been added. It returns some error if:</p> <ul> <li>There are some missing implementations and <code class="code">complete</code> is <code class="code"><span class="keyword">true</span></code>
</li> <li>Some implementation appear before their dependencies</li> </ul> </div> </div> <pre id="VALreport_error" data-type="val report_error [Module Linkdeps]" data-language="ocaml">val report_error : print_filename:string Format_doc.printer -&gt;       error Format_doc.format_printer</pre> <pre id="VALreport_error_doc" data-type="val report_error_doc [Module Linkdeps]" data-language="ocaml">val report_error_doc : print_filename:string Format_doc.printer -&gt; error Format_doc.printer</pre> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2024 INRIA.<br>
    <a href="https://ocaml.org/manual/5.3/api/compilerlibref/Linkdeps.html" class="_attribution-link">https://ocaml.org/manual/5.3/api/compilerlibref/Linkdeps.html</a>
  </p>
</div>

<div class="api"> <h1>Module Format_doc</h1> <pre id="MODULEFormat_doc" data-type="module Format_doc [Module Format_doc]" data-language="ocaml">module Format_doc: sig .. end</pre>
<div class="info module top"> <div class="info-desc"> <p>Composable document for the <code class="code"><span class="constructor">Format</span></code> formatting engine.</p> </div> </div>  <p>This module introduces a pure and immutable document type which represents a sequence of formatting instructions to be printed by a formatting engine at later point. At the same time, it also provides format string interpreter which produces this document type from format string and their associated printers.</p> <p>The module is designed to be source compatible with code defining format printers: replacing `Format` by `Format_doc` in your code will convert `Format` printers to `Format_doc` printers.</p> <pre id="MODULEDoc" data-type="module Doc [Module Format_doc]" data-language="ocaml">module Doc: sig .. end</pre>
<div class="info"> <p>Definitions and immutable API for composing documents</p> </div> <h2 id="1_CompatibilityAPI">Compatibility API</h2>
<p>The functions and types below provides source compatibility with format printers and conversion function from <a href="format_doc"><code class="code"><span class="constructor">Format_doc</span></code></a> printers to <code class="code"><span class="constructor">Format</span></code> printers. The reverse direction is implemented using an escape hatch in the formatting instruction and should only be used to preserve backward compatibility.</p> <pre id="TYPEdoc" data-type="type doc [Module Format_doc]" data-language="ocaml">type doc = Doc.t </pre> <pre id="TYPEt" data-type="type t [Module Format_doc]" data-language="ocaml">type t = doc </pre> <pre id="TYPEformatter" data-type="type formatter [Module Format_doc]" data-language="ocaml">type formatter </pre> <pre id="TYPEprinter" data-type="type 'a printer [Module Format_doc]" data-language="ocaml">type 'a printer = formatter -&gt; 'a -&gt; unit </pre> <pre id="VALformatter" data-type="val formatter [Module Format_doc]" data-language="ocaml">val formatter : doc ref -&gt; formatter</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">formatter rdoc</code> creates a <a href="format_doc#VALformatter"><code class="code"><span class="constructor">Format_doc</span>.formatter</code></a> that updates the <code class="code">rdoc</code> reference</p> </div> </div> <pre id="TYPEformat_printer" data-type="type 'a format_printer [Module Format_doc]" data-language="ocaml">type 'a format_printer = Format.formatter -&gt; 'a -&gt; unit </pre> <div class="info "> <div class="info-desc"> <p>Translate a <a href="format_doc"><code class="code"><span class="constructor">Format_doc</span></code></a> printer to a <code class="code"><span class="constructor">Format</span></code> one.</p> </div> </div> <pre id="VALcompat" data-type="val compat [Module Format_doc]" data-language="ocaml">val compat : 'a printer -&gt; 'a format_printer</pre> <pre id="VALcompat1" data-type="val compat1 [Module Format_doc]" data-language="ocaml">val compat1 : ('p1 -&gt; 'a printer) -&gt; 'p1 -&gt; 'a format_printer</pre> <pre id="VALcompat2" data-type="val compat2 [Module Format_doc]" data-language="ocaml">val compat2 : ('p1 -&gt; 'p2 -&gt; 'a printer) -&gt;       'p1 -&gt; 'p2 -&gt; 'a format_printer</pre> <pre id="VALdeprecated_printer" data-type="val deprecated_printer [Module Format_doc]" data-language="ocaml">val deprecated_printer : (Format.formatter -&gt; unit) -&gt; formatter -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>If necessary, embbed a <code class="code"><span class="constructor">Format</span></code> printer inside a formatting instruction stream. This breaks every guarantees provided by <a href="format_doc"><code class="code"><span class="constructor">Format_doc</span></code></a>.</p> </div> </div> <pre id="VALdeprecated" data-type="val deprecated [Module Format_doc]" data-language="ocaml">val deprecated : 'a format_printer -&gt; 'a printer</pre> <pre id="VALdeprecated1" data-type="val deprecated1 [Module Format_doc]" data-language="ocaml">val deprecated1 : ('p1 -&gt; 'a format_printer) -&gt; 'p1 -&gt; 'a printer</pre>
<h3 id="2_Formatstringinterpreters">Format string interpreters </h3> <pre id="VALfprintf" data-type="val fprintf [Module Format_doc]" data-language="ocaml">val fprintf : formatter -&gt; ('a, formatter, unit) format -&gt; 'a</pre> <pre id="VALkfprintf" data-type="val kfprintf [Module Format_doc]" data-language="ocaml">val kfprintf : (formatter -&gt; 'a) -&gt;       formatter -&gt;       ('b, formatter, unit, 'a) format4 -&gt; 'b</pre> <pre id="VALasprintf" data-type="val asprintf [Module Format_doc]" data-language="ocaml">val asprintf : ('a, formatter, unit, string) format4 -&gt; 'a</pre> <pre id="VALkasprintf" data-type="val kasprintf [Module Format_doc]" data-language="ocaml">val kasprintf : (string -&gt; 'a) -&gt; ('b, formatter, unit, 'a) format4 -&gt; 'b</pre> <pre id="VALdprintf" data-type="val dprintf [Module Format_doc]" data-language="ocaml">val dprintf : ('a, formatter, unit, formatter -&gt; unit) format4 -&gt;       'a</pre> <pre id="VALkdprintf" data-type="val kdprintf [Module Format_doc]" data-language="ocaml">val kdprintf : ((formatter -&gt; unit) -&gt; 'a) -&gt;       ('b, formatter, unit, 'a) format4 -&gt; 'b</pre> <pre id="VALdoc_printf" data-type="val doc_printf [Module Format_doc]" data-language="ocaml">val doc_printf : ('a, formatter, unit, doc) format4 -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p><a href="format_doc#VALdoc_printf"><code class="code"><span class="constructor">Format_doc</span>.doc_printf</code></a> and <a href="format_doc#VALkdoc_printf"><code class="code"><span class="constructor">Format_doc</span>.kdoc_printf</code></a> creates a document directly</p> </div> </div> <pre id="VALkdoc_printf" data-type="val kdoc_printf [Module Format_doc]" data-language="ocaml">val kdoc_printf : (doc -&gt; 'r) -&gt;       ('a, formatter, unit, 'r) format4 -&gt; 'a</pre>
<h3 id="2_CompatibilitywithFormatdocDoc">Compatibility with <a href="format_doc.doc"><code class="code"><span class="constructor">Format_doc</span>.<span class="constructor">Doc</span></code></a> </h3> <pre id="VALdoc_printer" data-type="val doc_printer [Module Format_doc]" data-language="ocaml">val doc_printer : 'a printer -&gt; 'a Doc.printer</pre> <pre id="VALpp_doc" data-type="val pp_doc [Module Format_doc]" data-language="ocaml">val pp_doc : doc printer</pre>
<h3 id="2_SourcecompatibilitywithFormat">Source compatibility with Format</h3>
<h4 id="3_Stringprinters">String printers </h4> <pre id="VALpp_print_string" data-type="val pp_print_string [Module Format_doc]" data-language="ocaml">val pp_print_string : string printer</pre> <pre id="VALpp_print_substring" data-type="val pp_print_substring [Module Format_doc]" data-language="ocaml">val pp_print_substring : pos:int -&gt; len:int -&gt; string printer</pre> <pre id="VALpp_print_text" data-type="val pp_print_text [Module Format_doc]" data-language="ocaml">val pp_print_text : string printer</pre> <pre id="VALpp_print_bytes" data-type="val pp_print_bytes [Module Format_doc]" data-language="ocaml">val pp_print_bytes : bytes printer</pre> <pre id="VALpp_print_as" data-type="val pp_print_as [Module Format_doc]" data-language="ocaml">val pp_print_as : formatter -&gt; int -&gt; string -&gt; unit</pre> <pre id="VALpp_print_substring_as" data-type="val pp_print_substring_as [Module Format_doc]" data-language="ocaml">val pp_print_substring_as : pos:int -&gt; len:int -&gt; formatter -&gt; int -&gt; string -&gt; unit</pre>
<h4 id="3_Primitivetypeprinters">Primitive type printers </h4> <pre id="VALpp_print_char" data-type="val pp_print_char [Module Format_doc]" data-language="ocaml">val pp_print_char : char printer</pre> <pre id="VALpp_print_int" data-type="val pp_print_int [Module Format_doc]" data-language="ocaml">val pp_print_int : int printer</pre> <pre id="VALpp_print_float" data-type="val pp_print_float [Module Format_doc]" data-language="ocaml">val pp_print_float : float printer</pre> <pre id="VALpp_print_bool" data-type="val pp_print_bool [Module Format_doc]" data-language="ocaml">val pp_print_bool : bool printer</pre> <pre id="VALpp_print_nothing" data-type="val pp_print_nothing [Module Format_doc]" data-language="ocaml">val pp_print_nothing : unit printer</pre>
<h4 id="3_Printercombinators">Printer combinators </h4> <pre id="VALpp_print_iter" data-type="val pp_print_iter [Module Format_doc]" data-language="ocaml">val pp_print_iter : ?pp_sep:unit printer -&gt;       (('a -&gt; unit) -&gt; 'b -&gt; unit) -&gt;       'a printer -&gt; 'b printer</pre> <pre id="VALpp_print_list" data-type="val pp_print_list [Module Format_doc]" data-language="ocaml">val pp_print_list : ?pp_sep:unit printer -&gt;       'a printer -&gt; 'a list printer</pre> <pre id="VALpp_print_array" data-type="val pp_print_array [Module Format_doc]" data-language="ocaml">val pp_print_array : ?pp_sep:unit printer -&gt;       'a printer -&gt; 'a array printer</pre> <pre id="VALpp_print_seq" data-type="val pp_print_seq [Module Format_doc]" data-language="ocaml">val pp_print_seq : ?pp_sep:unit printer -&gt;       'a printer -&gt; 'a Seq.t printer</pre> <pre id="VALpp_print_option" data-type="val pp_print_option [Module Format_doc]" data-language="ocaml">val pp_print_option : ?none:unit printer -&gt;       'a printer -&gt; 'a option printer</pre> <pre id="VALpp_print_result" data-type="val pp_print_result [Module Format_doc]" data-language="ocaml">val pp_print_result : ok:'a printer -&gt;       error:'e printer -&gt; ('a, 'e) result printer</pre> <pre id="VALpp_print_either" data-type="val pp_print_either [Module Format_doc]" data-language="ocaml">val pp_print_either : left:'a printer -&gt;       right:'b printer -&gt; ('a, 'b) Either.t printer</pre>
<h4 id="3_Boxesandtags">Boxes and tags </h4> <pre id="VALpp_open_stag" data-type="val pp_open_stag [Module Format_doc]" data-language="ocaml">val pp_open_stag : Format.stag printer</pre> <pre id="VALpp_close_stag" data-type="val pp_close_stag [Module Format_doc]" data-language="ocaml">val pp_close_stag : unit printer</pre> <pre id="VALpp_open_box" data-type="val pp_open_box [Module Format_doc]" data-language="ocaml">val pp_open_box : int printer</pre> <pre id="VALpp_close_box" data-type="val pp_close_box [Module Format_doc]" data-language="ocaml">val pp_close_box : unit printer</pre>
<h4 id="3_Breakhints">Break hints</h4> <pre id="VALpp_print_space" data-type="val pp_print_space [Module Format_doc]" data-language="ocaml">val pp_print_space : unit printer</pre> <pre id="VALpp_print_cut" data-type="val pp_print_cut [Module Format_doc]" data-language="ocaml">val pp_print_cut : unit printer</pre> <pre id="VALpp_print_break" data-type="val pp_print_break [Module Format_doc]" data-language="ocaml">val pp_print_break : formatter -&gt; int -&gt; int -&gt; unit</pre> <pre id="VALpp_print_custom_break" data-type="val pp_print_custom_break [Module Format_doc]" data-language="ocaml">val pp_print_custom_break : formatter -&gt;       fits:string * int * string -&gt; breaks:string * int * string -&gt; unit</pre>
<h4 id="3_Tabulations">Tabulations </h4> <pre id="VALpp_open_tbox" data-type="val pp_open_tbox [Module Format_doc]" data-language="ocaml">val pp_open_tbox : unit printer</pre> <pre id="VALpp_close_tbox" data-type="val pp_close_tbox [Module Format_doc]" data-language="ocaml">val pp_close_tbox : unit printer</pre> <pre id="VALpp_set_tab" data-type="val pp_set_tab [Module Format_doc]" data-language="ocaml">val pp_set_tab : unit printer</pre> <pre id="VALpp_print_tab" data-type="val pp_print_tab [Module Format_doc]" data-language="ocaml">val pp_print_tab : unit printer</pre> <pre id="VALpp_print_tbreak" data-type="val pp_print_tbreak [Module Format_doc]" data-language="ocaml">val pp_print_tbreak : formatter -&gt; int -&gt; int -&gt; unit</pre>
<h4 id="3_Newlinesandflushing">Newlines and flushing </h4> <pre id="VALpp_print_if_newline" data-type="val pp_print_if_newline [Module Format_doc]" data-language="ocaml">val pp_print_if_newline : unit printer</pre> <pre id="VALpp_force_newline" data-type="val pp_force_newline [Module Format_doc]" data-language="ocaml">val pp_force_newline : unit printer</pre> <pre id="VALpp_print_flush" data-type="val pp_print_flush [Module Format_doc]" data-language="ocaml">val pp_print_flush : unit printer</pre> <pre id="VALpp_print_newline" data-type="val pp_print_newline [Module Format_doc]" data-language="ocaml">val pp_print_newline : unit printer</pre>
<h2 id="1_Compilerspecificfunctions">Compiler specific functions </h2>
<h3 id="2_Separators">Separators </h3> <pre id="VALcomma" data-type="val comma [Module Format_doc]" data-language="ocaml">val comma : unit printer</pre>
<h3 id="2_Compileroutput">Compiler output</h3> <pre id="VALpp_two_columns" data-type="val pp_two_columns [Module Format_doc]" data-language="ocaml">val pp_two_columns : ?sep:string -&gt;       ?max_lines:int -&gt; formatter -&gt; (string * string) list -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">pp_two_columns ?sep ?max_lines ppf l</code> prints the lines in <code class="code">l</code> as two columns separated by <code class="code">sep</code> ("|" by default). <code class="code">max_lines</code> can be used to indicate a maximum number of lines to print -- an ellipsis gets inserted at the middle if the input has too many lines.</p> <p>Example:</p> <pre class="verbatim" data-language="ocaml">pp_two_columns ~max_lines:3 Format.std_formatter [
      "abc", "hello";
      "def", "zzz";
      "a"  , "bllbl";
      "bb" , "dddddd";
    ]</pre> <p>prints</p> <pre class="verbatim" data-language="ocaml">    abc | hello
    ...
    bb  | dddddd
   </pre>
</div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2024 INRIA.<br>
    <a href="https://ocaml.org/manual/5.3/api/compilerlibref/Format_doc.html" class="_attribution-link">https://ocaml.org/manual/5.3/api/compilerlibref/Format_doc.html</a>
  </p>
</div>

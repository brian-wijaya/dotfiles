<h1 id="releases">Releases</h1> <p>Since Homebrew 1.0.0 most Homebrew users (those who haven’t run a <code class="language-plaintext highlighter-rouge">dev-cmd</code> or set <code class="language-plaintext highlighter-rouge">HOMEBREW_DEVELOPER=1</code> which is ~99.9% based on analytics data) require tags on the <a href="https://github.com/homebrew/brew">Homebrew/brew repository</a> in order to receive new versions of Homebrew. There are a few steps in making a new Homebrew release:</p> <ol> <li>Check if there is anything pressing that needs to be fixed or merged before the next release in: <ul> <li><a href="https://github.com/homebrew/brew/pulls"><code class="language-plaintext highlighter-rouge">Homebrew/brew</code> pull requests</a></li> <li><a href="https://github.com/homebrew/brew/issues"><code class="language-plaintext highlighter-rouge">Homebrew/brew</code> issues</a></li> <li><a href="https://github.com/homebrew/homebrew-core/issues"><code class="language-plaintext highlighter-rouge">Homebrew/homebrew-core</code> issues</a></li> <li><a href="https://github.com/orgs/Homebrew/discussions">Homebrew/discussions (forum)</a></li> </ul> <p>If so, fix and merge these changes.</p> </li> <li>Ensure that: <ul> <li>no code changes have happened for at least a couple of hours (ideally 4 hours),</li> <li>at least one Homebrew/homebrew-core pull request CI job has completed successfully,</li> <li>the state of the Homebrew/brew <code class="language-plaintext highlighter-rouge">main</code> CI job is clear (i.e. main jobs green or green after rerunning)</li> <li>you are confident there are no major regressions on the current <code class="language-plaintext highlighter-rouge">main</code> branch.</li> </ul> </li> <li> <p>Run <code class="language-plaintext highlighter-rouge">brew release</code> to create a new draft release. For major or minor version bumps, pass <code class="language-plaintext highlighter-rouge">--major</code> or <code class="language-plaintext highlighter-rouge">--minor</code>, respectively.</p> </li> <li>Publish the draft release on <a href="https://github.com/Homebrew/brew/releases">GitHub</a>.</li> </ol> <p>If this is a major or minor release (e.g. X.0.0 or X.Y.0) then there are a few more steps:</p> <ol> <li>Before creating the tag you should: <ul> <li>delete any <code class="language-plaintext highlighter-rouge">odisabled</code> code,</li> <li>make any <code class="language-plaintext highlighter-rouge">odeprecated</code> code <code class="language-plaintext highlighter-rouge">odisabled</code>,</li> <li>uncomment any <code class="language-plaintext highlighter-rouge"># odeprecated</code> code</li> <li>add any new <code class="language-plaintext highlighter-rouge">odeprecations</code> that are desired.</li> </ul> <p>Also delete any command argument definitions that pass <code class="language-plaintext highlighter-rouge">replacement: ...</code>.</p> </li> <li> <p>Write up a release notes blog post for <a href="https://brew.sh">https://brew.sh</a> (e.g. <a href="https://github.com/Homebrew/brew.sh/pull/319">brew.sh#319</a>). This should use the output from <code class="language-plaintext highlighter-rouge">brew release [--major|--minor]</code> as input but have the wording adjusted to be more human readable and explain not just what has changed but why.</p> </li> <li> <p>When the release has shipped and the blog post has been merged, tweet the blog post as the <a href="https://twitter.com/MacHomebrew">@MacHomebrew Twitter account</a> or tweet it yourself and retweet it with the @MacHomebrew Twitter account (credentials are in 1Password).</p> </li> <li>Consider whether to submit it to other sources, e.g. Hacker News, Reddit. <ul> <li>Pros: gets a wider reach and user feedback</li> <li>Cons: negative comments are common and people take this as a chance to complain about Homebrew (regardless of their usage)</li> </ul> </li> </ol> <p>Please do not manually create a release based on older commits on the <code class="language-plaintext highlighter-rouge">main</code> branch. It’s very hard to judge whether these have been sufficiently tested by users or if they will cause negative side effects with the current state of Homebrew/homebrew-core. If a new branch is needed ASAP but there are things on <code class="language-plaintext highlighter-rouge">main</code> that cannot be released yet (e.g. new deprecations and you want to make a patch release) then revert the relevant PRs, follow the process above and then revert the reverted PRs to reapply them on <code class="language-plaintext highlighter-rouge">main</code>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;present Homebrew contributors<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://docs.brew.sh/Releases" class="_attribution-link">https://docs.brew.sh/Releases</a>
  </p>
</div>

<h1 id="acceptable-formulae">Acceptable Formulae</h1> <p>Some formulae should not go in <a href="https://github.com/Homebrew/homebrew-core">homebrew/core</a>. But there are additional <a href="interesting-taps-and-forks">Interesting Taps and Forks</a> and anyone can <a href="how-to-create-and-maintain-a-tap">start their own</a>!</p> <ul id="markdown-toc"> <li>
<a href="#requirements-for-homebrewcore" id="markdown-toc-requirements-for-homebrewcore">Requirements for <code class="language-plaintext highlighter-rouge">homebrew/core</code></a> <ul> <li><a href="#supported-platforms" id="markdown-toc-supported-platforms">Supported platforms</a></li> <li><a href="#duplicates-of-system-packages" id="markdown-toc-duplicates-of-system-packages">Duplicates of system packages</a></li> <li><a href="#versioned-formulae" id="markdown-toc-versioned-formulae">Versioned formulae</a></li> <li><a href="#not-a-fork-usually" id="markdown-toc-not-a-fork-usually">Not a fork (usually)</a></li> <li><a href="#we-dont-like-tools-that-upgrade-themselves" id="markdown-toc-we-dont-like-tools-that-upgrade-themselves">We don’t like tools that upgrade themselves</a></li> <li><a href="#we-dont-like-install-scripts-that-download-unversioned-things" id="markdown-toc-we-dont-like-install-scripts-that-download-unversioned-things">We don’t like install scripts that download unversioned things</a></li> <li><a href="#we-dont-like-binary-formulae" id="markdown-toc-we-dont-like-binary-formulae">We don’t like binary formulae</a></li> <li><a href="#stable-versions" id="markdown-toc-stable-versions">Stable versions</a></li> <li><a href="#niche-or-self-submitted-stuff" id="markdown-toc-niche-or-self-submitted-stuff">Niche (or self-submitted) stuff</a></li> <li><a href="#stuff-that-builds-an-app" id="markdown-toc-stuff-that-builds-an-app">Stuff that builds an <code class="language-plaintext highlighter-rouge">.app</code></a></li> <li><a href="#stuff-that-builds-a-gui-by-default-but-doesnt-have-to" id="markdown-toc-stuff-that-builds-a-gui-by-default-but-doesnt-have-to">Stuff that builds a GUI by default (but doesn’t have to)</a></li> <li><a href="#stuff-that-doesnt-build-with-the-latest-stable-xcode-clang" id="markdown-toc-stuff-that-doesnt-build-with-the-latest-stable-xcode-clang">Stuff that doesn’t build with the latest, stable Xcode Clang</a></li> <li><a href="#stuff-that-requires-heavy-manual-prepost-install-intervention" id="markdown-toc-stuff-that-requires-heavy-manual-prepost-install-intervention">Stuff that requires heavy manual pre/post-install intervention</a></li> <li><a href="#shared-vs-static-libraries" id="markdown-toc-shared-vs-static-libraries">Shared vs. static libraries</a></li> <li><a href="#stuff-that-requires-vendored-versions-of-homebrew-formulae" id="markdown-toc-stuff-that-requires-vendored-versions-of-homebrew-formulae">Stuff that requires vendored versions of Homebrew formulae</a></li> <li><a href="#adult-content" id="markdown-toc-adult-content">Adult Content</a></li> </ul> </li> <li><a href="#sometimes-there-are-exceptions" id="markdown-toc-sometimes-there-are-exceptions">Sometimes there are exceptions</a></li> </ul> <h2 id="requirements-for-homebrewcore">Requirements for <code class="language-plaintext highlighter-rouge">homebrew/core</code>
</h2> <h3 id="supported-platforms">Supported platforms</h3> <p>The formula needs to build and pass tests on the latest 3 supported macOS versions (<a href="installation#macos-requirements">Apple Silicon and x86_64</a>) and on x86_64 <a href="linux-ci">Linux</a>. Please have a look at the continuous integration jobs on a pull request in <code class="language-plaintext highlighter-rouge">homebrew/core</code> to see the full list of OSs. If upstream does not support one of these platforms, an exception can be made and the formula can be disabled for that platform.</p> <h3 id="duplicates-of-system-packages">Duplicates of system packages</h3> <p>We now accept stuff that comes with macOS as long as it uses <code class="language-plaintext highlighter-rouge">keg_only :provided_by_macos</code> to be keg-only by default.</p> <h3 id="versioned-formulae">Versioned formulae</h3> <p>We now accept versioned formulae as long as they <a href="versions">meet the requirements</a>.</p> <h3 id="not-a-fork-usually">Not a fork (usually)</h3> <p>We will not add new formulae using forks unless at least one of the following is true:</p> <ul> <li>the fork has been designated the official successor in the original source repository (e.g. in the README) or in a publicly verifiable way by the original author (e.g. in an issue or pull request comment)</li> <li>the fork has been used as the replacement by at least two other major distributions (e.g. Debian, Fedora, Arch, Gentoo, not smaller Linux distributions that are not widely used)</li> </ul> <p>The fork must still meet all the other acceptable formulae requirements (including those of e.g. popularity and self-submission).</p> <p>An alternative to the fork replacing the original formula is a new formula. For example, if <code class="language-plaintext highlighter-rouge">MikeMcQuaid</code> forked <code class="language-plaintext highlighter-rouge">curl</code> and it was very popular: a <code class="language-plaintext highlighter-rouge">curl-mikemcquaid</code> formula might make sense.</p> <h3 id="we-dont-like-tools-that-upgrade-themselves">We don’t like tools that upgrade themselves</h3> <p>Software that can upgrade itself does not integrate well with Homebrew formulae’s own upgrade functionality. The self-update functionality should be disabled (while minimising complication to the formula). It’s fine (and well-supported) for Casks.</p> <h3 id="we-dont-like-install-scripts-that-download-unversioned-things">We don’t like install scripts that download unversioned things</h3> <p>We don’t like install scripts that are pulling from the default branch of Git repositories or unversioned, unchecksummed tarballs. These should ideally use <code class="language-plaintext highlighter-rouge">resource</code> blocks with specific revisions or checksummed tarballs instead. Note that we now allow tools like <code class="language-plaintext highlighter-rouge">cargo</code>, <code class="language-plaintext highlighter-rouge">gem</code> and <code class="language-plaintext highlighter-rouge">pip</code> to download versioned libraries during installation. There’s no need to reproduce the functionality of any language package manager with <code class="language-plaintext highlighter-rouge">resource</code> blocks when we can call it instead.</p> <h3 id="we-dont-like-binary-formulae">We don’t like binary formulae</h3> <p>Our policy is that formulae in the core tap (<a href="https://github.com/Homebrew/homebrew-core">homebrew/core</a>) must be open-source with a <a href="https://wiki.debian.org/DFSGLicenses">Debian Free Software Guidelines license</a> and either built from source or producing cross-platform binaries (e.g. Java, Mono). Binary-only formulae should go in <a href="https://github.com/Homebrew/homebrew-cask">homebrew/cask</a>.</p> <p>Additionally, core formulae must also not depend on casks or any other proprietary software. This includes automatic installation of casks at runtime.</p> <h3 id="stable-versions">Stable versions</h3> <p>Formulae in the core repository must have a stable version tagged by the upstream project. Tarballs are preferred to Git checkouts, and tarballs should include the version in the filename whenever possible.</p> <p>We don’t accept software without a tagged version because they regularly break due to upstream changes and we can’t provide <a href="bottles">bottles</a> for them.</p> <h3 id="niche-or-self-submitted-stuff">Niche (or self-submitted) stuff</h3> <p>The software in question must:</p> <ul> <li>be maintained (i.e. the last release wasn’t ages ago, it works without patching on all Homebrew-supported OS versions and has no outstanding, unpatched security vulnerabilities)</li> <li>be stable (e.g. not declared “unstable” or “beta” by upstream)</li> <li>be known (e.g. GitHub repositories should have &gt;=30 forks, &gt;=30 watchers or &gt;=75 stars)</li> <li>be used</li> <li>have a homepage</li> </ul> <p>We will reject formulae that seem too obscure, partly because they won’t get maintained and partly because we have to draw the line somewhere.</p> <p>We frown on authors submitting their own work unless it is very popular.</p> <p>Don’t forget Homebrew is all Git underneath! <a href="how-to-create-and-maintain-a-tap">Maintain your own tap</a> if you have to!</p> <p>There may be exceptions to these rules in the main repository; we may include things that don’t meet these criteria or reject things that do. Please trust that we need to use our discretion based on our experience running a package manager.</p> <h3 id="stuff-that-builds-an-app">Stuff that builds an <code class="language-plaintext highlighter-rouge">.app</code>
</h3> <p>Don’t make your formula build an <code class="language-plaintext highlighter-rouge">.app</code> (native macOS Application); we don’t want those things in Homebrew. Encourage upstream projects to build and support a <code class="language-plaintext highlighter-rouge">.app</code> that can be distributed by <a href="https://github.com/Homebrew/homebrew-cask">homebrew/cask</a> (and used without it, too).</p> <h3 id="stuff-that-builds-a-gui-by-default-but-doesnt-have-to">Stuff that builds a GUI by default (but doesn’t have to)</h3> <p>Make it build a command-line tool or a library by default and, if the GUI is useful and would be widely used, also build the GUI. Don’t build X11/XQuartz GUIs as they are a bad user experience on macOS.</p> <h3 id="stuff-that-doesnt-build-with-the-latest-stable-xcode-clang">Stuff that doesn’t build with the latest, stable Xcode Clang</h3> <p>Clang is the default C/C++ compiler on macOS (and has been for a long time). Software that doesn’t build with it hasn’t been adequately ported to macOS.</p> <h3 id="stuff-that-requires-heavy-manual-prepost-install-intervention">Stuff that requires heavy manual pre/post-install intervention</h3> <p>We’re a package manager so we want to do things like resolve dependencies and set up applications for our users. If things require too much manual intervention then they aren’t useful in a package manager.</p> <h3 id="shared-vs-static-libraries">Shared vs. static libraries</h3> <p>In general, if formulae have to ship either shared or static libraries: they should ship shared ones. If there is interest in static libraries they can ship both. Shipping only static libraries should be avoided when possible, particularly when the formula is depended on by other formulae since these dependents cannot be updated without a rebuild.</p> <h3 id="stuff-that-requires-vendored-versions-of-homebrew-formulae">Stuff that requires vendored versions of Homebrew formulae</h3> <p>Homebrew formulae should avoid having multiple, separate, upstream projects bundled together in a single package to avoid shipping outdated/insecure versions of software that is already a formula. Veracode’s <a href="https://www.veracode.com/blog/research/announcing-state-software-security-v11-open-source-edition">State of Software Security report</a> concludes:</p> <blockquote> <p>In fact, 79% of the time, developers never update third-party libraries after including them in a codebase.</p> </blockquote> <p>For more info see <a href="https://www.debian.org/doc/debian-policy/ch-source.html#s-embeddedfiles">Debian’s</a> and <a href="https://docs.fedoraproject.org/en-US/packaging-guidelines/#bundling">Fedora’s</a> stances on this.</p> <p>Increasingly, though: this can be (too) hard. Homebrew’s primary mission is to be useful rather than ideologically pure. If we cannot package something without using vendored upstream versions: so be it; better to have packaged software in Homebrew than not.</p> <h3 id="adult-content">Adult Content</h3> <p>Homebrew is a tool where the vast majority of users are adults. We have users all over the world with different views on sex, violence, etc. As a result, we do not see it as our role to enforce any particular culture’s views on adult content onto our users. That said, we want to ensure our maintainers don’t have to interact with adult content unless they choose to.</p> <p>We will accept formulae with adult content but require the <code class="language-plaintext highlighter-rouge">homepage</code> and root of the <code class="language-plaintext highlighter-rouge">url</code> domain to be “safe for work” e.g. not display any images of violence or adult content. It is acceptable for these pages to have textual descriptions of adult content.</p> <p>Homebrew reserves the right to add or remove formulae based on how it affects the wider Homebrew ecosystem. For a hypothetical example, if a critical infrastructure host said we needed to remove the formula to maintain our infrastructure: we may begrudgingly remove it to maintain continuity for our users.</p> <h2 id="sometimes-there-are-exceptions">Sometimes there are exceptions</h2> <p>Even if all criteria are met we may not accept the formula. Even if some criteria are not met we may accept the formula. New formulae are held to a higher standard than existing formulae. Documentation will lag behind current decision-making. Although some rejections may seem arbitrary or strange they are based on years of experience making Homebrew work acceptably for our users.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;present Homebrew contributors<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://docs.brew.sh/Acceptable-Formulae" class="_attribution-link">https://docs.brew.sh/Acceptable-Formulae</a>
  </p>
</div>

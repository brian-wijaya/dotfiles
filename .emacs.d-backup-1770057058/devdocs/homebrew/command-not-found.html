<h1 id="command-not-found">Command Not Found</h1> <p>This feature reproduces Ubuntu’s <code class="language-plaintext highlighter-rouge">command-not-found</code> for Homebrew users on macOS.</p> <p>On Ubuntu, when you try to use a command that doesn’t exist locally but is available through a package, Bash will suggest a command to install it. Using this script, you can replicate this feature on macOS:</p> <pre data-language="console">$ when
The program 'when' is currently not installed. You can install it by typing:
  brew install when</pre> <h2 id="install">Install</h2> <p>Installation instructions for your shell can be viewed by running:</p> <pre data-language="bash">brew command-not-found-init</pre> <ul> <li> <p><strong>Bash and Zsh</strong>: Add the following line to your <code class="language-plaintext highlighter-rouge">~/.bash_profile</code> (bash) or <code class="language-plaintext highlighter-rouge">~/.zshrc</code> (zsh):</p> <pre data-language="bash">HOMEBREW_COMMAND_NOT_FOUND_HANDLER="$(brew --repository)/Library/Homebrew/command-not-found/handler.sh"
  if [ -f "$HOMEBREW_COMMAND_NOT_FOUND_HANDLER" ]; then
    source "$HOMEBREW_COMMAND_NOT_FOUND_HANDLER";
  fi</pre> </li> <li> <p><strong>Fish</strong>: Add the following line to your <code class="language-plaintext highlighter-rouge">~/.config/fish/config.fish</code>:</p> <pre><code class="language-fish">  set HOMEBREW_COMMAND_NOT_FOUND_HANDLER (brew --repository)/Library/Homebrew/command-not-found/handler.fish
  if test -f $HOMEBREW_COMMAND_NOT_FOUND_HANDLER
    source $HOMEBREW_COMMAND_NOT_FOUND_HANDLER
  end
</code></pre> </li> </ul> <h2 id="requirements">Requirements</h2> <p>This tool requires one of the following:</p> <ul> <li>
<a href="https://www.zsh.org">Zsh</a> (the default on macOS Catalina and above)</li> <li>
<a href="https://www.gnu.org/software/bash/">Bash</a> (version 4 and higher)</li> <li><a href="https://fishshell.com">Fish</a></li> </ul> <h2 id="how-it-works">How it works</h2> <p>The <code class="language-plaintext highlighter-rouge">handler.sh</code> script defines a <code class="language-plaintext highlighter-rouge">command_not_found_handle</code> function which is used by Bash when you try a command that doesn’t exist. The function calls <code class="language-plaintext highlighter-rouge">brew which-formula --explain</code> on your command. If it finds a match it will print installation instructions. If not, you’ll get an error as expected.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;present Homebrew contributors<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://docs.brew.sh/Command-Not-Found" class="_attribution-link">https://docs.brew.sh/Command-Not-Found</a>
  </p>
</div>

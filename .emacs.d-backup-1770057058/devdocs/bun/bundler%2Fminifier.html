<h1 id="header">Minifier</h1>
<div data-page-href="/bundler/minifier" id="content">
<span data-as="p">Bun includes a fast JavaScript and TypeScript minifier that can reduce bundle sizes by 80% or more (depending on the codebase) and make output code run faster. The minifier performs dozens of optimizations including constant folding, dead code elimination, and syntax transformations. Unlike other minifiers, Bun’s minifier makes <code>bun build</code> run faster since there’s less code to print.</span> <h2 id="cli-usage"><span>CLI Usage</span></h2> <h3 id="enable-all-minification"><span>Enable all minification</span></h3> <span data-as="p">Use the <code>--minify</code> flag to enable all minification modes:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun build ./index.ts --minify --outfile=out.js
</pre> <span data-as="p">The <code>--minify</code> flag automatically enables:</span> <ul> <li>Whitespace minification</li> <li>Syntax minification</li> <li>Identifier minification</li> </ul> <h3 id="production-mode"><span>Production mode</span></h3> <span data-as="p">The <code>--production</code> flag automatically enables minification:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun build ./index.ts --production --outfile=out.js
</pre> <span data-as="p">The <code>--production</code> flag also:</span> <ul> <li>Sets <code>process.env.NODE_ENV</code> to <code>production</code>
</li> <li>Enables the production-mode JSX import &amp; transform</li> </ul> <h3 id="granular-control"><span>Granular control</span></h3> <span data-as="p">You can enable specific minification modes individually:</span> <pre numberoflines="11" language="shellscript" data-language="typescript"># Only remove whitespace
bun build ./index.ts --minify-whitespace --outfile=out.js

# Only minify syntax
bun build ./index.ts --minify-syntax --outfile=out.js

# Only minify identifiers
bun build ./index.ts --minify-identifiers --outfile=out.js

# Combine specific modes
bun build ./index.ts --minify-whitespace --minify-syntax --outfile=out.js
</pre> <h2 id="javascript-api"><span>JavaScript API</span></h2> <span data-as="p">When using Bun’s bundler programmatically, configure minification through the <code>minify</code> option:</span> <pre numberoflines="5" language="typescript" data-language="typescript">await Bun.build({
  entrypoints: ["./index.ts"],
  outdir: "./out",
  minify: true, // Enable all minification modes
});
</pre> <span data-as="p">For granular control, pass an object:</span> <pre numberoflines="9" language="typescript" data-language="typescript">await Bun.build({
  entrypoints: ["./index.ts"],
  outdir: "./out",
  minify: {
    whitespace: true,
    syntax: true,
    identifiers: true,
  },
});
</pre> <h2 id="minification-modes"><span>Minification Modes</span></h2> <span data-as="p">Bun’s minifier has three independent modes that can be enabled separately or combined.</span> <h3 id="whitespace-minification-minify-whitespace"><span>Whitespace minification (<code>--minify-whitespace</code>)</span></h3> <span data-as="p">Removes all unnecessary whitespace, newlines, and formatting from the output.</span> <h3 id="syntax-minification-minify-syntax"><span>Syntax minification (<code>--minify-syntax</code>)</span></h3> <span data-as="p">Rewrites JavaScript syntax to shorter equivalent forms and performs constant folding, dead code elimination, and other optimizations.</span> <h3 id="identifier-minification-minify-identifiers"><span>Identifier minification (<code>--minify-identifiers</code>)</span></h3> <span data-as="p">Renames local variables and function names to shorter identifiers using frequency-based optimization.</span> <h2 id="all-transformations"><span>All Transformations</span></h2> <h3 id="boolean-literal-shortening"><span>Boolean literal shortening</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts boolean literals to shorter expressions.</span> <pre numberoflines="2" language="typescript" data-language="typescript">true
false
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">!0
!1
</pre> <h3 id="boolean-algebra-optimizations"><span>Boolean algebra optimizations</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Simplifies boolean expressions using logical rules.</span> <pre numberoflines="6" language="typescript" data-language="typescript">!!x
x === true
x &amp;&amp; true
x || false
!true
!false
</pre> <pre numberoflines="6" language="javascript" data-language="typescript">x
x
x
x
!1
!0
</pre> <h3 id="undefined-shortening"><span>Undefined shortening</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Replaces <code>undefined</code> with shorter equivalent.</span> <pre numberoflines="2" language="typescript" data-language="typescript">undefined
let x = undefined;
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">void 0
let x=void 0;
</pre> <h3 id="undefined-equality-optimization"><span>Undefined equality optimization</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Optimizes loose equality checks with undefined.</span> <pre numberoflines="2" language="typescript" data-language="typescript">x == undefined
x != undefined
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">x == null
x != null
</pre> <h3 id="infinity-shortening"><span>Infinity shortening</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts Infinity to mathematical expressions.</span> <pre numberoflines="2" language="typescript" data-language="typescript">Infinity
-Infinity
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">1/0
-1/0
</pre> <h3 id="typeof-optimizations"><span>Typeof optimizations</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Optimizes typeof comparisons and evaluates constant typeof expressions.</span> <pre numberoflines="8" language="typescript" data-language="typescript">typeof x === 'undefined'
typeof x !== 'undefined'
typeof require
typeof null
typeof true
typeof 123
typeof "str"
typeof 123n
</pre> <pre numberoflines="8" language="javascript" data-language="typescript">typeof x&gt;'u'
typeof x&lt;'u'
"function"
"object"
"boolean"
"number"
"string"
"bigint"
</pre> <h3 id="number-formatting"><span>Number formatting</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Formats numbers in the most compact representation.</span> <pre numberoflines="5" language="typescript" data-language="typescript">10000
100000
1000000
1.0
-42.0
</pre> <pre numberoflines="5" language="javascript" data-language="typescript">1e4
1e5
1e6
1
-42
</pre> <h3 id="arithmetic-constant-folding"><span>Arithmetic constant folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates arithmetic operations at compile time.</span> <pre numberoflines="6" language="typescript" data-language="typescript">1 + 2
10 - 5
3 * 4
10 / 2
10 % 3
2 ** 3
</pre> <pre numberoflines="6" language="javascript" data-language="typescript">3
5
12
5
1
8
</pre> <h3 id="bitwise-constant-folding"><span>Bitwise constant folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates bitwise operations at compile time.</span> <pre numberoflines="6" language="typescript" data-language="typescript">5 &amp; 3
5 | 3
5 ^ 3
8 &lt;&lt; 2
32 &gt;&gt; 2
~5
</pre> <pre numberoflines="6" language="javascript" data-language="typescript">1
7
6
32
8
-6
</pre> <h3 id="string-concatenation"><span>String concatenation</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Combines string literals at compile time.</span> <pre numberoflines="3" language="typescript" data-language="typescript">"a" + "b"
"x" + 123
"foo" + "bar" + "baz"
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">"ab"
"x123"
"foobarbaz"
</pre> <h3 id="string-indexing"><span>String indexing</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates string character access at compile time.</span> <pre numberoflines="2" language="typescript" data-language="typescript">"foo"[2]
"hello"[0]
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">"o"
"h"
</pre> <h3 id="template-literal-folding"><span>Template literal folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates template literals with constant expressions.</span> <pre numberoflines="2" language="typescript" data-language="typescript">`a${123}b`
`result: ${5 + 10}`
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">"a123b"
"result: 15"
</pre> <h3 id="template-literal-to-string-conversion"><span>Template literal to string conversion</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts simple template literals to regular strings.</span> <pre numberoflines="3" language="typescript" data-language="typescript">`Hello World`
`Line 1
Line 2`
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">"Hello World"
"Line 1\nLine 2"
</pre> <h3 id="string-quote-optimization"><span>String quote optimization</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Chooses the optimal quote character to minimize escapes.</span> <pre numberoflines="3" language="typescript" data-language="typescript">"It's a string"
'He said "hello"'
`Simple string`
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">"It's a string"
'He said "hello"'
"Simple string"
</pre> <h3 id="array-spread-inlining"><span>Array spread inlining</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Inlines array spread operations with constant arrays.</span> <pre numberoflines="2" language="typescript" data-language="typescript">[1, ...[2, 3], 4]
[...[a, b]]
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">[1,2,3,4]
[a,b]
</pre> <h3 id="array-indexing"><span>Array indexing</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates constant array access at compile time.</span> <pre numberoflines="3" language="typescript" data-language="typescript">[x][0]
['a', 'b', 'c'][1]
['a', , 'c'][1]
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">x
'b'
void 0
</pre> <h3 id="property-access-optimization"><span>Property access optimization</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts bracket notation to dot notation when possible.</span> <pre numberoflines="4" language="typescript" data-language="typescript">obj["property"]
obj["validName"]
obj["123"]
obj["invalid-name"]
</pre> <pre numberoflines="4" language="javascript" data-language="typescript">obj.property
obj.validName
obj["123"]
obj["invalid-name"]
</pre> <h3 id="comparison-folding"><span>Comparison folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates constant comparisons at compile time.</span> <pre numberoflines="5" language="typescript" data-language="typescript">3 &lt; 5
5 &gt; 3
3 &lt;= 3
5 &gt;= 6
"a" &lt; "b"
</pre> <pre numberoflines="5" language="javascript" data-language="typescript">!0
!0
!0
!1
!0
</pre> <h3 id="logical-operation-folding"><span>Logical operation folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Simplifies logical operations with constant values.</span> <pre numberoflines="4" language="typescript" data-language="typescript">true &amp;&amp; x
false &amp;&amp; x
true || x
false || x
</pre> <pre numberoflines="4" language="javascript" data-language="typescript">x
!1
!0
x
</pre> <h3 id="nullish-coalescing-folding"><span>Nullish coalescing folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates nullish coalescing with known values.</span> <pre numberoflines="3" language="typescript" data-language="typescript">null ?? x
undefined ?? x
42 ?? x
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">x
x
42
</pre> <h3 id="comma-expression-simplification"><span>Comma expression simplification</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Removes side-effect-free expressions from comma sequences.</span> <pre numberoflines="2" language="typescript" data-language="typescript">(0, x)
(123, "str", x)
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">x
x
</pre> <h3 id="ternary-conditional-folding"><span>Ternary conditional folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates conditional expressions with constant conditions.</span> <pre numberoflines="4" language="typescript" data-language="typescript">true ? a : b
false ? a : b
x ? true : false
x ? false : true
</pre> <pre numberoflines="4" language="javascript" data-language="typescript">a
b
x ? !0 : !1
x ? !1 : !0
</pre> <h3 id="unary-expression-folding"><span>Unary expression folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Simplifies unary operations.</span> <pre numberoflines="5" language="typescript" data-language="typescript">+123
+"123"
-(-x)
~~x
!!x
</pre> <pre numberoflines="8" language="javascript" data-language="typescript">123
123
123
123
x
~~x
!!x
x
</pre> <h3 id="double-negation-removal"><span>Double negation removal</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Removes unnecessary double negations.</span> <pre numberoflines="2" language="typescript" data-language="typescript">!!x
!!!x
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">x
!x
</pre> <h3 id="if-statement-optimization"><span>If statement optimization</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Optimizes if statements with constant conditions.</span> <pre numberoflines="4" language="typescript" data-language="typescript">if (true) x;
if (false) x;
if (x) { a; }
if (x) {} else y;
</pre> <pre numberoflines="4" language="javascript" data-language="typescript">x;
// removed
if(x)a;
if(!x)y;
</pre> <h3 id="dead-code-elimination"><span>Dead code elimination</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Removes unreachable code and code without side effects.</span> <pre numberoflines="7" language="typescript" data-language="typescript">if (false) {
  unreachable();
}
function foo() {
  return x;
  deadCode();
}
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">function foo(){return x}
</pre> <h3 id="unreachable-branch-removal"><span>Unreachable branch removal</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Removes branches that can never execute.</span> <pre numberoflines="3" language="typescript" data-language="typescript">while (false) {
  neverRuns();
}
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">// removed entirely
</pre> <h3 id="empty-block-removal"><span>Empty block removal</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Removes empty blocks and unnecessary braces.</span> <pre numberoflines="2" language="typescript" data-language="typescript">{ }
if (x) { }
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">;
// removed
</pre> <h3 id="single-statement-block-unwrapping"><span>Single statement block unwrapping</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Removes unnecessary braces around single statements.</span> <pre numberoflines="3" language="typescript" data-language="typescript">if (condition) {
  doSomething();
}
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">if(condition)doSomething();
</pre> <h3 id="typescript-enum-inlining"><span>TypeScript enum inlining</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Inlines TypeScript enum values at compile time.</span> <pre numberoflines="2" language="typescript" data-language="typescript">enum Color { Red, Green, Blue }
const x = Color.Red;
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">const x=0;
</pre> <h3 id="pure-annotation-support"><span>Pure annotation support</span></h3> <span data-as="p"><strong>Mode:</strong> Always active</span> <span data-as="p">Respects <code>/*@__PURE__*/</code> annotations for tree shaking.</span> <pre numberoflines="2" language="typescript" data-language="typescript">const x = /*@__PURE__*/ expensive();
// If x is unused...
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">// removed entirely
</pre> <h3 id="identifier-renaming"><span>Identifier renaming</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-identifiers</code></span> <span data-as="p">Renames local variables to shorter names based on usage frequency.</span> <pre numberoflines="4" language="typescript" data-language="typescript">function calculateSum(firstNumber, secondNumber) {
  const result = firstNumber + secondNumber;
  return result;
}
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">function a(b,c){const d=b+c;return d}
</pre> <span data-as="p"><strong>Naming strategy:</strong></span> <ul> <li>Most frequently used identifiers get the shortest names (a, b, c…)</li> <li>Single letters: a-z (26 names)</li> <li>Double letters: aa-zz (676 names)</li> <li>Triple letters and beyond as needed</li> </ul> <span data-as="p"><strong>Preserved identifiers:</strong></span> <ul> <li>JavaScript keywords and reserved words</li> <li>Global identifiers</li> <li>Named exports (to maintain API)</li> <li>CommonJS names: <code>exports</code>, <code>module</code>
</li> </ul> <h3 id="whitespace-removal"><span>Whitespace removal</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Removes all unnecessary whitespace.</span> <pre numberoflines="4" language="typescript" data-language="typescript">function add(a, b) {
    return a + b;
}
let x = 10;
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">function add(a,b){return a+b;}let x=10;
</pre> <h3 id="semicolon-optimization"><span>Semicolon optimization</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Inserts semicolons only when necessary.</span> <pre numberoflines="3" language="typescript" data-language="typescript">let a = 1;
let b = 2;
return a + b;
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">let a=1;let b=2;return a+b
</pre> <h3 id="operator-spacing-removal"><span>Operator spacing removal</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Removes spaces around operators.</span> <pre numberoflines="3" language="typescript" data-language="typescript">a + b
x = y * z
foo &amp;&amp; bar || baz
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">a+b
x=y*z
foo&amp;&amp;bar||baz
</pre> <h3 id="comment-removal"><span>Comment removal</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Removes comments except important license comments.</span> <pre numberoflines="4" language="typescript" data-language="typescript">// This comment is removed
/* So is this */
/*! But this license comment is kept */
function test() { /* inline comment */ }
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">/*! But this license comment is kept */
function test(){}
</pre> <h3 id="object-and-array-formatting"><span>Object and array formatting</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Removes whitespace in object and array literals.</span> <pre numberoflines="5" language="typescript" data-language="typescript">const obj = {
    name: "John",
    age: 30
};
const arr = [1, 2, 3];
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">const obj={name:"John",age:30};const arr=[1,2,3];
</pre> <h3 id="control-flow-formatting"><span>Control flow formatting</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Removes whitespace in control structures.</span> <pre numberoflines="6" language="typescript" data-language="typescript">if (condition) {
    doSomething();
}
for (let i = 0; i &lt; 10; i++) {
    console.log(i);
}
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">if(condition)doSomething();for(let i=0;i&lt;10;i++)console.log(i);
</pre> <h3 id="function-formatting"><span>Function formatting</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-whitespace</code></span> <span data-as="p">Removes whitespace in function declarations.</span> <pre numberoflines="4" language="typescript" data-language="typescript">function myFunction(param1, param2) {
    return param1 + param2;
}
const arrow = (a, b) =&gt; a + b;
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">function myFunction(a,b){return a+b}const arrow=(a,b)=&gt;a+b;
</pre> <h3 id="parentheses-minimization"><span>Parentheses minimization</span></h3> <span data-as="p"><strong>Mode:</strong> Always active</span> <span data-as="p">Only adds parentheses when necessary for operator precedence.</span> <pre numberoflines="3" language="typescript" data-language="typescript">(a + b) * c
a + (b * c)
((x))
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">(a+b)*c
a+b*c
x
</pre> <h3 id="property-mangling"><span>Property mangling</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-identifiers</code> (with configuration)</span> <span data-as="p">Renames object properties to shorter names when configured.</span> <pre numberoflines="1" language="typescript" data-language="typescript">obj.longPropertyName
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">obj.a
</pre> <h3 id="template-literal-value-folding"><span>Template literal value folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts non-string interpolated values to strings and folds them into the template.</span> <pre numberoflines="5" language="typescript" data-language="typescript">`hello ${123}`
`value: ${true}`
`result: ${null}`
`status: ${undefined}`
`big: ${10n}`
</pre> <pre numberoflines="5" language="javascript" data-language="typescript">"hello 123"
"value: true"
"result: null"
"status: undefined"
"big: 10"
</pre> <h3 id="string-length-constant-folding"><span>String length constant folding</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Evaluates <code>.length</code> property on string literals at compile time.</span> <pre numberoflines="2" language="typescript" data-language="typescript">"hello world".length
"test".length
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">11
4
</pre> <h3 id="constructor-call-simplification"><span>Constructor call simplification</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Simplifies constructor calls for built-in types.</span> <pre numberoflines="5" language="typescript" data-language="typescript">new Object()
new Object(null)
new Object({a: 1})
new Array()
new Array(x, y)
</pre> <pre numberoflines="5" language="javascript" data-language="typescript">{}
{}
{a:1}
[]
[x,y]
</pre> <h3 id="single-property-object-inlining"><span>Single property object inlining</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Inlines property access for objects with a single property.</span> <pre numberoflines="1" language="typescript" data-language="typescript">({fn: () =&gt; console.log('hi')}).fn()
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">(() =&gt; console.log('hi'))()
</pre> <h3 id="string-charcodeat-constant-folding"><span>String charCodeAt constant folding</span></h3> <span data-as="p"><strong>Mode:</strong> Always active</span> <span data-as="p">Evaluates <code>charCodeAt()</code> on string literals for ASCII characters.</span> <pre numberoflines="2" language="typescript" data-language="typescript">"hello".charCodeAt(1)
"A".charCodeAt(0)
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">101
65
</pre> <h3 id="void-0-equality-to-null-equality"><span>Void 0 equality to null equality</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts loose equality checks with <code>void 0</code> to <code>null</code> since they’re equivalent.</span> <pre numberoflines="2" language="typescript" data-language="typescript">x == void 0
x != void 0
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">x == null
x != null
</pre> <h3 id="negation-operator-optimization"><span>Negation operator optimization</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Moves negation operator through comma expressions.</span> <pre numberoflines="2" language="typescript" data-language="typescript">-(a, b)
-(x, y, z)
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">a,-b
x,y,-z
</pre> <h3 id="import-meta-property-inlining"><span>Import.meta property inlining</span></h3> <span data-as="p"><strong>Mode:</strong> Bundle mode</span> <span data-as="p">Inlines <code>import.meta</code> properties at build time when values are known.</span> <pre numberoflines="4" language="typescript" data-language="typescript">import.meta.dir
import.meta.file
import.meta.path
import.meta.url
</pre> <pre numberoflines="4" language="javascript" data-language="typescript">"/path/to/directory"
"filename.js"
"/full/path/to/file.js"
"file:///full/path/to/file.js"
</pre> <h3 id="variable-declaration-merging"><span>Variable declaration merging</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Merges adjacent variable declarations of the same type.</span> <pre numberoflines="4" language="typescript" data-language="typescript">let a = 1;
let b = 2;
const c = 3;
const d = 4;
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">let a=1,b=2;
const c=3,d=4;
</pre> <h3 id="expression-statement-merging"><span>Expression statement merging</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Merges adjacent expression statements using comma operator.</span> <pre numberoflines="3" language="typescript" data-language="typescript">console.log(1);
console.log(2);
console.log(3);
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">console.log(1),console.log(2),console.log(3);
</pre> <h3 id="return-statement-merging"><span>Return statement merging</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Merges expressions before return with comma operator.</span> <pre numberoflines="2" language="typescript" data-language="typescript">console.log(x);
return y;
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">return console.log(x),y;
</pre> <h3 id="throw-statement-merging"><span>Throw statement merging</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Merges expressions before throw with comma operator.</span> <pre numberoflines="2" language="typescript" data-language="typescript">console.log(x);
throw new Error();
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">throw(console.log(x),new Error());
</pre> <h3 id="typescript-enum-cross-module-inlining"><span>TypeScript enum cross-module inlining</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code> (bundle mode)</span> <span data-as="p">Inlines enum values across module boundaries.</span> <pre numberoflines="6" language="typescript" data-language="typescript">// lib.ts
export enum Color { Red, Green, Blue }

// Input (main.ts)
import { Color } from './lib';
const x = Color.Red;
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">const x=0;
</pre> <h3 id="computed-property-enum-inlining"><span>Computed property enum inlining</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Inlines enum values used as computed object properties.</span> <pre numberoflines="2" language="typescript" data-language="typescript">enum Keys { FOO = 'foo' }
const obj = { [Keys.FOO]: value }
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">const obj={foo:value}
</pre> <h3 id="string-number-to-numeric-index"><span>String number to numeric index</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--minify-syntax</code></span> <span data-as="p">Converts string numeric property access to numeric index.</span> <pre numberoflines="2" language="typescript" data-language="typescript">obj["0"]
arr["5"]
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">obj[0]
arr[5]
</pre> <h3 id="arrow-function-body-shortening"><span>Arrow function body shortening</span></h3> <span data-as="p"><strong>Mode:</strong> Always active</span> <span data-as="p">Uses expression body syntax when an arrow function only returns a value.</span> <pre numberoflines="2" language="typescript" data-language="typescript">() =&gt; { return x; }
(a) =&gt; { return a + 1; }
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">() =&gt; x
a =&gt; a + 1
</pre> <h3 id="object-property-shorthand"><span>Object property shorthand</span></h3> <span data-as="p"><strong>Mode:</strong> Always active</span> <span data-as="p">Uses shorthand syntax when property name and value identifier match.</span> <pre numberoflines="2" language="typescript" data-language="typescript">{ x: x, y: y }
{ name: name, age: age }
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">{ x, y }
{ name, age }
</pre> <h3 id="method-shorthand"><span>Method shorthand</span></h3> <span data-as="p"><strong>Mode:</strong> Always active</span> <span data-as="p">Uses method shorthand syntax in object literals.</span> <pre numberoflines="4" language="typescript" data-language="typescript">{
  foo: function() {},
  bar: async function() {}
}
</pre> <pre numberoflines="4" language="javascript" data-language="typescript">{
  foo() {},
  async bar() {}
}
</pre> <h3 id="drop-debugger-statements"><span>Drop debugger statements</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--drop=debugger</code></span> <span data-as="p">Removes <code>debugger</code> statements from code.</span> <pre numberoflines="4" language="typescript" data-language="typescript">function test() {
  debugger;
  return x;
}
</pre> <pre numberoflines="1" language="javascript" data-language="typescript">function test(){return x}
</pre> <h3 id="drop-console-calls"><span>Drop console calls</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--drop=console</code></span> <span data-as="p">Removes all <code>console.*</code> method calls from code.</span> <pre numberoflines="3" language="typescript" data-language="typescript">console.log("debug");
console.warn("warning");
x = console.error("error");
</pre> <pre numberoflines="3" language="javascript" data-language="typescript">void 0;
void 0;
x=void 0;
</pre> <h3 id="drop-custom-function-calls"><span>Drop custom function calls</span></h3> <span data-as="p"><strong>Mode:</strong> <code>--drop=&lt;name&gt;</code></span> <span data-as="p">Removes calls to specified global functions or methods.</span> <pre numberoflines="2" language="typescript" data-language="typescript">assert(condition);
obj.assert(test);
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">void 0;
void 0;
</pre> <h2 id="keep-names"><span>Keep Names</span></h2> <span data-as="p">When minifying identifiers, you may want to preserve original function and class names for debugging purposes. Use the <code>--keep-names</code> flag:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun build ./index.ts --minify --keep-names --outfile=out.js
</pre> <span data-as="p">Or in the JavaScript API:</span> <pre numberoflines="8" language="typescript" data-language="typescript">await Bun.build({
  entrypoints: ["./index.ts"],
  outdir: "./out",
  minify: {
    identifiers: true,
    keepNames: true,
  },
});
</pre> <span data-as="p">This preserves the <code>.name</code> property on functions and classes while still minifying the actual identifier names in the code.</span> <h2 id="combined-example"><span>Combined Example</span></h2> <span data-as="p">Using all three minification modes together:</span> <pre numberoflines="9" language="typescript" data-language="typescript">const myVariable = 42;

const myFunction = () =&gt; {
  const isValid = true;
  const result = undefined;
  return isValid ? myVariable : result;
};

const output = myFunction();
</pre> <pre numberoflines="2" language="javascript" data-language="typescript">// Output with --minify (49 bytes, 69% reduction)
const a=42,b=()=&gt;{const c=!0,d=void 0;return c?a:d},e=b();
</pre> <h2 id="when-to-use-minification"><span>When to Use Minification</span></h2> <span data-as="p"><strong>Use <code>--minify</code> for:</strong></span> <ul> <li>Production bundles</li> <li>Reducing CDN bandwidth costs</li> <li>Improving page load times</li> </ul> <span data-as="p"><strong>Use individual modes for:</strong></span> <ul> <li>
<strong><code>--minify-whitespace</code>:</strong> Quick size reduction without semantic changes</li> <li>
<strong><code>--minify-syntax</code>:</strong> Smaller output while keeping readable identifiers for debugging</li> <li>
<strong><code>--minify-identifiers</code>:</strong> Maximum size reduction (combine with <code>--keep-names</code> for better stack traces)</li> </ul> <span data-as="p"><strong>Avoid minification for:</strong></span> <ul> <li>Development builds (harder to debug)</li> <li>When you need readable error messages</li> <li>Libraries where consumers may read the source</li> </ul>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/bundler/minifier" class="_attribution-link">https://bun.com/docs/bundler/minifier</a>
  </p>
</div>

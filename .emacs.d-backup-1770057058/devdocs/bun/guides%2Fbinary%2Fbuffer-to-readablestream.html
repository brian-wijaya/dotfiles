<h1 id="header">Convert a Buffer to a ReadableStream</h1>
<div data-page-title="Convert a Buffer to a ReadableStream" data-page-href="/guides/binary/buffer-to-readablestream" id="content">
<span data-as="p">The naive approach to creating a <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream" target="_blank" rel="noreferrer"><code>ReadableStream</code></a> from a <a href="https://nodejs.org/api/buffer.html" target="_blank" rel="noreferrer"><code>Buffer</code></a> is to use the <code>ReadableStream</code> constructor and enqueue the entire array as a single chunk. For a large buffer, this may be undesirable as this approach does not “streaming” the data in smaller chunks.</span> <pre numberoflines="7" language="typescript" data-language="typescript">const buf = Buffer.from("hello world");
const stream = new ReadableStream({
  start(controller) {
    controller.enqueue(buf);
    controller.close();
  },
});
</pre> <hr> <span data-as="p">To stream the data in smaller chunks, first create a <code>Blob</code> instance from the <code>Buffer</code>. Then use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob/stream" target="_blank" rel="noreferrer"><code>Blob.stream()</code></a> method to create a <code>ReadableStream</code> that streams the data in chunks of a specified size.</span> <pre numberoflines="3" language="typescript" data-language="typescript">const buf = Buffer.from("hello world");
const blob = new Blob([buf]);
const stream = blob.stream();
</pre> <hr> <span data-as="p">The chunk size can be set by passing a number to the <code>.stream()</code> method.</span> <pre numberoflines="5" language="typescript" data-language="typescript">const buf = Buffer.from("hello world");
const blob = new Blob([buf]);

// set chunk size of 1024 bytes
const stream = blob.stream(1024);
</pre> <hr> <span data-as="p">See <a href="../../runtime/binary-data#conversion">Docs &gt; API &gt; Binary Data</a> for complete documentation on manipulating binary data with Bun.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/binary/buffer-to-readablestream" class="_attribution-link">https://bun.com/docs/guides/binary/buffer-to-readablestream</a>
  </p>
</div>

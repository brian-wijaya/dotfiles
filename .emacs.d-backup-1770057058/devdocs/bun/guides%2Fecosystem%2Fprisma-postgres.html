<h1 id="header">Use Prisma Postgres with Bun</h1>
<div data-page-title="Use Prisma Postgres with Bun" data-page-href="/guides/ecosystem/prisma-postgres" id="content">
<div data-callout-type="note">

<div data-component-part="callout-content"><span data-as="p"><strong>Note</strong> — At the moment Prisma needs Node.js to be installed to run certain generation code. Make sure Node.js is installed in the environment where you’re running <code>bunx prisma</code> commands.</span></div>
</div> <div role="list">
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>1</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Create a new project</p>
<div data-component-part="step-content">
<span data-as="p">First, create a directory and initialize it with <code>bun init</code>.</span><pre numberoflines="3" language="shellscript" data-language="typescript">mkdir prisma-postgres-app
cd prisma-postgres-app
bun init
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>2</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Install Prisma dependencies</p>
<div data-component-part="step-content">
<span data-as="p">Then install the Prisma CLI (<code>prisma</code>), Prisma Client (<code>@prisma/client</code>), and the accelerate extension as dependencies.</span><pre numberoflines="2" language="shellscript" data-language="typescript">bun add -d prisma
bun add @prisma/client @prisma/extension-accelerate
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>3</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Initialize Prisma with PostgreSQL</p>
<div data-component-part="step-content">
<span data-as="p">We’ll use the Prisma CLI with <code>bunx</code> to initialize our schema and migration directory. We’ll be using PostgreSQL as our database.</span><pre numberoflines="1" language="shellscript" data-language="typescript">bunx --bun prisma init --db
</pre>
<span data-as="p">This creates a basic schema. We need to update it to use the new Rust-free client with Bun optimization. Open <code>prisma/schema.prisma</code> and modify the generator block, then add a simple <code>User</code> model.</span><pre numberoflines="17" language="prisma" data-language="typescript">generator client {
	provider = "prisma-client"
	output = "./generated"
	engineType = "client"
	runtime = "bun"
}

datasource db {
	provider = "postgresql"
	url      = env("DATABASE_URL")
}

model User { 
	id    Int     @id @default(autoincrement()) 
	email String  @unique
	name  String?
} 
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>4</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Configure database connection</p>
<div data-component-part="step-content">
<span data-as="p">Set up your Postgres database URL in the <code>.env</code> file.</span><pre numberoflines="1" language="ini" data-language="typescript">DATABASE_URL="postgresql://username:password@localhost:5432/mydb?schema=public"
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>5</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Create and run database migration</p>
<div data-component-part="step-content">
<span data-as="p">Then generate and run initial migration.</span><span data-as="p">This will generate a <code>.sql</code> migration file in <code>prisma/migrations</code>, and execute the migration against your Postgres database.</span><pre numberoflines="1" language="shellscript" data-language="typescript">bunx --bun prisma migrate dev --name init
</pre>
<pre numberoflines="16" language="text" data-language="typescript">Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "mydb", schema "public" at "localhost:5432"

Applying migration `20250114141233_init`

The following migration(s) have been created and applied from new schema changes:

prisma/migrations/
  └─ 20250114141233_init/
    └─ migration.sql

Your database is now in sync with your schema.

✔ Generated Prisma Client (6.17.1) to ./generated in 18ms
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>6</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Generate Prisma Client</p>
<div data-component-part="step-content">
<span data-as="p">As indicated in the output, Prisma re-generates our <em>Prisma client</em> whenever we execute a new migration. The client provides a fully typed API for reading and writing from our database. You can manually re-generate the client with the Prisma CLI.</span><pre numberoflines="1" language="shellscript" data-language="typescript">bunx --bun prisma generate
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>7</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Initialize Prisma Client with Accelerate</p>
<div data-component-part="step-content">
<span data-as="p">Now we need to create a Prisma client instance. Create a new file <code>prisma/db.ts</code> to initialize the PrismaClient with the Postgres adapter.</span><pre numberoflines="4" language="typescript" data-language="typescript">import { PrismaClient } from "./generated/client";
import { withAccelerate } from '@prisma/extension-accelerate'

export const prisma = new PrismaClient().$extends(withAccelerate())
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>8</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Create a test script</p>
<div data-component-part="step-content">
<span data-as="p">Let’s write a simple script to create a new user, then count the number of users in the database.</span><pre numberoflines="13" language="typescript" data-language="typescript">import { prisma } from "./prisma/db";

// create a new user
await prisma.user.create({
  data: {
    name: "John Dough",
    email: `john-${Math.random()}@example.com`,
  },
});

// count the number of users
const count = await prisma.user.count();
console.log(`There are ${count} users in the database.`);
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>9</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Run and test the application</p>
<div data-component-part="step-content">
<span data-as="p">Let’s run this script with <code>bun run</code>. Each time we run it, a new user is created.</span><pre numberoflines="1" language="shellscript" data-language="typescript">bun run index.ts
</pre>
<pre numberoflines="2" language="text" data-language="typescript">There are 1 users in the database.
</pre>
<pre numberoflines="1" language="shellscript" data-language="typescript">bun run index.ts
</pre>
<pre numberoflines="2" language="text" data-language="typescript">There are 2 users in the database.
</pre>
<pre numberoflines="1" language="shellscript" data-language="typescript">bun run index.ts
</pre>
<pre numberoflines="2" language="text" data-language="typescript">There are 3 users in the database.
</pre>
</div>
</div>
</div>
</div> <hr> <span data-as="p">That’s it! Now that you’ve set up Prisma Postgres using Bun, we recommend referring to the <a href="https://www.prisma.io/docs/postgres" target="_blank" rel="noreferrer">official Prisma Postgres docs</a> as you continue to develop your application.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/ecosystem/prisma-postgres" class="_attribution-link">https://bun.com/docs/guides/ecosystem/prisma-postgres</a>
  </p>
</div>

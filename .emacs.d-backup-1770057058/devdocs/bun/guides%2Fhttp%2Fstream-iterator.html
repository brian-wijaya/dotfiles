<h1 id="header">Streaming HTTP Server with Async Iterators</h1>
<div data-page-title="Streaming HTTP Server with Async Iterators" data-page-href="/guides/http/stream-iterator" id="content">
<span data-as="p">In Bun, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response" target="_blank" rel="noreferrer"><code>Response</code></a> objects can accept an async generator function as their body. This allows you to stream data to the client as it becomes available, rather than waiting for the entire response to be ready.</span> <pre numberoflines="17" language="typescript" data-language="typescript">Bun.serve({
  port: 3000,
  fetch(req) {
    return new Response(
      // An async generator function
      async function* () {
        yield "Hello, ";
        await Bun.sleep(100);
        yield "world!";

        // you can also yield a TypedArray or Buffer
        yield new Uint8Array(["\n".charCodeAt(0)]);
      },
      { headers: { "Content-Type": "text/plain" } },
    );
  },
});
</pre> <hr> <span data-as="p">You can pass any async iterable directly to <code>Response</code>:</span> <pre numberoflines="15" language="typescript" data-language="typescript">Bun.serve({
  port: 3000,
  fetch(req) {
    return new Response(
      {
        [Symbol.asyncIterator]: async function* () {
          yield "Hello, ";
          await Bun.sleep(100);
          yield "world!";
        },
      },
      { headers: { "Content-Type": "text/plain" } },
    );
  },
});
</pre>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/http/stream-iterator" class="_attribution-link">https://bun.com/docs/guides/http/stream-iterator</a>
  </p>
</div>

<h1 id="header">Finding tests</h1>
<div data-page-title="Finding tests" data-page-href="/test/discovery" id="content">
<span data-as="p">bun test’s file discovery mechanism determines which files to run as tests. Understanding how it works helps you structure your test files effectively.</span> <h2 id="default-discovery-logic"><span>Default Discovery Logic</span></h2> <span data-as="p">By default, <code>bun test</code> recursively searches the project directory for files that match specific patterns:</span> <ul> <li>
<code>*.test.{js|jsx|ts|tsx}</code> - Files ending with <code>.test.js</code>, <code>.test.jsx</code>, <code>.test.ts</code>, or <code>.test.tsx</code>
</li> <li>
<code>*_test.{js|jsx|ts|tsx}</code> - Files ending with <code>_test.js</code>, <code>_test.jsx</code>, <code>_test.ts</code>, or <code>_test.tsx</code>
</li> <li>
<code>*.spec.{js|jsx|ts|tsx}</code> - Files ending with <code>.spec.js</code>, <code>.spec.jsx</code>, <code>.spec.ts</code>, or <code>.spec.tsx</code>
</li> <li>
<code>*_spec.{js|jsx|ts|tsx}</code> - Files ending with <code>_spec.js</code>, <code>_spec.jsx</code>, <code>_spec.ts</code>, or <code>_spec.tsx</code>
</li> </ul> <h2 id="exclusions"><span>Exclusions</span></h2> <span data-as="p">By default, Bun test ignores:</span> <ul> <li>
<code>node_modules</code> directories</li> <li>Hidden directories (those starting with a period <code>.</code>)</li> <li>Files that don’t have JavaScript-like extensions (based on available loaders)</li> </ul> <h2 id="customizing-test-discovery"><span>Customizing Test Discovery</span></h2> <h3 id="position-arguments-as-filters"><span>Position Arguments as Filters</span></h3> <span data-as="p">You can filter which test files run by passing additional positional arguments to <code>bun test</code>:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun test &lt;filter&gt; &lt;filter&gt; ...
</pre> <span data-as="p">Any test file with a path that contains one of the filters will run. These filters are simple substring matches, not glob patterns.</span> <span data-as="p">For example, to run all tests in a <code>utils</code> directory:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun test utils
</pre> <span data-as="p">This would match files like <code>src/utils/string.test.ts</code> and <code>lib/utils/array_test.js</code>.</span> <h3 id="specifying-exact-file-paths"><span>Specifying Exact File Paths</span></h3> <span data-as="p">To run a specific file in the test runner, make sure the path starts with <code>./</code> or <code>/</code> to distinguish it from a filter name:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun test ./test/specific-file.test.ts
</pre> <h3 id="filter-by-test-name"><span>Filter by Test Name</span></h3> <span data-as="p">To filter tests by name rather than file path, use the <code>-t</code>/<code>--test-name-pattern</code> flag with a regex pattern:</span> <pre numberoflines="2" language="shellscript" data-language="typescript"># run all tests with "addition" in the name
bun test --test-name-pattern addition
</pre> <span data-as="p">The pattern is matched against a concatenated string of the test name prepended with the labels of all its parent describe blocks, separated by spaces. For example, a test defined as:</span> <pre numberoflines="7" language="typescript" data-language="typescript">describe("Math", () =&gt; {
  describe("operations", () =&gt; {
    test("should add correctly", () =&gt; {
      // ...
    });
  });
});
</pre> <span data-as="p">Would be matched against the string “Math operations should add correctly”.</span> <h3 id="changing-the-root-directory"><span>Changing the Root Directory</span></h3> <span data-as="p">By default, Bun looks for test files starting from the current working directory. You can change this with the <code>root</code> option in your <code>bunfig.toml</code>:</span> <pre numberoflines="2" language="toml" data-language="typescript">[test]
root = "src"  # Only scan for tests in the src directory
</pre> <h2 id="execution-order"><span>Execution Order</span></h2> <span data-as="p">Tests are run in the following order:</span> <ol> <li>Test files are executed sequentially (not in parallel)</li> <li>Within each file, tests run sequentially based on their definition order</li> </ol>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/test/discovery" class="_attribution-link">https://bun.com/docs/test/discovery</a>
  </p>
</div>

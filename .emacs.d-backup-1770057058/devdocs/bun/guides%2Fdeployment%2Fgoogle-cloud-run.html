<h1 id="header">Deploy a Bun application on Google Cloud Run</h1>
<div data-page-title="Deploy a Bun application on Google Cloud Run" data-page-href="/guides/deployment/google-cloud-run" id="content">
<span data-as="p"><a href="https://cloud.google.com/run" target="_blank" rel="noreferrer">Google Cloud Run</a> is a managed platform for deploying and scaling serverless applications. Google handles the infrastructure for you.</span> <span data-as="p">In this guide, we will deploy a Bun HTTP server to Google Cloud Run using a <code>Dockerfile</code>.</span> <div data-callout-type="note">

<div data-component-part="callout-content">
<span data-as="p">Before continuing, make sure you have:</span><ul> <li>A Bun application ready for deployment</li> <li>A <a href="https://cloud.google.com/" target="_blank" rel="noreferrer">Google Cloud account</a> with billing enabled</li> <li>
<a href="https://cloud.google.com/sdk/docs/install" target="_blank" rel="noreferrer">Google Cloud CLI</a> installed and configured</li> </ul>
</div>
</div> <hr> <div role="list">
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>1</div></div>
<div>
<p contenteditable="false" data-component-part="step-title"><span>Initialize <code>gcloud</code> by select/creating a project</span></p>
<div data-component-part="step-content">
<span data-as="p">Make sure that youâ€™ve initialized the Google Cloud CLI. This command logs you in, and prompts you to either select an existing project or create a new one.</span><span data-as="p">For more help with the Google Cloud CLI, see the <a href="https://docs.cloud.google.com/sdk/gcloud/reference/init" target="_blank" rel="noreferrer">official documentation</a>.</span><pre numberoflines="1" language="shellscript" data-language="typescript">gcloud init
</pre>
<pre numberoflines="16" language="text" data-language="typescript">Welcome! This command will take you through the configuration of gcloud.

You must sign in to continue. Would you like to sign in (Y/n)? Y
You are signed in as [email@example.com].

Pick cloud project to use:
 [1] existing-bun-app-1234
 [2] Enter a project ID
 [3] Create a new project
Please enter numeric choice or text value (must exactly match list item): 3

Enter a Project ID. my-bun-app
Your current project has been set to: [my-bun-app]

The Google Cloud CLI is configured and ready to use!
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>2</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">(Optional) Store your project info in environment variables</p>
<div data-component-part="step-content">
<span data-as="p">Set variables for your project ID and number so theyâ€™re easier to reuse in the following steps.</span><pre numberoflines="4" language="shellscript" data-language="typescript">PROJECT_ID=$(gcloud projects list --format='value(projectId)' --filter='name="my bun app"')
PROJECT_NUMBER=$(gcloud projects list --format='value(projectNumber)' --filter='name="my bun app"')

echo $PROJECT_ID $PROJECT_NUMBER
</pre>
<pre numberoflines="2" language="text" data-language="typescript">my-bun-app-... [PROJECT_NUMBER]
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>3</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Link a billing account</p>
<div data-component-part="step-content">
<span data-as="p">List your available billing accounts and link one to your project:</span><pre numberoflines="1" language="shellscript" data-language="typescript">gcloud billing accounts list
</pre>
<pre numberoflines="3" language="text" data-language="typescript">ACCOUNT_ID            NAME                OPEN  MASTER_ACCOUNT_ID
[BILLING_ACCOUNT_ID]  My Billing Account  True
</pre>
<span data-as="p">Link your billing account to your project. Replace <code>[BILLING_ACCOUNT_ID]</code> with the ID of your billing account.</span><pre numberoflines="1" language="shellscript" data-language="typescript">gcloud billing projects link $PROJECT_ID --billing-account=[BILLING_ACCOUNT_ID]
</pre>
<pre numberoflines="5" language="text" data-language="typescript">billingAccountName: billingAccounts/[BILLING_ACCOUNT_ID]
billingEnabled: true
name: projects/my-bun-app-.../billingInfo
projectId: my-bun-app-...
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>4</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Enable APIs and configure IAM roles</p>
<div data-component-part="step-content">
<span data-as="p">Activate the necessary services and grant Cloud Build permissions:</span><pre numberoflines="4" language="shellscript" data-language="typescript">gcloud services enable run.googleapis.com cloudbuild.googleapis.com
gcloud projects add-iam-policy-binding $PROJECT_ID \
  --member=serviceAccount:$PROJECT_NUMBER-compute@developer.gserviceaccount.com \
  --role=roles/run.builder
</pre>
<div data-callout-type="note">

<div data-component-part="callout-content">
<span data-as="p">These commands enable Cloud Run (<code>run.googleapis.com</code>) and Cloud Build (<code>cloudbuild.googleapis.com</code>), which are required for deploying from source. Cloud Run runs your containerized app, while Cloud Build handles building and packaging it.</span><span data-as="p">The IAM binding grants the Compute Engine service account (<code>$PROJECT_NUMBER-compute@developer.gserviceaccount.com</code>) permission to build and deploy images on your behalf.</span>
</div>
</div>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>5</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Add a Dockerfile</p>
<div data-component-part="step-content">
<span data-as="p">Create a new <code>Dockerfile</code> in the root of your project. This file contains the instructions to initialize the container, copy your local project files into it, install dependencies, and start the application.</span><pre numberoflines="15" language="docker" data-language="typescript"># Use the official Bun image to run the application
FROM oven/bun:latest

# Copy the package.json and bun.lock into the container
COPY package.json bun.lock ./

# Install the dependencies
# Install the dependencies
RUN bun install --production --frozen-lockfile

# Copy the rest of the application into the container
COPY . .

# Run the application
CMD ["bun", "index.ts"]
</pre>
<div data-callout-type="note">

<div data-component-part="callout-content">
<span data-as="p">Make sure that the start command corresponds to your applicationâ€™s entry point. This can also be <code>CMD ["bun", "run", "start"]</code> if you have a start script in your <code>package.json</code>.</span><span data-as="p">This image installs dependencies and runs your app with Bun inside a container. If your app doesnâ€™t have dependencies, you can omit the <code>RUN bun install --production --frozen-lockfile</code> line.</span>
</div>
</div>
<span data-as="p">Create a new <code>.dockerignore</code> file in the root of your project. This file contains the files and directories that should be <em>excluded</em> from the container image, such as <code>node_modules</code>. This makes your builds faster and smaller:</span><pre numberoflines="10" language="docker" data-language="typescript">node_modules
Dockerfile*
.dockerignore
.git
.gitignore
README.md
LICENSE
.vscode
.env
# Any other files or directories you want to exclude
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>6</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Deploy your service</p>
<div data-component-part="step-content">
<span data-as="p">Make sure youâ€™re in the directory containing your <code>Dockerfile</code>, then deploy directly from your local source:</span><div data-callout-type="note">

<div data-component-part="callout-content"><span data-as="p">Update the <code>--region</code> flag to your preferred region. You can also omit this flag to get an interactive prompt to select a region.</span></div>
</div>
<pre numberoflines="1" language="shellscript" data-language="typescript">gcloud run deploy my-bun-app --source . --region=us-west1 --allow-unauthenticated
</pre>
<pre numberoflines="17" language="text" data-language="typescript">Deploying from source requires an Artifact Registry Docker repository to store built containers. A repository named
[cloud-run-source-deploy] in region [us-west1] will be created.

Do you want to continue (Y/n)? Y

Building using Dockerfile and deploying container to Cloud Run service [my-bun-app] in project [my-bun-app-...] region [us-west1]
âœ“ Building and deploying... Done.
  âœ“ Validating Service...
  âœ“ Uploading sources...
  âœ“ Building Container... Logs are available at [https://console.cloud.google.com/cloud-build/builds...].
  âœ“ Creating Revision...
  âœ“ Routing traffic...
  âœ“ Setting IAM Policy...
Done.
Service [my-bun-app] revision [my-bun-app-...] has been deployed and is serving 100 percent of traffic.
Service URL: https://my-bun-app-....us-west1.run.app
</pre>
</div>
</div>
</div>
<div role="listitem">

<div data-component-part="step-number" contenteditable="false"><div>7</div></div>
<div>
<p contenteditable="false" data-component-part="step-title">Visit your live application</p>
<div data-component-part="step-content">
<span data-as="p">ðŸŽ‰ Your Bun application is now live!</span><span data-as="p">Visit the Service URL (<code>https://my-bun-app-....us-west1.run.app</code>) to confirm everything works as expected.</span>
</div>
</div>
</div>
</div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/deployment/google-cloud-run" class="_attribution-link">https://bun.com/docs/guides/deployment/google-cloud-run</a>
  </p>
</div>

<h1 id="header">Configuring a monorepo using workspaces</h1>
<div data-page-title="Configuring a monorepo using workspaces" data-page-href="/guides/install/workspaces" id="content">
<span data-as="p">Bun’s package manager supports npm <code>"workspaces"</code>. This allows you to split a codebase into multiple distinct “packages” that live in the same repository, can depend on each other, and (when possible) share a <code>node_modules</code> directory.</span> <span data-as="p">Clone <a href="https://github.com/colinhacks/bun-workspaces" target="_blank" rel="noreferrer">this sample project</a> to experiment with workspaces.</span> <hr> <span data-as="p">The root <code>package.json</code> should not contain any <code>"dependencies"</code>, <code>"devDependencies"</code>, etc. Each individual package should be self-contained and declare its own dependencies. Similarly, it’s conventional to declare <code>"private": true</code> to avoid accidentally publishing the root package to <code>npm</code>.</span> <pre numberoflines="5" language="json" data-language="typescript">{
  "name": "my-monorepo",
  "private": true,
  "workspaces": ["packages/*"]
}
</pre> <hr> <span data-as="p">It’s common to place all packages in a <code>packages</code> directory. The <code>"workspaces"</code> field in package.json supports glob patterns, so you can use <code>packages/*</code> to indicate that each subdirectory of <code>packages</code> should be considered separate <em>package</em> (also known as a workspace).</span> <pre numberoflines="9" language="text" data-language="typescript">.
├── package.json
├── node_modules
└── packages
    ├── stuff-a
    │   └── package.json
    └── stuff-b
        └── package.json
</pre> <hr> <span data-as="p">To add dependencies between workspaces, use the <code>"workspace:*"</code> syntax. Here we’re adding <code>stuff-a</code> as a dependency of <code>stuff-b</code>.</span> <pre numberoflines="6" language="json" data-language="typescript">{
  "name": "stuff-b",
  "dependencies": {
    "stuff-a": "workspace:*"
  }
}
</pre> <hr> <span data-as="p">Once added, run <code>bun install</code> from the project root to install dependencies for all workspaces.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install
</pre> <hr> <span data-as="p">To add npm dependencies to a particular workspace, just <code>cd</code> to the appropriate directory and run <code>bun add</code> commands as you would normally. Bun will detect that you are in a workspace and hoist the dependency as needed.</span> <pre numberoflines="2" language="shellscript" data-language="typescript">cd packages/stuff-a
bun add zod
</pre> <hr> <span data-as="p">See <a href="../../pm/cli/install">Docs &gt; Package manager</a> for complete documentation of Bun’s package manager.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/install/workspaces" class="_attribution-link">https://bun.com/docs/guides/install/workspaces</a>
  </p>
</div>

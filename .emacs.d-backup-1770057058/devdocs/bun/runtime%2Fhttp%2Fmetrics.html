<h1 id="header">Metrics</h1>
<div data-page-title="Metrics" data-page-href="/runtime/http/metrics" id="content">
<h3 id="server-pendingrequests-and-server-pendingwebsockets"><span><code>server.pendingRequests</code> and <code>server.pendingWebSockets</code></span></h3> <span data-as="p">Monitor server activity with built-in counters:</span> <pre numberoflines="7" language="typescript" data-language="typescript">const server = Bun.serve({
  fetch(req, server) {
    return new Response(
      `Active requests: ${server.pendingRequests}\n` + `Active WebSockets: ${server.pendingWebSockets}`,
    );
  },
});
</pre> <h3 id="server-subscribercount-topic"><span><code>server.subscriberCount(topic)</code></span></h3> <span data-as="p">Get count of subscribers for a WebSocket topic:</span> <pre numberoflines="11" language="typescript" data-language="typescript">const server = Bun.serve({
  fetch(req, server) {
    const chatUsers = server.subscriberCount("chat");
    return new Response(`${chatUsers} users in chat`);
  },
  websocket: {
    message(ws) {
      ws.subscribe("chat");
    },
  },
});
</pre>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/runtime/http/metrics" class="_attribution-link">https://bun.com/docs/runtime/http/metrics</a>
  </p>
</div>

<h1 id="header">bun install</h1>
<div data-page-title="bun install" data-page-href="/pm/cli/install" id="content">
<h2 id="basic-usage"><span>Basic Usage</span></h2> <pre numberoflines="3" language="shellscript" data-language="typescript">bun install react
bun install react@19.1.1 # specific version
bun install react@latest # specific tag
</pre> <span data-as="p">The <code>bun</code> CLI contains a Node.js-compatible package manager designed to be a dramatically faster replacement for <code>npm</code>, <code>yarn</code>, and <code>pnpm</code>. It’s a standalone tool that will work in pre-existing Node.js projects; if your project has a <code>package.json</code>, <code>bun install</code> can help you speed up your workflow.</span> <div data-callout-type="note">

<div data-component-part="callout-content">
<span data-as="p"><strong>⚡️ 25x faster</strong> — Switch from <code>npm install</code> to <code>bun install</code> in any Node.js project to make your installations up to 25x faster.</span>
</div>
</div> <details><summary aria-controls="for-linux-users accordion children" aria-expanded="false" data-component-part="accordion-button">

<div contenteditable="false" data-component-part="accordion-title-container"><p data-component-part="accordion-title">For Linux users</p></div></summary><div id="for-linux-users accordion children" role="region" aria-labelledby="for-linux-users" data-component-part="accordion-content">
<span data-as="p">The recommended minimum Linux Kernel version is 5.6. If you’re on Linux kernel 5.1 - 5.5, <code>bun install</code> will work, but HTTP requests will be slow due to a lack of support for io_uring’s <code>connect()</code> operation.</span><span data-as="p">If you’re using Ubuntu 20.04, here’s how to install a <a href="https://wiki.ubuntu.com/Kernel/LTSEnablementStack" target="_blank" rel="noreferrer">newer kernel</a>:</span><pre numberoflines="5" language="shellscript" data-language="typescript"># If this returns a version &gt;= 5.6, you don't need to do anything
uname -r

# Install the official Ubuntu hardware enablement kernel
sudo apt install --install-recommends linux-generic-hwe-20.04
</pre>
</div></details> <span data-as="p">To install all dependencies of a project:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install
</pre> <span data-as="p">Running <code>bun install</code> will:</span> <ul> <li>
<strong>Install</strong> all <code>dependencies</code>, <code>devDependencies</code>, and <code>optionalDependencies</code>. Bun will install <code>peerDependencies</code> by default.</li> <li>
<strong>Run</strong> your project’s <code>{pre|post}install</code> and <code>{pre|post}prepare</code> scripts at the appropriate time. For security reasons Bun <em>does not execute</em> lifecycle scripts of installed dependencies.</li> <li>
<strong>Write</strong> a <code>bun.lock</code> lockfile to the project root.</li> </ul> <hr> <h2 id="logging"><span>Logging</span></h2> <span data-as="p">To modify logging verbosity:</span> <pre numberoflines="2" language="shellscript" data-language="typescript">bun install --verbose # debug logging
bun install --silent  # no logging
</pre> <hr> <h2 id="lifecycle-scripts"><span>Lifecycle scripts</span></h2> <span data-as="p">Unlike other npm clients, Bun does not execute arbitrary lifecycle scripts like <code>postinstall</code> for installed dependencies. Executing arbitrary scripts represents a potential security risk.</span> <span data-as="p">To tell Bun to allow lifecycle scripts for a particular package, add the package to <code>trustedDependencies</code> in your package.json.</span> <pre numberoflines="5" language="json" data-language="typescript">{
  "name": "my-app",
  "version": "1.0.0",
  "trustedDependencies": ["my-trusted-package"] 
}
</pre> <span data-as="p">Then re-install the package. Bun will read this field and run lifecycle scripts for <code>my-trusted-package</code>.</span> <span data-as="p">Lifecycle scripts will run in parallel during installation. To adjust the maximum number of concurrent scripts, use the <code>--concurrent-scripts</code> flag. The default is two times the reported cpu count or GOMAXPROCS.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --concurrent-scripts 5
</pre> <span data-as="p">Bun automatically optimizes postinstall scripts for popular packages (like <code>esbuild</code>, <code>sharp</code>, etc.) by determining which scripts need to run. To disable these optimizations:</span> <pre numberoflines="2" language="shellscript" data-language="typescript">BUN_FEATURE_FLAG_DISABLE_NATIVE_DEPENDENCY_LINKER=1 bun install
BUN_FEATURE_FLAG_DISABLE_IGNORE_SCRIPTS=1 bun install
</pre> <hr> <h2 id="workspaces"><span>Workspaces</span></h2> <span data-as="p">Bun supports <code>"workspaces"</code> in package.json. For complete documentation refer to <a href="../workspaces">Package manager &gt; Workspaces</a>.</span> <pre numberoflines="8" language="json" data-language="typescript">{
  "name": "my-app",
  "version": "1.0.0",
  "workspaces": ["packages/*"], 
  "dependencies": {
    "preact": "^10.5.13"
  }
}
</pre> <hr> <h2 id="installing-dependencies-for-specific-packages"><span>Installing dependencies for specific packages</span></h2> <span data-as="p">In a monorepo, you can install the dependencies for a subset of packages using the <code>--filter</code> flag.</span> <pre numberoflines="5" language="shellscript" data-language="typescript"># Install dependencies for all workspaces except `pkg-c`
bun install --filter '!pkg-c'

# Install dependencies for only `pkg-a` in `./packages/pkg-a`
bun install --filter './packages/pkg-a'
</pre> <span data-as="p">For more information on filtering with <code>bun install</code>, refer to <a href="../filter#bun-install-and-bun-outdated">Package Manager &gt; Filtering</a></span> <hr> <h2 id="overrides-and-resolutions"><span>Overrides and resolutions</span></h2> <span data-as="p">Bun supports npm’s <code>"overrides"</code> and Yarn’s <code>"resolutions"</code> in <code>package.json</code>. These are mechanisms for specifying a version range for <em>metadependencies</em>—the dependencies of your dependencies. Refer to <a href="../overrides">Package manager &gt; Overrides and resolutions</a> for complete documentation.</span> <pre numberoflines="9" language="json" data-language="typescript">{
  "name": "my-app",
  "dependencies": {
    "foo": "^2.0.0"
  },
  "overrides": { 
    "bar": "~4.4.0"
  } 
}
</pre> <hr> <h2 id="global-packages"><span>Global packages</span></h2> <span data-as="p">To install a package globally, use the <code>-g</code>/<code>--global</code> flag. Typically this is used for installing command-line tools.</span> <pre numberoflines="2" language="shellscript" data-language="typescript">bun install --global cowsay # or `bun install -g cowsay`
cowsay "Bun!"
</pre> <pre numberoflines="9" language="text" data-language="typescript"> ______
&lt; Bun! &gt;
 ------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
</pre> <hr> <h2 id="production-mode"><span>Production mode</span></h2> <span data-as="p">To install in production mode (i.e. without <code>devDependencies</code> or <code>optionalDependencies</code>):</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --production
</pre> <span data-as="p">For reproducible installs, use <code>--frozen-lockfile</code>. This will install the exact versions of each package specified in the lockfile. If your <code>package.json</code> disagrees with <code>bun.lock</code>, Bun will exit with an error. The lockfile will not be updated.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --frozen-lockfile
</pre> <span data-as="p">For more information on Bun’s lockfile <code>bun.lock</code>, refer to <a href="../lockfile">Package manager &gt; Lockfile</a>.</span> <hr> <h2 id="omitting-dependencies"><span>Omitting dependencies</span></h2> <span data-as="p">To omit dev, peer, or optional dependencies use the <code>--omit</code> flag.</span> <pre numberoflines="7" language="shellscript" data-language="typescript"># Exclude "devDependencies" from the installation. This will apply to the
# root package and workspaces if they exist. Transitive dependencies will
# not have "devDependencies".
bun install --omit dev

# Install only dependencies from "dependencies"
bun install --omit=dev --omit=peer --omit=optional
</pre> <hr> <h2 id="dry-run"><span>Dry run</span></h2> <span data-as="p">To perform a dry run (i.e. don’t actually install anything):</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --dry-run
</pre> <hr> <h2 id="non-npm-dependencies"><span>Non-npm dependencies</span></h2> <span data-as="p">Bun supports installing dependencies from Git, GitHub, and local or remotely-hosted tarballs. For complete documentation refer to <a href="add">Package manager &gt; Git, GitHub, and tarball dependencies</a>.</span> <pre numberoflines="10" language="json" data-language="typescript">{
  "dependencies": {
    "dayjs": "git+https://github.com/iamkun/dayjs.git",
    "lodash": "git+ssh://github.com/lodash/lodash.git#4.17.21",
    "moment": "git@github.com:moment/moment.git",
    "zod": "github:colinhacks/zod",
    "react": "https://registry.npmjs.org/react/-/react-18.2.0.tgz",
    "bun-types": "npm:@types/bun"
  }
}
</pre> <hr> <h2 id="installation-strategies"><span>Installation strategies</span></h2> <span data-as="p">Bun supports two package installation strategies that determine how dependencies are organized in <code>node_modules</code>:</span> <h3 id="hoisted-installs"><span>Hoisted installs</span></h3> <span data-as="p">The traditional npm/Yarn approach that flattens dependencies into a shared <code>node_modules</code> directory:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --linker hoisted
</pre> <h3 id="isolated-installs"><span>Isolated installs</span></h3> <span data-as="p">A pnpm-like approach that creates strict dependency isolation to prevent phantom dependencies:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --linker isolated
</pre> <span data-as="p">Isolated installs create a central package store in <code>node_modules/.bun/</code> with symlinks in the top-level <code>node_modules</code>. This ensures packages can only access their declared dependencies.</span> <h3 id="default-strategy"><span>Default strategy</span></h3> <span data-as="p">The default linker strategy depends on whether you’re starting fresh or have an existing project:</span> <ul> <li>
<strong>New workspaces/monorepos</strong>: <code>isolated</code> (prevents phantom dependencies)</li> <li>
<strong>New single-package projects</strong>: <code>hoisted</code> (traditional npm behavior)</li> <li>
<strong>Existing projects (made pre-v1.3.2)</strong>: <code>hoisted</code> (preserves backward compatibility)</li> </ul> <span data-as="p">The default is controlled by a <code>configVersion</code> field in your lockfile. For a detailed explanation, see <a href="../isolated-installs">Package manager &gt; Isolated installs</a>.</span> <hr> <h2 id="minimum-release-age"><span>Minimum release age</span></h2> <span data-as="p">To protect against supply chain attacks where malicious packages are quickly published, you can configure a minimum age requirement for npm packages. Package versions published more recently than the specified threshold (in seconds) will be filtered out during installation.</span> <pre numberoflines="2" language="shellscript" data-language="typescript"># Only install package versions published at least 3 days ago
bun add @types/bun --minimum-release-age 259200 # seconds
</pre> <span data-as="p">You can also configure this in <code>bunfig.toml</code>:</span> <pre numberoflines="6" language="toml" data-language="typescript">[install]
# Only install package versions published at least 3 days ago
minimumReleaseAge = 259200 # seconds

# Exclude trusted packages from the age gate
minimumReleaseAgeExcludes = ["@types/node", "typescript"]
</pre> <span data-as="p">When the minimum age filter is active:</span> <ul> <li>Only affects new package resolution - existing packages in <code>bun.lock</code> remain unchanged</li> <li>All dependencies (direct and transitive) are filtered to meet the age requirement when being resolved</li> <li>When versions are blocked by the age gate, a stability check detects rapid bugfix patterns <ul> <li>If multiple versions were published close together just outside your age gate, it extends the filter to skip those potentially unstable versions and selects an older, more mature version</li> <li>Searches up to 7 days after the age gate, however if still finding rapid releases it ignores stability check</li> <li>Exact version requests (like <code>package@1.1.1</code>) still respect the age gate but bypass the stability check</li> </ul> </li> <li>Versions without a <code>time</code> field are treated as passing the age check (npm registry should always provide timestamps)</li> </ul> <span data-as="p">For more advanced security scanning, including integration with services &amp; custom filtering, see <a href="../security-scanner-api">Package manager &gt; Security Scanner API</a>.</span> <hr> <h2 id="configuration"><span>Configuration</span></h2> <h3 id="configuring-bun-install-with-bunfig-toml"><span>Configuring <code>bun install</code> with <code>bunfig.toml</code></span></h3> <span data-as="p"><code>bunfig.toml</code> is searched for in the following paths on <code>bun install</code>, <code>bun remove</code>, and <code>bun add</code>:</span> <ol> <li>
<code>$XDG_CONFIG_HOME/.bunfig.toml</code> or <code>$HOME/.bunfig.toml</code>
</li> <li><code>./bunfig.toml</code></li> </ol> <span data-as="p">If both are found, the results are merged together.</span> <span data-as="p">Configuring with <code>bunfig.toml</code> is optional. Bun tries to be zero configuration in general, but that’s not always possible. The default behavior of <code>bun install</code> can be configured in <code>bunfig.toml</code>. The default values are shown below.</span> <pre numberoflines="36" language="toml" data-language="typescript">[install]

# whether to install optionalDependencies
optional = true

# whether to install devDependencies
dev = true

# whether to install peerDependencies
peer = true

# equivalent to `--production` flag
production = false

# equivalent to `--save-text-lockfile` flag
saveTextLockfile = false

# equivalent to `--frozen-lockfile` flag
frozenLockfile = false

# equivalent to `--dry-run` flag
dryRun = false

# equivalent to `--concurrent-scripts` flag
concurrentScripts = 16 # (cpu count or GOMAXPROCS) x2

# installation strategy: "hoisted" or "isolated"
# default depends on lockfile configVersion and workspaces:
# - configVersion = 1: "isolated" if using workspaces, otherwise "hoisted"
# - configVersion = 0: "hoisted"
linker = "hoisted"


# minimum age config
minimumReleaseAge = 259200 # seconds
minimumReleaseAgeExcludes = ["@types/node", "typescript"]
</pre> <h3 id="configuring-with-environment-variables"><span>Configuring with environment variables</span></h3> <span data-as="p">Environment variables have a higher priority than <code>bunfig.toml</code>.</span> <div data-table-wrapper="true"><div><table>
<thead><tr>
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>BUN_CONFIG_REGISTRY</code></td>
<td>Set an npm registry (default: <a href="https://registry.npmjs.org" target="_blank" rel="noreferrer">https://registry.npmjs.org</a>)</td>
</tr>
<tr>
<td><code>BUN_CONFIG_TOKEN</code></td>
<td>Set an auth token (currently does nothing)</td>
</tr>
<tr>
<td><code>BUN_CONFIG_YARN_LOCKFILE</code></td>
<td>Save a Yarn v1-style yarn.lock</td>
</tr>
<tr>
<td><code>BUN_CONFIG_LINK_NATIVE_BINS</code></td>
<td>Point <code>bin</code> in package.json to a platform-specific dependency</td>
</tr>
<tr>
<td><code>BUN_CONFIG_SKIP_SAVE_LOCKFILE</code></td>
<td>Don’t save a lockfile</td>
</tr>
<tr>
<td><code>BUN_CONFIG_SKIP_LOAD_LOCKFILE</code></td>
<td>Don’t load a lockfile</td>
</tr>
<tr>
<td><code>BUN_CONFIG_SKIP_INSTALL_PACKAGES</code></td>
<td>Don’t install any packages</td>
</tr>
</tbody>
</table></div></div> <span data-as="p">Bun always tries to use the fastest available installation method for the target platform. On macOS, that’s <code>clonefile</code> and on Linux, that’s <code>hardlink</code>. You can change which installation method is used with the <code>--backend</code> flag. When unavailable or on error, <code>clonefile</code> and <code>hardlink</code> fallsback to a platform-specific implementation of copying files.</span> <span data-as="p">Bun stores installed packages from npm in <code>~/.bun/install/cache/${name}@${version}</code>. Note that if the semver version has a <code>build</code> or a <code>pre</code> tag, it is replaced with a hash of that value instead. This is to reduce the chances of errors from long file paths, but unfortunately complicates figuring out where a package was installed on disk.</span> <span data-as="p">When the <code>node_modules</code> folder exists, before installing, Bun checks if the <code>"name"</code> and <code>"version"</code> in <code>package/package.json</code> in the expected node_modules folder matches the expected <code>name</code> and <code>version</code>. This is how it determines whether it should install. It uses a custom JSON parser which stops parsing as soon as it finds <code>"name"</code> and <code>"version"</code>.</span> <span data-as="p">When a <code>bun.lock</code> doesn’t exist or <code>package.json</code> has changed dependencies, tarballs are downloaded &amp; extracted eagerly while resolving.</span> <span data-as="p">When a <code>bun.lock</code> exists and <code>package.json</code> hasn’t changed, Bun downloads missing dependencies lazily. If the package with a matching <code>name</code> &amp; <code>version</code> already exists in the expected location within <code>node_modules</code>, Bun won’t attempt to download the tarball.</span> <h2 id="ci/cd"><span>CI/CD</span></h2> <span data-as="p">Use the official <a href="https://github.com/oven-sh/setup-bun" target="_blank" rel="noreferrer"><code>oven-sh/setup-bun</code></a> action to install <code>bun</code> in a GitHub Actions pipeline:</span> <pre numberoflines="14" language="yaml" data-language="typescript">name: bun-types
jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
      - name: Install bun
        uses: oven-sh/setup-bun@v2
      - name: Install dependencies
        run: bun install
      - name: Build app
        run: bun run build
</pre> <span data-as="p">For CI/CD environments that want to enforce reproducible builds, use <code>bun ci</code> to fail the build if the package.json is out of sync with the lockfile:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun ci
</pre> <span data-as="p">This is equivalent to <code>bun install --frozen-lockfile</code>. It installs exact versions from <code>bun.lock</code> and fails if <code>package.json</code> doesn’t match the lockfile. To use <code>bun ci</code> or <code>bun install --frozen-lockfile</code>, you must commit <code>bun.lock</code> to version control.</span> <span data-as="p">And instead of running <code>bun install</code>, run <code>bun ci</code>.</span> <pre numberoflines="14" language="yaml" data-language="typescript">name: bun-types
jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
      - name: Install bun
        uses: oven-sh/setup-bun@v2
      - name: Install dependencies
        run: bun ci
      - name: Build app
        run: bun run build
</pre> <h2 id="platform-specific-dependencies"><span>Platform-specific dependencies?</span></h2> <span data-as="p">bun stores normalized <code>cpu</code> and <code>os</code> values from npm in the lockfile, along with the resolved packages. It skips downloading, extracting, and installing packages disabled for the current target at runtime. This means the lockfile won’t change between platforms/architectures even if the packages ultimately installed do change.</span> <h3 id="cpu-and-os-flags"><span><code>--cpu</code> and <code>--os</code> flags</span></h3> <span data-as="p">You can override the target platform for package selection:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install --cpu=x64 --os=linux
</pre> <span data-as="p">This installs packages for the specified platform instead of the current system. Useful for cross-platform builds or when preparing deployments for different environments.</span> <span data-as="p"><strong>Accepted values for <code>--cpu</code></strong>: <code>arm64</code>, <code>x64</code>, <code>ia32</code>, <code>ppc64</code>, <code>s390x</code></span> <span data-as="p"><strong>Accepted values for <code>--os</code></strong>: <code>linux</code>, <code>darwin</code>, <code>win32</code>, <code>freebsd</code>, <code>openbsd</code>, <code>sunos</code>, <code>aix</code></span> <h2 id="peer-dependencies"><span>Peer dependencies?</span></h2> <span data-as="p">Peer dependencies are handled similarly to yarn. <code>bun install</code> will automatically install peer dependencies. If the dependency is marked optional in <code>peerDependenciesMeta</code>, an existing dependency will be chosen if possible.</span> <h2 id="lockfile"><span>Lockfile</span></h2> <span data-as="p"><code>bun.lock</code> is Bun’s lockfile format. See <a href="https://bun.com/blog/bun-lock-text-lockfile" target="_blank" rel="noreferrer">our blogpost about the text lockfile</a>.</span> <span data-as="p">Prior to Bun 1.2, the lockfile was binary and called <code>bun.lockb</code>. Old lockfiles can be upgraded to the new format by running <code>bun install --save-text-lockfile --frozen-lockfile --lockfile-only</code>, and then deleting <code>bun.lockb</code>.</span> <h2 id="cache"><span>Cache</span></h2> <span data-as="p">To delete the cache:</span> <pre numberoflines="3" language="shellscript" data-language="typescript">bun pm cache rm
# or
rm -rf ~/.bun/install/cache
</pre> <h2 id="platform-specific-backends"><span>Platform-specific backends</span></h2> <span data-as="p"><code>bun install</code> uses different system calls to install dependencies depending on the platform. This is a performance optimization. You can force a specific backend with the <code>--backend</code> flag.</span> <span data-as="p"><strong><code>hardlink</code></strong> is the default backend on Linux. Benchmarking showed it to be the fastest on Linux.</span> <pre numberoflines="2" language="shellscript" data-language="typescript">rm -rf node_modules
bun install --backend hardlink
</pre> <span data-as="p"><strong><code>clonefile</code></strong> is the default backend on macOS. Benchmarking showed it to be the fastest on macOS. It is only available on macOS.</span> <pre numberoflines="2" language="shellscript" data-language="typescript">rm -rf node_modules
bun install --backend clonefile
</pre> <span data-as="p"><strong><code>clonefile_each_dir</code></strong> is similar to <code>clonefile</code>, except it clones each file individually per directory. It is only available on macOS and tends to perform slower than <code>clonefile</code>. Unlike <code>clonefile</code>, this does not recursively clone subdirectories in one system call.</span> <pre numberoflines="2" language="shellscript" data-language="typescript">rm -rf node_modules
bun install --backend clonefile_each_dir
</pre> <span data-as="p"><strong><code>copyfile</code></strong> is the fallback used when any of the above fail, and is the slowest. on macOS, it uses <code>fcopyfile()</code> and on linux it uses <code>copy_file_range()</code>.</span> <pre numberoflines="2" language="shellscript" data-language="typescript">rm -rf node_modules
bun install --backend copyfile
</pre> <span data-as="p"><strong><code>symlink</code></strong> is typically only used for <code>file:</code> dependencies (and eventually <code>link:</code>) internally. To prevent infinite loops, it skips symlinking the <code>node_modules</code> folder.</span> <span data-as="p">If you install with <code>--backend=symlink</code>, Node.js won’t resolve node_modules of dependencies unless each dependency has its own node_modules folder or you pass <code>--preserve-symlinks</code> to <code>node</code> or <code>bun</code>. See <a href="https://nodejs.org/api/cli.html#--preserve-symlinks" target="_blank" rel="noreferrer">Node.js documentation on <code>--preserve-symlinks</code></a>.</span> <pre numberoflines="4" language="shellscript" data-language="typescript">rm -rf node_modules
bun install --backend symlink
bun --preserve-symlinks ./my-file.js
node --preserve-symlinks ./my-file.js # https://nodejs.org/api/cli.html#--preserve-symlinks
</pre> <h2 id="npm-registry-metadata"><span>npm registry metadata</span></h2> <span data-as="p">Bun uses a binary format for caching NPM registry responses. This loads much faster than JSON and tends to be smaller on disk. You will see these files in <code>~/.bun/install/cache/*.npm</code>. The filename pattern is <code>${hash(packageName)}.npm</code>. It’s a hash so that extra directories don’t need to be created for scoped packages.</span> <span data-as="p">Bun’s usage of <code>Cache-Control</code> ignores <code>Age</code>. This improves performance, but means bun may be about 5 minutes out of date to receive the latest package version metadata from npm.</span> <h2 id="pnpm-migration"><span>pnpm migration</span></h2> <span data-as="p">Bun automatically migrates projects from pnpm to bun. When a <code>pnpm-lock.yaml</code> file is detected and no <code>bun.lock</code> file exists, Bun will automatically migrate the lockfile to <code>bun.lock</code> during installation. The original <code>pnpm-lock.yaml</code> file remains unmodified.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install
</pre> <span data-as="p"><strong>Note</strong>: Migration only runs when <code>bun.lock</code> is absent. There is currently no opt-out flag for pnpm migration.</span> <span data-as="p">The migration process handles:</span> <h3 id="lockfile-migration"><span>Lockfile Migration</span></h3> <ul> <li>Converts <code>pnpm-lock.yaml</code> to <code>bun.lock</code> format</li> <li>Preserves package versions and resolution information</li> <li>Maintains dependency relationships and peer dependencies</li> <li>Handles patched dependencies with integrity hashes</li> </ul> <h3 id="workspace-configuration"><span>Workspace Configuration</span></h3> <span data-as="p">When a <code>pnpm-workspace.yaml</code> file exists, Bun migrates workspace settings to your root <code>package.json</code>:</span> <pre numberoflines="12" language="yaml" data-language="typescript">packages:
  - "apps/*"
  - "packages/*"

catalog:
  react: ^18.0.0
  typescript: ^5.0.0

catalogs:
  build:
    webpack: ^5.0.0
    babel: ^7.0.0
</pre> <span data-as="p">The workspace packages list and catalogs are moved to the <code>workspaces</code> field in <code>package.json</code>:</span> <pre numberoflines="15" language="json" data-language="typescript">{
  "workspaces": {
    "packages": ["apps/*", "packages/*"],
    "catalog": {
      "react": "^18.0.0",
      "typescript": "^5.0.0"
    },
    "catalogs": {
      "build": {
        "webpack": "^5.0.0",
        "babel": "^7.0.0"
      }
    }
  }
}
</pre> <h3 id="catalog-dependencies"><span>Catalog Dependencies</span></h3> <span data-as="p">Dependencies using pnpm’s <code>catalog:</code> protocol are preserved:</span> <pre numberoflines="6" language="json" data-language="typescript">{
  "dependencies": {
    "react": "catalog:",
    "webpack": "catalog:build"
  }
}
</pre> <h3 id="configuration-migration"><span>Configuration Migration</span></h3> <span data-as="p">The following pnpm configuration is migrated from both <code>pnpm-lock.yaml</code> and <code>pnpm-workspace.yaml</code>:</span> <ul> <li>
<strong>Overrides</strong>: Moved from <code>pnpm.overrides</code> to root-level <code>overrides</code> in <code>package.json</code>
</li> <li>
<strong>Patched Dependencies</strong>: Moved from <code>pnpm.patchedDependencies</code> to root-level <code>patchedDependencies</code> in <code>package.json</code>
</li> <li>
<strong>Workspace Overrides</strong>: Applied from <code>pnpm-workspace.yaml</code> to root <code>package.json</code>
</li> </ul> <h3 id="requirements"><span>Requirements</span></h3> <ul> <li>Requires pnpm lockfile version 7 or higher</li> <li>Workspace packages must have a <code>name</code> field in their <code>package.json</code>
</li> <li>All catalog entries referenced by dependencies must exist in the catalogs definition</li> </ul> <span data-as="p">After migration, you can safely remove <code>pnpm-lock.yaml</code> and <code>pnpm-workspace.yaml</code> files.</span> <hr> <h2 id="cli-usage"><span>CLI Usage</span></h2> <pre numberoflines="1" language="shellscript" data-language="typescript">bun install &lt;name&gt;@&lt;version&gt;
</pre> <h3 id="general-configuration"><span>General Configuration</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-config">--configstring</code><div data-component-part="field-content"><span data-as="p">Specify path to config file (bunfig.toml)</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-cwd">--cwdstring</code><div data-component-part="field-content"><span data-as="p">Set a specific cwd</span></div>
</div> <h3 id="dependency-scope-&amp;-management"><span>Dependency Scope &amp; Management</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-production">--productionboolean</code><div data-component-part="field-content"><span data-as="p">Don’t install devDependencies</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-no-save">--no-saveboolean</code><div data-component-part="field-content"><span data-as="p">Don’t update package.json or save a lockfile</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-save">--savebooleandefault:"true"</code><div data-component-part="field-content"><span data-as="p">Save to package.json</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-omit">--omitstring</code><div data-component-part="field-content"><span data-as="p">Exclude ‘dev’, ‘optional’, or ‘peer’ dependencies from install</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-only-missing">--only-missingboolean</code><div data-component-part="field-content"><span data-as="p">Only add dependencies to package.json if they are not already present</span></div>
</div> <h3 id="dependency-type-&amp;-versioning"><span>Dependency Type &amp; Versioning</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-dev">--devboolean</code><div data-component-part="field-content"><span data-as="p">Add dependency to “devDependencies”</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-optional">--optionalboolean</code><div data-component-part="field-content"><span data-as="p">Add dependency to “optionalDependencies”</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-peer">--peerboolean</code><div data-component-part="field-content"><span data-as="p">Add dependency to “peerDependencies”</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-exact">--exactboolean</code><div data-component-part="field-content"><span data-as="p">Add the exact version instead of the ^range</span></div>
</div> <h3 id="lockfile-control"><span>Lockfile Control</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-yarn">--yarnboolean</code><div data-component-part="field-content"><span data-as="p">Write a yarn.lock file (yarn v1)</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-frozen-lockfile">--frozen-lockfileboolean</code><div data-component-part="field-content"><span data-as="p">Disallow changes to lockfile</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-save-text-lockfile">--save-text-lockfileboolean</code><div data-component-part="field-content"><span data-as="p">Save a text-based lockfile</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-lockfile-only">--lockfile-onlyboolean</code><div data-component-part="field-content"><span data-as="p">Generate a lockfile without installing dependencies</span></div>
</div> <h3 id="network-&amp;-registry-settings"><span>Network &amp; Registry Settings</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-ca">--castring</code><div data-component-part="field-content"><span data-as="p">Provide a Certificate Authority signing certificate</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-cafile">--cafilestring</code><div data-component-part="field-content"><span data-as="p">File path to Certificate Authority signing certificate</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-registry">--registrystring</code><div data-component-part="field-content"><span data-as="p">Use a specific registry by default, overriding .npmrc, bunfig.toml and environment variables</span></div>
</div> <h3 id="installation-process-control"><span>Installation Process Control</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-dry-run">--dry-runboolean</code><div data-component-part="field-content"><span data-as="p">Don’t install anything</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-force">--forceboolean</code><div data-component-part="field-content"><span data-as="p">Always request the latest versions from the registry &amp; reinstall all dependencies</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-global">--globalboolean</code><div data-component-part="field-content"><span data-as="p">Install globally</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-backend">--backendstringdefault:"clonefile"</code><div data-component-part="field-content"><span data-as="p">Platform-specific optimizations: “clonefile”, “hardlink”, “symlink”, “copyfile”</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-filter">--filterstring</code><div data-component-part="field-content"><span data-as="p">Install packages for the matching workspaces</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-analyze">--analyzeboolean</code><div data-component-part="field-content"><span data-as="p">Analyze &amp; install all dependencies of files passed as arguments recursively</span></div>
</div> <h3 id="caching-options"><span>Caching Options</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-cache-dir">--cache-dirstring</code><div data-component-part="field-content"><span data-as="p">Store &amp; load cached data from a specific directory path</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-no-cache">--no-cacheboolean</code><div data-component-part="field-content"><span data-as="p">Ignore manifest cache entirely</span></div>
</div> <h3 id="output-&amp;-logging"><span>Output &amp; Logging</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-silent">--silentboolean</code><div data-component-part="field-content"><span data-as="p">Don’t log anything</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-verbose">--verboseboolean</code><div data-component-part="field-content"><span data-as="p">Excessively verbose logging</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-no-progress">--no-progressboolean</code><div data-component-part="field-content"><span data-as="p">Disable the progress bar</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-no-summary">--no-summaryboolean</code><div data-component-part="field-content"><span data-as="p">Don’t print a summary</span></div>
</div> <h3 id="security-&amp;-integrity"><span>Security &amp; Integrity</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-no-verify">--no-verifyboolean</code><div data-component-part="field-content"><span data-as="p">Skip verifying integrity of newly downloaded packages</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-trust">--trustboolean</code><div data-component-part="field-content"><span data-as="p">Add to trustedDependencies in the project’s package.json and install the package(s)</span></div>
</div> <h3 id="concurrency-&amp;-performance"><span>Concurrency &amp; Performance</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-concurrent-scripts">--concurrent-scriptsnumberdefault:"5"</code><div data-component-part="field-content"><span data-as="p">Maximum number of concurrent jobs for lifecycle scripts</span></div>
</div> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-network-concurrency">--network-concurrencynumberdefault:"48"</code><div data-component-part="field-content"><span data-as="p">Maximum number of concurrent network requests</span></div>
</div> <h3 id="lifecycle-script-management"><span>Lifecycle Script Management</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-ignore-scripts">--ignore-scriptsboolean</code><div data-component-part="field-content"><span data-as="p">Skip lifecycle scripts in the project’s package.json (dependency scripts are never run)</span></div>
</div> <h3 id="help-information"><span>Help Information</span></h3> <div>
<code class="flex font-mono text-sm group/param-head param-head break-all relative" id="param-help">--helpboolean</code><div data-component-part="field-content"><span data-as="p">Print this help menu</span></div>
</div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/pm/cli/install" class="_attribution-link">https://bun.com/docs/pm/cli/install</a>
  </p>
</div>

<h1 id="header">Using bun install with an Azure Artifacts npm registry</h1>
<div data-page-title="Using bun install with an Azure Artifacts npm registry" data-page-href="/guides/install/azure-artifacts" id="content">
<div data-callout-type="note">

<div data-component-part="callout-content"><span data-as="p">In <a href="https://learn.microsoft.com/en-us/azure/devops/artifacts/npm/npmrc?view=azure-devops&amp;tabs=windows%2Cclassic" target="_blank" rel="noreferrer">Azure Artifact’s</a> instructions for <code>.npmrc</code>, they say to base64 encode the password. Do not do this for <code>bun install</code>. Bun will automatically base64 encode the password for you if needed.</span></div>
</div> <span data-as="p"><a href="https://azure.microsoft.com/en-us/products/devops/artifacts" target="_blank" rel="noreferrer">Azure Artifacts</a> is a package management system for Azure DevOps. It allows you to host your own private npm registry, npm packages, and other types of packages as well.</span> <hr> <h3 id="configure-with-bunfig-toml"><span>Configure with bunfig.toml</span></h3> <hr> <span data-as="p">To use it with <code>bun install</code>, add a <code>bunfig.toml</code> file to your project with the following contents. Make sure to replace <code>my-azure-artifacts-user</code> with your Azure Artifacts username, such as <code>jarred1234</code>.</span> <pre numberoflines="5" language="toml" data-language="typescript">[install.registry]
url = "https://pkgs.dev.azure.com/my-azure-artifacts-user/_packaging/my-azure-artifacts-user/npm/registry"
username = "my-azure-artifacts-user"
# You can use an environment variable here
password = "$NPM_PASSWORD"
</pre> <hr> <span data-as="p">Then assign your Azure Personal Access Token to the <code>NPM_PASSWORD</code> environment variable. Bun <a href="../../runtime/environment-variables">automatically reads</a> <code>.env</code> files, so create a file called <code>.env</code> in your project root. There is no need to base-64 encode this token! Bun will do this for you.</span> <pre numberoflines="1" language="ini" data-language="typescript">NPM_PASSWORD=&lt;paste token here&gt;
</pre> <hr> <h3 id="configure-with-environment-variables"><span>Configure with environment variables</span></h3> <hr> <span data-as="p">To configure Azure Artifacts without <code>bunfig.toml</code>, you can set the <code>NPM_CONFIG_REGISTRY</code> environment variable. The URL should include <code>:username</code> and <code>:_password</code> as query parameters. Replace <code>&lt;USERNAME&gt;</code> and <code>&lt;PASSWORD&gt;</code> with the appropriate values.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">NPM_CONFIG_REGISTRY=https://pkgs.dev.azure.com/my-azure-artifacts-user/_packaging/my-azure-artifacts-user/npm/registry/:username=&lt;USERNAME&gt;:_password=&lt;PASSWORD&gt;
</pre> <hr> <h3 id="don’t-base64-encode-the-password"><span>Don’t base64 encode the password</span></h3> <hr> <span data-as="p">In <a href="https://learn.microsoft.com/en-us/azure/devops/artifacts/npm/npmrc?view=azure-devops&amp;tabs=windows%2Cclassic" target="_blank" rel="noreferrer">Azure Artifact’s</a> instructions for <code>.npmrc</code>, they say to base64 encode the password. Do not do this for <code>bun install</code>. Bun will automatically base64 encode the password for you if needed.</span> <div data-callout-type="note">

<div data-component-part="callout-content">
<strong>Tip</strong> — If it ends with <code>==</code>, it probably is base64 encoded.</div>
</div> <hr> <span data-as="p">To decode a base64-encoded password, open your browser console and run:</span> <pre numberoflines="1" language="javascript" data-language="typescript">atob("&lt;base64-encoded password&gt;");
</pre> <hr> <span data-as="p">Alternatively, use the <code>base64</code> command line tool, but doing so means it may be saved in your terminal history which is not recommended:</span> <pre numberoflines="1" language="shellscript" data-language="typescript">echo "base64-encoded-password" | base64 --decode
</pre>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/install/azure-artifacts" class="_attribution-link">https://bun.com/docs/guides/install/azure-artifacts</a>
  </p>
</div>

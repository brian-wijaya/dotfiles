<h1 id="header">TLS</h1>
<div data-page-title="TLS" data-page-href="/runtime/http/tls" id="content">
<span data-as="p">Bun supports TLS out of the box, powered by <a href="https://boringssl.googlesource.com/boringssl" target="_blank" rel="noreferrer">BoringSSL</a>. Enable TLS by passing in a value for <code>key</code> and <code>cert</code>; both are required to enable TLS.</span> <pre numberoflines="6" language="typescript" data-language="typescript">Bun.serve({
  tls: {
    key: Bun.file("./key.pem"), 
    cert: Bun.file("./cert.pem"), 
  },
});
</pre> <span data-as="p">The <code>key</code> and <code>cert</code> fields expect the <em>contents</em> of your TLS key and certificate, <em>not a path to it</em>. This can be a string, <code>BunFile</code>, <code>TypedArray</code>, or <code>Buffer</code>.</span> <pre numberoflines="8" language="typescript" data-language="typescript">Bun.serve({
  tls: {
    key: Bun.file("./key.pem"), // BunFile
    key: fs.readFileSync("./key.pem"), // Buffer
    key: fs.readFileSync("./key.pem", "utf8"), // string
    key: [Bun.file("./key1.pem"), Bun.file("./key2.pem")], // array of above
  },
});
</pre> <h3 id="passphrase"><span>Passphrase</span></h3> <span data-as="p">If your private key is encrypted with a passphrase, provide a value for <code>passphrase</code> to decrypt it.</span> <pre numberoflines="7" language="typescript" data-language="typescript">Bun.serve({
  tls: {
    key: Bun.file("./key.pem"),
    cert: Bun.file("./cert.pem"),
    passphrase: "my-secret-passphrase", 
  },
});
</pre> <h3 id="ca-certificates"><span>CA Certificates</span></h3> <span data-as="p">Optionally, you can override the trusted CA certificates by passing a value for <code>ca</code>. By default, the server will trust the list of well-known CAs curated by Mozilla. When <code>ca</code> is specified, the Mozilla list is overwritten.</span> <pre numberoflines="7" language="typescript" data-language="typescript">Bun.serve({
  tls: {
    key: Bun.file("./key.pem"), // path to TLS key
    cert: Bun.file("./cert.pem"), // path to TLS cert
    ca: Bun.file("./ca.pem"), // path to root CA certificate
  },
});
</pre> <h3 id="diffie-hellman"><span>Diffie-Hellman</span></h3> <span data-as="p">To override Diffie-Hellman parameters:</span> <pre numberoflines="5" language="typescript" data-language="typescript">Bun.serve({
  tls: {
    dhParamsFile: "/path/to/dhparams.pem", // path to Diffie Hellman parameters
  },
});
</pre> <hr> <h2 id="server-name-indication-sni"><span>Server name indication (SNI)</span></h2> <span data-as="p">To configure the server name indication (SNI) for the server, set the <code>serverName</code> field in the <code>tls</code> object.</span> <pre numberoflines="5" language="typescript" data-language="typescript">Bun.serve({
  tls: {
    serverName: "my-server.com", // SNI
  },
});
</pre> <span data-as="p">To allow multiple server names, pass an array of objects to <code>tls</code>, each with a <code>serverName</code> field.</span> <pre numberoflines="14" language="typescript" data-language="typescript">Bun.serve({
  tls: [
    {
      key: Bun.file("./key1.pem"),
      cert: Bun.file("./cert1.pem"),
      serverName: "my-server1.com", 
    },
    {
      key: Bun.file("./key2.pem"),
      cert: Bun.file("./cert2.pem"),
      serverName: "my-server2.com", 
    },
  ],
});
</pre>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/runtime/http/tls" class="_attribution-link">https://bun.com/docs/runtime/http/tls</a>
  </p>
</div>

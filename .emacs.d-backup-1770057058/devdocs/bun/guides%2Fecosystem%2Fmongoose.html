<h1 id="header">Read and write data to MongoDB using Mongoose and Bun</h1>
<div data-page-title="Read and write data to MongoDB using Mongoose and Bun" data-page-href="/guides/ecosystem/mongoose" id="content">
<span data-as="p">MongoDB and Mongoose work out of the box with Bun. This guide assumes you’ve already installed MongoDB and are running it as background process/service on your development machine. Follow <a href="https://www.mongodb.com/docs/manual/installation/" target="_blank" rel="noreferrer">this guide</a> for details.</span> <hr> <span data-as="p">Once MongoDB is running, create a directory and initialize it with <code>bun init</code>.</span> <pre numberoflines="3" language="shellscript" data-language="typescript">mkdir mongoose-app
cd mongoose-app
bun init
</pre> <hr> <span data-as="p">Then add Mongoose as a dependency.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun add mongoose
</pre> <hr> <span data-as="p">In <code>schema.ts</code> we’ll declare and export a simple <code>Animal</code> model.</span> <pre numberoflines="18" language="typescript" data-language="typescript">import * as mongoose from "mongoose";

const animalSchema = new mongoose.Schema(
  {
    title: { type: String, required: true },
    sound: { type: String, required: true },
  },
  {
    methods: {
      speak() {
        console.log(`${this.sound}!`);
      },
    },
  },
);

export type Animal = mongoose.InferSchemaType&lt;typeof animalSchema&gt;;
export const Animal = mongoose.model("Animal", animalSchema);
</pre> <hr> <span data-as="p">Now from <code>index.ts</code> we can import <code>Animal</code>, connect to MongoDB, and add some data to our database.</span> <pre numberoflines="19" language="typescript" data-language="typescript">import * as mongoose from "mongoose";
import { Animal } from "./schema";

// connect to database
await mongoose.connect("mongodb://127.0.0.1:27017/mongoose-app");

// create new Animal
const cow = new Animal({
  title: "Cow",
  sound: "Moo",
});
await cow.save(); // saves to the database

// read all Animals
const animals = await Animal.find();
animals[0].speak(); // logs "Moo!"

// disconnect
await mongoose.disconnect();
</pre> <hr> <span data-as="p">Let’s run this with <code>bun run</code>.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun run index.ts
</pre> <pre numberoflines="2" language="text" data-language="typescript">Moo!
</pre> <hr> <span data-as="p">This is a simple introduction to using Mongoose with TypeScript and Bun. As you build your application, refer to the official <a href="https://www.mongodb.com/docs" target="_blank" rel="noreferrer">MongoDB</a> and <a href="https://mongoosejs.com/docs/" target="_blank" rel="noreferrer">Mongoose</a> sites for complete documentation.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/ecosystem/mongoose" class="_attribution-link">https://bun.com/docs/guides/ecosystem/mongoose</a>
  </p>
</div>

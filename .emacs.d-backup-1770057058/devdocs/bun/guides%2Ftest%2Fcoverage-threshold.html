<h1 id="header">Set a code coverage threshold with the Bun test runner</h1>
<div data-page-title="Set a code coverage threshold with the Bun test runner" data-page-href="/guides/test/coverage-threshold" id="content">
<span data-as="p">Bun’s test runner supports built-in code coverage reporting via the <code>--coverage</code> flag.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun test --coverage
</pre> <pre numberoflines="16" language="text" data-language="typescript">test.test.ts:
✓ math &gt; add [0.71ms]
✓ math &gt; multiply [0.03ms]
✓ random [0.13ms]
-------------|---------|---------|-------------------
File         | % Funcs | % Lines | Uncovered Line #s
-------------|---------|---------|-------------------
All files    |   66.67 |   77.78 |
 math.ts     |   50.00 |   66.67 |
 random.ts   |   50.00 |   66.67 |
-------------|---------|---------|-------------------

 3 pass
 0 fail
 3 expect() calls
</pre> <hr> <span data-as="p">To set a minimum coverage threshold, add the following line to your <code>bunfig.toml</code>. This requires that 90% of your codebase is covered by tests.</span> <pre numberoflines="3" language="toml" data-language="typescript">[test]
# to require 90% line-level and function-level coverage
coverageThreshold = 0.9
</pre> <hr> <span data-as="p">If your test suite does not meet this threshold, <code>bun test</code> will exit with a non-zero exit code to signal a failure.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun test --coverage
</pre> <pre numberoflines="4" language="text" data-language="typescript">&lt;test output&gt;
$ echo $?
1 # this is the exit code of the previous command
</pre> <hr> <span data-as="p">Different thresholds can be set for line-level and function-level coverage.</span> <pre numberoflines="3" language="toml" data-language="typescript">[test]
# to set different thresholds for lines and functions
coverageThreshold = { lines = 0.5, functions = 0.7 }
</pre> <hr> <span data-as="p">See <a href="../../test/code-coverage">Docs &gt; Test runner &gt; Coverage</a> for complete documentation on code coverage reporting in Bun.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/test/coverage-threshold" class="_attribution-link">https://bun.com/docs/guides/test/coverage-threshold</a>
  </p>
</div>

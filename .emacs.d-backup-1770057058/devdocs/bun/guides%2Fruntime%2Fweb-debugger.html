<h1 id="header">Debugging Bun with the web debugger</h1>
<div data-page-title="Debugging Bun with the web debugger" data-page-href="/guides/runtime/web-debugger" id="content">
<span data-as="p">Bun speaks the <a href="https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/src/protocol/jsc/index.d.ts" target="_blank" rel="noreferrer">WebKit Inspector Protocol</a>. To enable debugging when running code with Bun, use the <code>--inspect</code> flag. For demonstration purposes, consider the following simple web server.</span> <pre numberoflines="6" language="typescript" data-language="typescript">Bun.serve({
  fetch(req) {
    console.log(req.url);
    return new Response("Hello, world!");
  },
});
</pre> <hr> <span data-as="p">Let’s run this file with the <code>--inspect</code> flag.</span> <span data-as="p">This automatically starts a WebSocket server on an available port that can be used to introspect the running Bun process. Various debugging tools can connect to this server to provide an interactive debugging experience.</span> <span data-as="p">Bun hosts a web-based debugger at <a href="https://debug.bun.sh" target="_blank" rel="noreferrer">debug.bun.sh</a>. It is a modified version of WebKit’s <a href="https://webkit.org/web-inspector/web-inspector-interface/" target="_blank" rel="noreferrer">Web Inspector Interface</a>, which will look familiar to Safari users.</span> <pre numberoflines="1" language="shellscript" data-language="typescript">bun --inspect server.ts
</pre> <pre numberoflines="8" language="text" data-language="typescript">------------------ Bun Inspector ------------------
Listening at:
  ws://localhost:6499/0tqxs9exrgrm

Inspect in browser:
  https://debug.bun.sh/#localhost:6499/0tqxs9exrgrm
------------------ Bun Inspector ------------------
</pre> <hr> <span data-as="p">Open the provided <code>debug.bun.sh</code> URL in your browser to start a debugging session. From this interface, you’ll be able to view the source code of the running file, view and set breakpoints, and execute code with the built-in console.</span>  <hr> <span data-as="p">Let’s set a breakpoint. Navigate to the Sources tab; you should see the code from earlier. Click on the line number <code>3</code> to set a breakpoint on our <code>console.log(req.url)</code> statement.</span>  <hr> <span data-as="p">Then visit <a href="http://localhost:3000" target="_blank" rel="noreferrer"><code>http://localhost:3000</code></a> in your web browser. This will send an HTTP request to our <code>localhost</code> web server. It will seem like the page isn’t loading. Why? Because the program has paused execution at the breakpoint we set earlier.</span> <span data-as="p">Note how the UI has changed.</span>  <hr> <span data-as="p">At this point there’s a lot we can do to introspect the current execution environment. We can use the console at the bottom to run arbitrary code in the context of the program, with full access to the variables in scope at our breakpoint.</span>  <hr> <span data-as="p">On the right side of the Sources pane, we can see all local variables currently in scope, and drill down to see their properties and methods. Here, we’re inspecting the <code>req</code> variable.</span>  <hr> <span data-as="p">In the upper left of the Sources pane, we can control the execution of the program.</span>  <hr> <span data-as="p">Here’s a cheat sheet explaining the functions of the control flow buttons.</span> <ul> <li>
<em>Continue script execution</em> — continue running the program until the next breakpoint or exception.</li> <li>
<em>Step over</em> — The program will continue to the next line.</li> <li>
<em>Step into</em> — If the current statement contains a function call, the debugger will “step into” the called function.</li> <li>
<em>Step out</em> — If the current statement is a function call, the debugger will finish executing the call, then “step out” of the function to the location where it was called.</li> </ul> 
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/runtime/web-debugger" class="_attribution-link">https://bun.com/docs/guides/runtime/web-debugger</a>
  </p>
</div>

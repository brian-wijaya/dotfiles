<h1 id="header">Catalogs</h1>
<div data-page-title="Catalogs" data-page-href="/pm/catalogs" id="content">
<span data-as="p">Catalogs in Bun provide a straightforward way to share common dependency versions across multiple packages in a monorepo. Rather than specifying the same versions repeatedly in each workspace package, you define them once in the root package.json and reference them consistently throughout your project.</span> <h2 id="overview"><span>Overview</span></h2> <span data-as="p">Unlike traditional dependency management where each workspace package needs to independently specify versions, catalogs let you:</span> <ol> <li>Define version catalogs in the root package.json</li> <li>Reference these versions with a simple <code>catalog:</code> protocol</li> <li>Update all packages simultaneously by changing the version in just one place</li> </ol> <span data-as="p">This is especially useful in large monorepos where dozens of packages need to use the same version of key dependencies.</span> <h2 id="how-to-use-catalogs"><span>How to Use Catalogs</span></h2> <h3 id="directory-structure-example"><span>Directory Structure Example</span></h3> <span data-as="p">Consider a monorepo with the following structure:</span> <pre numberoflines="11" language="text" data-language="typescript">my-monorepo/
├── package.json
├── bun.lock
└── packages/
    ├── app/
    │   └── package.json
    ├── ui/
    │   └── package.json
    └── utils/
        └── package.json
</pre> <h3 id="1-define-catalogs-in-root-package-json"><span>1. Define Catalogs in Root package.json</span></h3> <span data-as="p">In your root-level <code>package.json</code>, add a <code>catalog</code> or <code>catalogs</code> field within the <code>workspaces</code> object:</span> <pre numberoflines="16" language="json" data-language="typescript">{
  "name": "my-monorepo",
  "workspaces": {
    "packages": ["packages/*"],
    "catalog": {
      "react": "^19.0.0",
      "react-dom": "^19.0.0"
    },
    "catalogs": {
      "testing": {
        "jest": "30.0.0",
        "testing-library": "14.0.0"
      }
    }
  }
}
</pre> <span data-as="p">If you put <code>catalog</code> or <code>catalogs</code> at the top level of the <code>package.json</code> file, that will work too.</span> <h3 id="2-reference-catalog-versions-in-workspace-packages"><span>2. Reference Catalog Versions in Workspace Packages</span></h3> <span data-as="p">In your workspace packages, use the <code>catalog:</code> protocol to reference versions:</span> <pre numberoflines="8" language="json" data-language="typescript">{
  "name": "app",
  "dependencies": {
    "react": "catalog:",
    "react-dom": "catalog:",
    "jest": "catalog:testing"
  }
}
</pre> <pre numberoflines="11" language="json" data-language="typescript">{
  "name": "ui",
  "dependencies": {
    "react": "catalog:",
    "react-dom": "catalog:"
  },
  "devDependencies": {
    "jest": "catalog:testing",
    "testing-library": "catalog:testing"
  }
}
</pre> <h3 id="3-run-bun-install"><span>3. Run Bun Install</span></h3> <span data-as="p">Run <code>bun install</code> to install all dependencies according to the catalog versions.</span> <h2 id="catalog-vs-catalogs"><span>Catalog vs Catalogs</span></h2> <span data-as="p">Bun supports two ways to define catalogs:</span> <ol> <li> <span data-as="p"><strong><code>catalog</code></strong> (singular): A single default catalog for commonly used dependencies</span> <pre numberoflines="4" language="json" data-language="typescript">"catalog": {
  "react": "^19.0.0",
  "react-dom": "^19.0.0"
}
</pre> <span data-as="p">Reference with simply <code>catalog:</code>:</span> <pre numberoflines="3" language="json" data-language="typescript">"dependencies": {
  "react": "catalog:"
}
</pre> </li> <li> <span data-as="p"><strong><code>catalogs</code></strong> (plural): Multiple named catalogs for grouping dependencies</span> <pre numberoflines="8" language="json" data-language="typescript">"catalogs": {
  "testing": {
    "jest": "30.0.0"
  },
  "ui": {
    "tailwind": "4.0.0"
  }
}
</pre> <span data-as="p">Reference with <code>catalog:&lt;name&gt;</code>:</span> <pre numberoflines="4" language="json" data-language="typescript">"dependencies": {
  "jest": "catalog:testing",
  "tailwind": "catalog:ui"
}
</pre> </li> </ol> <h2 id="benefits-of-using-catalogs"><span>Benefits of Using Catalogs</span></h2> <ul> <li>
<strong>Consistency</strong>: Ensures all packages use the same version of critical dependencies</li> <li>
<strong>Maintenance</strong>: Update a dependency version in one place instead of across multiple package.json files</li> <li>
<strong>Clarity</strong>: Makes it obvious which dependencies are standardized across your monorepo</li> <li>
<strong>Simplicity</strong>: No need for complex version resolution strategies or external tools</li> </ul> <h2 id="real-world-example"><span>Real-World Example</span></h2> <span data-as="p">Here’s a more comprehensive example for a React application:</span> <span data-as="p"><strong>Root package.json</strong></span> <pre numberoflines="24" language="json" data-language="typescript">{
  "name": "react-monorepo",
  "workspaces": {
    "packages": ["packages/*"],
    "catalog": {
      "react": "^19.0.0",
      "react-dom": "^19.0.0",
      "react-router-dom": "^6.15.0"
    },
    "catalogs": {
      "build": {
        "webpack": "5.88.2",
        "babel": "7.22.10"
      },
      "testing": {
        "jest": "29.6.2",
        "react-testing-library": "14.0.0"
      }
    }
  },
  "devDependencies": {
    "typescript": "5.1.6"
  }
}
</pre> <pre numberoflines="16" language="json" data-language="typescript">{
  "name": "app",
  "dependencies": {
    "react": "catalog:",
    "react-dom": "catalog:",
    "react-router-dom": "catalog:",
    "@monorepo/ui": "workspace:*",
    "@monorepo/utils": "workspace:*"
  },
  "devDependencies": {
    "webpack": "catalog:build",
    "babel": "catalog:build",
    "jest": "catalog:testing",
    "react-testing-library": "catalog:testing"
  }
}
</pre> <pre numberoflines="11" language="json" data-language="typescript">{
  "name": "@monorepo/ui",
  "dependencies": {
    "react": "catalog:",
    "react-dom": "catalog:"
  },
  "devDependencies": {
    "jest": "catalog:testing",
    "react-testing-library": "catalog:testing"
  }
}
</pre> <pre numberoflines="9" language="json" data-language="typescript">{
  "name": "@monorepo/utils",
  "dependencies": {
    "react": "catalog:"
  },
  "devDependencies": {
    "jest": "catalog:testing"
  }
}
</pre> <h2 id="updating-versions"><span>Updating Versions</span></h2> <span data-as="p">To update versions across all packages, simply change the version in the root package.json:</span> <pre numberoflines="4" language="json" data-language="typescript">"catalog": {
  "react": "^19.1.0",  // Updated from ^19.0.0
  "react-dom": "^19.1.0"  // Updated from ^19.0.0
}
</pre> <span data-as="p">Then run <code>bun install</code> to update all packages.</span> <h2 id="lockfile-integration"><span>Lockfile Integration</span></h2> <span data-as="p">Bun’s lockfile tracks catalog versions, making it easy to ensure consistent installations across different environments. The lockfile includes:</span> <ul> <li>The catalog definitions from your package.json</li> <li>The resolution of each cataloged dependency</li> </ul> <pre numberoflines="32" language="json" data-language="typescript">{
  "lockfileVersion": 1,
  "workspaces": {
    "": {
      "name": "react-monorepo",
    },
    "packages/app": {
      "name": "app",
      "dependencies": {
        "react": "catalog:",
        "react-dom": "catalog:",
        ...
      },
    },
    ...
  },
  "catalog": {
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    ...
  },
  "catalogs": {
    "build": {
      "webpack": "5.88.2",
      ...
    },
    ...
  },
  "packages": {
    ...
  }
}
</pre> <h2 id="limitations-and-edge-cases"><span>Limitations and Edge Cases</span></h2> <ul> <li>Catalog references must match a dependency defined in either <code>catalog</code> or one of the named <code>catalogs</code>
</li> <li>Empty strings and whitespace in catalog names are ignored (treated as default catalog)</li> <li>Invalid dependency versions in catalogs will fail to resolve during <code>bun install</code>
</li> <li>Catalogs are only available within workspaces; they cannot be used outside the monorepo</li> </ul> <span data-as="p">Bun’s catalog system provides a powerful yet simple way to maintain consistency across your monorepo without introducing additional complexity to your workflow.</span> <h2 id="publishing"><span>Publishing</span></h2> <span data-as="p">When you run <code>bun publish</code> or <code>bun pm pack</code>, Bun automatically replaces <code>catalog:</code> references in your <code>package.json</code> with the resolved version numbers. The published package includes regular semver strings and no longer depends on your catalog definitions.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/pm/catalogs" class="_attribution-link">https://bun.com/docs/pm/catalogs</a>
  </p>
</div>

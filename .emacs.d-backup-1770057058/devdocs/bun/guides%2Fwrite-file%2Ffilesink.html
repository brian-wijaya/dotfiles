<h1 id="header">Write a file incrementally</h1>
<div data-page-title="Write a file incrementally" data-page-href="/guides/write-file/filesink" id="content">
<span data-as="p">Bun provides an API for incrementally writing to a file. This is useful for writing large files, or for writing to a file over a long period of time.</span> <span data-as="p">Call <code>.writer()</code> on a <code>BunFile</code> to retrieve a <code>FileSink</code> instance. This instance can be used to efficiently buffer data and periodically “flush” it to disk. You can write &amp; flush many times.</span> <pre numberoflines="10" language="typescript" data-language="typescript">const file = Bun.file("/path/to/file.txt");
const writer = file.writer();

writer.write("lorem");
writer.write("ipsum");
writer.write("dolor");

writer.flush();

// continue writing &amp; flushing
</pre> <hr> <span data-as="p">The <code>.write()</code> method can accept strings or binary data.</span> <pre numberoflines="4" language="typescript" data-language="typescript">w.write("hello");
w.write(Buffer.from("there"));
w.write(new Uint8Array([0, 255, 128]));
writer.flush();
</pre> <hr> <span data-as="p">The <code>FileSink</code> will also auto-flush when its internal buffer is full. You can configure the buffer size with the <code>highWaterMark</code> option.</span> <pre numberoflines="2" language="typescript" data-language="typescript">const file = Bun.file("/path/to/file.txt");
const writer = file.writer({ highWaterMark: 1024 * 1024 }); // 1MB
</pre> <hr> <span data-as="p">When you’re done writing to the file, call <code>.end()</code> to auto-flush the buffer and close the file.</span> <pre numberoflines="1" language="typescript" data-language="typescript">writer.end();
</pre> <hr> <span data-as="p">Full documentation: <a href="../../runtime/file-io#incremental-writing-with-filesink">FileSink</a>.</span>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; bun.com, oven-sh, Jarred Sumner<br>Licensed under the MIT License.<br>
    <a href="https://bun.com/docs/guides/write-file/filesink" class="_attribution-link">https://bun.com/docs/guides/write-file/filesink</a>
  </p>
</div>

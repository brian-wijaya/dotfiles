<h1 id="_top" class="astro-62i6xxx4">Astro Integration API</h1> <div class="content-panel astro-2mug3n2c"> <div class="sl-container astro-2mug3n2c"> <div class="sl-markdown-content"> <p><strong>Astro Integrations</strong> add new functionality and behaviors for your project with only a few lines of code.</p> <p>This reference page is for anyone writing their own integration. To learn how to use an integration in your project, check out our <a href="../../guides/integrations-guide/index">Using Integrations</a> guide instead.</p> <div class="sl-heading-wrapper level-h2">
<h2 id="examples">Examples</h2>
<a class="sl-anchor-link" href="#examples"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Examples”</span></a>
</div> <p>The official Astro integrations can act as reference for you as you go to build your own integrations.</p> <ul> <li>
<strong>Renderers:</strong> <a href="../../guides/integrations-guide/svelte/index"><code dir="auto">svelte</code></a>, <a href="../../guides/integrations-guide/react/index"><code dir="auto">react</code></a>, <a href="../../guides/integrations-guide/preact/index"><code dir="auto">preact</code></a>, <a href="../../guides/integrations-guide/vue/index"><code dir="auto">vue</code></a>, <a href="../../guides/integrations-guide/solid-js/index"><code dir="auto">solid</code></a>
</li> <li>
<strong>Libraries:</strong> <a href="../../guides/integrations-guide/partytown/index"><code dir="auto">partytown</code></a>
</li> <li>
<strong>Features:</strong> <a href="../../guides/integrations-guide/sitemap/index"><code dir="auto">sitemap</code></a>
</li> </ul> <div class="sl-heading-wrapper level-h2">
<h2 id="quick-api-reference">Quick API Reference</h2>
<a class="sl-anchor-link" href="#quick-api-reference"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Quick API Reference”</span></a>
</div> <div class="expressive-code">

<pre data-language="ts">interface AstroIntegration {
  name: string;
  hooks: {
    'astro:config:setup'?: (options: {
      config: AstroConfig;
      command: 'dev' | 'build' | 'preview' | 'sync';
      isRestart: boolean;
      updateConfig: (newConfig: DeepPartial&lt;AstroConfig&gt;) =&gt; AstroConfig;
      addRenderer: (renderer: AstroRenderer) =&gt; void;
      addWatchFile: (path: URL | string) =&gt; void;
      addClientDirective: (directive: ClientDirectiveConfig) =&gt; void;
      addMiddleware: (middleware: AstroIntegrationMiddleware) =&gt; void;
      addDevToolbarApp: (entrypoint: DevToolbarAppEntry) =&gt; void;
      injectScript: (stage: InjectedScriptStage, content: string) =&gt; void;
      injectRoute: (injectedRoute: InjectedRoute) =&gt; void;
      createCodegenDir: () =&gt; URL;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:route:setup'?: (options: {
      route: RouteOptions;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:routes:resolved'?: (options: {
      routes: IntegrationResolvedRoute[];
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:config:done'?: (options: {
      config: AstroConfig;
      setAdapter: (adapter: AstroAdapter) =&gt; void;
      injectTypes: (injectedType: InjectedType) =&gt; URL;
      logger: AstroIntegrationLogger;
      buildOutput: 'static' | 'server';
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:server:setup'?: (options: {
      server: vite.ViteDevServer;
      logger: AstroIntegrationLogger;
      toolbar: ReturnType&lt;typeof getToolbarServerCommunicationHelpers&gt;;
      refreshContent?: (options: RefreshContentOptions) =&gt; Promise&lt;void&gt;;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:server:start'?: (options: {
      address: AddressInfo;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:server:done'?: (options: {
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:build:start'?: (options: {
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:build:setup'?: (options: {
      vite: vite.InlineConfig;
      pages: Map&lt;string, PageBuildData&gt;;
      target: 'client' | 'server';
      updateConfig: (newConfig: vite.InlineConfig) =&gt; void;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:build:ssr'?: (options: {
      manifest: SerializedSSRManifest;
      entryPoints: Map&lt;IntegrationRouteData, URL&gt;;
      middlewareEntryPoint: URL | undefined;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:build:generated'?: (options: {
      dir: URL;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;
    'astro:build:done'?: (options: {
      pages: { pathname: string }[];
      dir: URL;
      assets: Map&lt;string, URL[]&gt;;
      logger: AstroIntegrationLogger;
    }) =&gt; void | Promise&lt;void&gt;;


    // ... any custom hooks from integrations
  };
}</pre>

</div> <div class="sl-heading-wrapper level-h2">
<h2 id="hooks">Hooks</h2>
<a class="sl-anchor-link" href="#hooks"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Hooks”</span></a>
</div> <p>Astro provides hooks that integrations can implement to execute during certain parts of Astro’s lifecycle. Astro hooks are defined in the <code dir="auto">IntegrationHooks</code> interface, which is part of the global <code dir="auto">Astro</code> namespace. Each hook has a <a href="#astrointegrationlogger"><code dir="auto">logger</code> option</a> that allows you to use the Astro logger to write logs.</p> <p>The following hooks are built in to Astro:</p> <div class="sl-heading-wrapper level-h3">
<h3 id="astroconfigsetup"><code dir="auto">astro:config:setup</code></h3>
<a class="sl-anchor-link" href="#astroconfigsetup"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:config:setup”</span></a>
</div> <p><strong>Next hook:</strong> <a href="#astroroutesetup"><code dir="auto">astro:route:setup</code></a></p> <p><strong>When:</strong> On initialization, before either the <a href="https://vite.dev/config/">Vite</a> or <a href="../configuration-reference/index">Astro config</a> have resolved.</p> <p><strong>Why:</strong> To extend the project config. This includes updating the <a href="../configuration-reference/index">Astro config</a>, applying <a href="https://vite.dev/guide/api-plugin.html">Vite plugins</a>, adding component renderers, and injecting scripts onto the page.</p> <div class="expressive-code">

<pre data-language="ts">'astro:config:setup'?: (options: {
  config: AstroConfig;
  command: 'dev' | 'build' | 'preview' | 'sync';
  isRestart: boolean;
  updateConfig: (newConfig: DeepPartial&lt;AstroConfig&gt;) =&gt; AstroConfig;
  addRenderer: (renderer: AstroRenderer) =&gt; void;
  addClientDirective: (directive: ClientDirectiveConfig) =&gt; void;
  addMiddleware: (middleware: AstroIntegrationMiddleware) =&gt; void;
  addDevToolbarApp: (entrypoint: DevToolbarAppEntry) =&gt; void;
  addWatchFile: (path: URL | string) =&gt; void;
  injectScript: (stage: InjectedScriptStage, content: string) =&gt; void;
  injectRoute: (injectedRoute: InjectedRoute) =&gt; void;
  createCodegenDir: () =&gt; URL;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="config-option">
<code dir="auto">config</code> option</h4>
<a class="sl-anchor-link" href="#config-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “config option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">AstroConfig</code></p> <p>A read-only copy of the user-supplied <a href="../configuration-reference/index">Astro config</a>. This is resolved <em>before</em> any other integrations have run. If you need a copy of the config after all integrations have completed their config updates, <a href="#astroconfigdone">see the <code dir="auto">astro:config:done</code> hook</a>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="command-option">
<code dir="auto">command</code> option</h4>
<a class="sl-anchor-link" href="#command-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “command option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">'dev' | 'build' | 'preview' | 'sync'</code></p> <ul> <li>
<code dir="auto">dev</code> - Project is executed with <code dir="auto">astro dev</code>
</li> <li>
<code dir="auto">build</code> - Project is executed with <code dir="auto">astro build</code>
</li> <li>
<code dir="auto">preview</code> - Project is executed with <code dir="auto">astro preview</code>
</li> <li>
<code dir="auto">sync</code> - Project is executed with <code dir="auto">astro sync</code>
</li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="isrestart-option">
<code dir="auto">isRestart</code> option</h4>
<a class="sl-anchor-link" href="#isrestart-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “isRestart option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">boolean</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p><code dir="auto">false</code> when the dev server starts, <code dir="auto">true</code> when a reload is triggered. Useful to detect when this function is called more than once.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="updateconfig-option">
<code dir="auto">updateConfig()</code> option</h4>
<a class="sl-anchor-link" href="#updateconfig-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “updateConfig() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(newConfig: DeepPartial&lt;AstroConfig&gt;) =&gt; AstroConfig;</code></p> <p>A callback function to update the user-supplied <a href="../configuration-reference/index">Astro config</a>. Any config you provide <strong>will be merged with the user config + other integration config updates,</strong> so you are free to omit keys!</p> <p>For example, say you need to supply a <a href="https://vite.dev/">Vite</a> plugin to the user’s project:</p> <div class="expressive-code">

<pre data-language="js">import bananaCSS from '@vitejs/official-banana-css-plugin';


export default {
  name: 'banana-css-integration',
  hooks: {
    'astro:config:setup': ({ updateConfig }) =&gt; {
      updateConfig({
        vite: {
          plugins: [bananaCSS()],
        }
      })
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="addrenderer-option">
<code dir="auto">addRenderer()</code> option</h4>
<a class="sl-anchor-link" href="#addrenderer-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “addRenderer() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(renderer:</code> <a href="https://github.com/withastro/astro/blob/fdd607c5755034edf262e7b275732519328a33b2/packages/astro/src/%40types/astro.ts#L872-L883"><code dir="auto">AstroRenderer</code></a> <code dir="auto">) =&gt; void;</code><br> <strong>Examples:</strong> <a href="https://github.com/withastro/astro/blob/main/packages/integrations/svelte/src/index.ts"><code dir="auto">svelte</code></a>, <a href="https://github.com/withastro/astro/blob/main/packages/integrations/react/src/index.ts"><code dir="auto">react</code></a>, <a href="https://github.com/withastro/astro/blob/main/packages/integrations/preact/src/index.ts"><code dir="auto">preact</code></a>, <a href="https://github.com/withastro/astro/blob/main/packages/integrations/vue/src/index.ts"><code dir="auto">vue</code></a>, <a href="https://github.com/withastro/astro/blob/main/packages/integrations/solid/src/index.ts"><code dir="auto">solid</code></a></p> <p>A callback function to add a component framework renderer (i.e. React, Vue, Svelte, etc). You can browse the examples and type definition above for more advanced options, but here are the 2 main options to be aware of:</p> <ul> <li>
<code dir="auto">clientEntrypoint</code> - path to a file that executes on the client whenever your component is used. This is mainly for rendering or hydrating your component with JS.</li> <li>
<code dir="auto">serverEntrypoint</code> - path to a file that executes during server-side requests or static builds whenever your component is used. These should render components to static markup, with hooks for hydration where applicable. <a href="https://react.dev/reference/react-dom/server/renderToString">React’s <code dir="auto">renderToString</code> callback</a> is a classic example.</li> </ul> <p><span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span></p> <p>The functions <code dir="auto">clientEntrypoint</code> and <code dir="auto">serverEntrypoint</code> accept a <code dir="auto">URL</code>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="addwatchfile-option">
<code dir="auto">addWatchFile()</code> option</h4>
<a class="sl-anchor-link" href="#addwatchfile-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “addWatchFile() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(path: URL | string) =&gt; void</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p>If your integration depends on some configuration file that Vite doesn’t watch and/or needs a full dev server restart to take effect, add it with <code dir="auto">addWatchFile</code>. Whenever that file changes, the Astro dev server will be reloaded (you can check when a reload happens with <code dir="auto">isRestart</code>).</p> <p>Example usage:</p> <div class="expressive-code">

<pre data-language="js">// Must be an absolute path!
addWatchFile('/home/user/.../my-config.json');
addWatchFile(new URL('./ec.config.mjs', config.root));</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="addclientdirective-option">
<code dir="auto">addClientDirective()</code> option</h4>
<a class="sl-anchor-link" href="#addclientdirective-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “addClientDirective() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(directive:</code> <a href="https://github.com/withastro/astro/blob/00327c213f74627ac9ca1dec774efa5bf71e9375/packages/astro/src/%40types/astro.ts#L1872-L1875"><code dir="auto">ClientDirectiveConfig</code></a> <code dir="auto">) =&gt; void;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.6.0</code> </span> <p>Adds a <a href="../directives-reference/index#custom-client-directives">custom client directive</a> to be used in <code dir="auto">.astro</code> files.</p> <p>Note that directive entrypoints are only bundled through esbuild and should be kept small so they don’t slow down component hydration.</p> <p>Example usage:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig } from 'astro/config';
import clickDirective from './astro-click-directive/register.js'


// https://astro.build/config
export default defineConfig({
  integrations: [
    clickDirective()
  ],
});</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro-click-directive/register.js</span></div>
<pre data-language="js">/**
 * @type {() =&gt; import('astro').AstroIntegration}
 */
export default () =&gt; ({
  name: "client:click",
  hooks: {
    "astro:config:setup": ({ addClientDirective }) =&gt; {
      addClientDirective({
        name: "click",
        entrypoint: "./astro-click-directive/click.js",
      });
    },
  },
});</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro-click-directive/click.js</span></div>
<pre data-language="js">/**
 * Hydrate on first click on the window
 * @type {import('astro').ClientDirective}
 */
export default (load, opts, el) =&gt; {
  window.addEventListener('click', async () =&gt; {
    const hydrate = await load()
    await hydrate()
  }, { once: true })
}</pre>

</div> <p>You can also add types for the directives in your library’s type definition file:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro-click-directive/index.d.ts</span></div>
<pre data-language="ts">import 'astro'
declare module 'astro' {
  interface AstroClientDirectives {
    'client:click'?: boolean
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="adddevtoolbarapp-option">
<code dir="auto">addDevToolbarApp()</code> option</h4>
<a class="sl-anchor-link" href="#adddevtoolbarapp-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “addDevToolbarApp() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(entrypoint: DevToolbarAppEntry) =&gt; void;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@3.4.0</code> </span> <p>Adds a <a href="../dev-toolbar-app-reference/index">custom dev toolbar app</a>.</p> <p>Example usage:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig } from 'astro/config';
import devToolbarIntegration from './astro-dev-toolbar-app/integration.js'


// https://astro.build/config
export default defineConfig({
  integrations: [
    devToolbarIntegration()
  ],
});</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro-dev-toolbar-app/integration.js</span></div>
<pre data-language="js">/**
 * @type {() =&gt; import('astro').AstroIntegration}
 */
export default () =&gt; ({
  name: "dev-toolbar-app",
  hooks: {
    "astro:config:setup": ({ addDevToolbarApp }) =&gt; {
      addDevToolbarApp({
        entrypoint: "./astro-dev-toolbar-app/plugin.js",
        id: "my-plugin",
        name: "My Plugin"
      });
    },
  },
});</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro-dev-toolbar-app/plugin.js</span></div>
<pre data-language="js">/**
 * @type {import('astro').DevToolbarApp}
 */
export default {
  id: "my-plugin",
  name: "My Plugin",
  icon: "&lt;svg&gt;...&lt;/svg&gt;",
  init() {
    console.log("I'm a dev toolbar app!")
  },
};</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="addmiddleware-option">
<code dir="auto">addMiddleware()</code> option</h4>
<a class="sl-anchor-link" href="#addmiddleware-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “addMiddleware() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(middleware:</code> <a href="https://github.com/withastro/astro/blob/852ac0f75dfca1b2602e9cdbfa0447d9998e2449/packages/astro/src/%40types/astro.ts#L2124-L2127"><code dir="auto">AstroIntegrationMiddleware</code></a> <code dir="auto">) =&gt; void;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@3.5.0</code> </span> <p>Adds <a href="../../guides/middleware/index">middleware</a> to run on each request. Takes the <code dir="auto">entrypoint</code> module that contains the middleware, and an <code dir="auto">order</code> to specify whether it should run before (<code dir="auto">pre</code>) other middleware or after (<code dir="auto">post</code>).</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">@my-package/integration.js</span></div>
<pre data-language="js">/**
 * @type {() =&gt; import('astro').AstroIntegration}
 */
export default () =&gt; ({
  name: "my-middleware-package",
  hooks: {
    "astro:config:setup": ({ addMiddleware }) =&gt; {
      addMiddleware({
        entrypoint: '@my-package/middleware',
        order: 'pre'
      });
    },
  },
});</pre>

</div> <p>Middleware is defined in a package with an <code dir="auto">onRequest</code> function, as with user-defined middleware.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">@my-package/middleware.js</span></div>
<pre data-language="js">import { defineMiddleware } from 'astro:middleware';


export const onRequest = defineMiddleware(async (context, next) =&gt; {
  if(context.url.pathname === '/some-test-path') {
    return Response.json({
      ok: true
    });
  }


  return next();
});</pre>

</div> <p><span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span></p> <p>The function also accepts a <code dir="auto">URL</code> for <code dir="auto">entrypoint</code>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">@my-package/integration.js</span></div>
<pre data-language="js">/**
 * @type {() =&gt; import('astro').AstroIntegration}
 */
export default () =&gt; ({
  name: "my-middleware-package",
  hooks: {
    "astro:config:setup": ({ addMiddleware }) =&gt; {
      addMiddleware({
        entrypoint: new URL('./middleware.js', import.meta.url),
        order: 'pre'
      });
    },
  },
});</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="injectroute-option">
<code dir="auto">injectRoute()</code> option</h4>
<a class="sl-anchor-link" href="#injectroute-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “injectRoute() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">({ pattern: string; entrypoint: string | URL; prerender?: boolean }) =&gt; void;</code></p> <p>A callback function to inject routes into an Astro project. Injected routes can be <a href="../../basics/astro-pages/index"><code dir="auto">.astro</code> pages</a> or <a href="../../guides/endpoints/index#static-file-endpoints"><code dir="auto">.js</code> and <code dir="auto">.ts</code> route handlers</a>.</p> <p><code dir="auto">injectRoute</code> takes an object with a <code dir="auto">pattern</code> and an <code dir="auto">entrypoint</code>.</p> <ul> <li>
<code dir="auto">pattern</code> - where the route should be output in the browser, for example <code dir="auto">/foo/bar</code>. A <code dir="auto">pattern</code> can use Astro’s filepath syntax for denoting dynamic routes, for example <code dir="auto">/foo/[bar]</code> or <code dir="auto">/foo/[...bar]</code>. Note that a file extension is <strong>not</strong> needed in the <code dir="auto">pattern</code>.</li> <li>
<code dir="auto">entrypoint</code> - a bare module specifier pointing towards the <code dir="auto">.astro</code> page or <code dir="auto">.js</code>/<code dir="auto">.ts</code> route handler that handles the route denoted in the <code dir="auto">pattern</code>.</li> <li>
<code dir="auto">prerender</code> - a boolean to set if Astro can’t detect your <code dir="auto">prerender</code> export.</li> </ul> <div class="sl-heading-wrapper level-h5">
<h5 id="example-usage">Example usage</h5>
<a class="sl-anchor-link" href="#example-usage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Example usage”</span></a>
</div> <div class="expressive-code">

<pre data-language="js">injectRoute({
  // Use Astro’s pattern syntax for dynamic routes.
  pattern: '/subfolder/[dynamic]',
  // Use relative path syntax for a local route.
  entrypoint: './src/dynamic-page.astro',
  // Use only if Astro can't detect your prerender export
  prerender: false
});</pre>

</div> <p>For an integration designed to be installed in other projects, use its package name to refer to the route entrypoint. The following example shows a package published to npm as <code dir="auto">@fancy/dashboard</code> injecting a dashboard route:</p> <div class="expressive-code">

<pre data-language="js">injectRoute({
  pattern: '/fancy-dashboard',
  entrypoint: '@fancy/dashboard/dashboard.astro'
});</pre>

</div> <p>When publishing your package (<code dir="auto">@fancy/dashboard</code>, in this case) to npm, you must export <code dir="auto">dashboard.astro</code> in your <code dir="auto">package.json</code>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">package.json</span></div>
<pre data-language="json">{
  "name": "@fancy/dashboard",
  // ...
  "exports": { "./dashboard.astro": "./dashboard.astro" }
}</pre>

</div> <p><span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span></p> <p>The function also accepts a <code dir="auto">URL</code> for <code dir="auto">entrypoint</code>:</p> <div class="expressive-code">

<pre data-language="js">injectRoute({
  pattern: '/fancy-dashboard',
  entrypoint: new URL('./dashboard.astro', import.meta.url)
});</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="injectscript-option">
<code dir="auto">injectScript()</code> option</h4>
<a class="sl-anchor-link" href="#injectscript-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “injectScript() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(stage: InjectedScriptStage, content: string) =&gt; void;</code></p> <p>A callback function to inject a string of JavaScript content onto every page.</p> <p>The <strong><code dir="auto">stage</code></strong> denotes how this script (the <code dir="auto">content</code>) should be inserted. Some stages allow inserting scripts without modification, while others allow optimization during <a href="https://vite.dev/guide/build.html">Vite’s bundling step</a>:</p> <ul> <li> <p><code dir="auto">"head-inline"</code>: Injected into a script tag in the <code dir="auto">&lt;head&gt;</code> of every page. <strong>Not</strong> optimized or resolved by Vite.</p> </li> <li> <p><code dir="auto">"before-hydration"</code>: Imported client-side, before the hydration script runs. Optimized and resolved by Vite.</p> </li> <li> <p><code dir="auto">"page"</code>: Similar to <code dir="auto">head-inline</code>, except that the injected snippet is handled by Vite and bundled with any other <code dir="auto">&lt;script&gt;</code> tags defined inside of Astro components on the page. The script will be loaded with a <code dir="auto">&lt;script type="module"&gt;</code> in the final page output, optimized and resolved by Vite.</p> </li> <li> <p><code dir="auto">"page-ssr"</code>: Imported as a separate module in the frontmatter of every Astro page component. Because this stage imports your script, the <code dir="auto">Astro</code> global is not available and your script will only be run once when the <code dir="auto">import</code> is first evaluated.</p> <p>The main use for the <code dir="auto">page-ssr</code> stage is injecting a CSS <code dir="auto">import</code> into every page to be optimized and resolved by Vite:</p> <div class="expressive-code">

<pre data-language="js">injectScript('page-ssr', 'import "global-styles.css";');</pre>

</div> </li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="createcodegendir"><code dir="auto">createCodegenDir</code></h4>
<a class="sl-anchor-link" href="#createcodegendir"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “createCodegenDir”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">() =&gt; URL;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span> <p>A function that creates the <code dir="auto">&lt;root&gt;/.astro/integrations/&lt;normalized_integration_name&gt;</code> folder and returns its path.</p> <p>It allows you to have a dedicated folder, avoiding conflicts with another integration or Astro itself. This directory is created by calling this function so it’s safe to write files to it directly:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">my-integration.ts</span></div>
<pre data-language="ts">import { writeFileSync } from 'node:fs'


const integration = {
  name: 'my-integration',
  hooks: {
    'astro:config:setup': ({ createCodegenDir }) =&gt; {
      const codegenDir = createCodegenDir()
      writeFileSync(new URL('cache.json', codegenDir), '{}', 'utf-8')
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astroroutesetup"><code dir="auto">astro:route:setup</code></h3>
<a class="sl-anchor-link" href="#astroroutesetup"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:route:setup”</span></a>
</div> <p><span> <strong>Added in:</strong> <code>astro@4.14.0</code> </span></p> <p><strong>Previous hook:</strong> <a href="#astroconfigsetup"><code dir="auto">astro:config:setup</code></a></p> <p><strong>Next hook:</strong> <a href="#astroroutesresolved"><code dir="auto">astro:routes:resolved</code></a></p> <p><strong>When:</strong> In <code dir="auto">astro build</code>, before bundling starts. In <code dir="auto">astro dev</code>, while building the module graph and on every change to a file based route (added/removed/updated).</p> <p><strong>Why:</strong> To set options for a route at build or request time, such as enabling <a href="../../guides/on-demand-rendering/index#enabling-on-demand-rendering">on-demand server rendering</a>.</p> <div class="expressive-code">

<pre data-language="js">'astro:route:setup'?: (options: {
  route: RouteOptions;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="route-option">
<code dir="auto">route</code> option</h4>
<a class="sl-anchor-link" href="#route-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “route option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://github.com/withastro/astro/blob/3b10b97a4fecd1dfd959b160a07b5b8427fe40a7/packages/astro/src/types/public/integrations.ts#L14-L27"><code dir="auto">RouteOptions</code></a></p> <p>An object with a <code dir="auto">component</code> property to identify the route and the following additional values to allow you to configure the generated route: <code dir="auto">prerender</code>.</p> <div class="sl-heading-wrapper level-h5">
<h5 id="routecomponent"><code dir="auto">route.component</code></h5>
<a class="sl-anchor-link" href="#routecomponent"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “route.component”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.14.0</code> </span> <p>The <code dir="auto">component</code> property indicates the entrypoint that will be rendered on the route. You can access this value before the routes are built to configure on-demand server rendering for that page.</p> <div class="sl-heading-wrapper level-h5">
<h5 id="routeprerender"><code dir="auto">route.prerender</code></h5>
<a class="sl-anchor-link" href="#routeprerender"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “route.prerender”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">boolean</code><br> <strong>Default:</strong> <code dir="auto">undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.14.0</code> </span> <p>The <code dir="auto">prerender</code> property is used to configure <a href="../../guides/on-demand-rendering/index#enabling-on-demand-rendering">on-demand server rendering</a> for a route. If the route file contains an explicit <code dir="auto">export const prerender</code> value, the value will be used as the default instead of <code dir="auto">undefined</code>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig } from 'astro/config';


export default defineConfig({
  integrations: [setPrerender()],
});


function setPrerender() {
  return {
    name: 'set-prerender',
    hooks: {
      'astro:route:setup': ({ route }) =&gt; {
        if (route.component.endsWith('/blog/[slug].astro')) {
          route.prerender = true;
        }
      },
    },
  };
}</pre>

</div> <p>If the final value after running all the hooks is <code dir="auto">undefined</code>, the route will fall back to a prerender default based on the <a href="../configuration-reference/index#output"><code dir="auto">output</code> option</a>: prerendered for <code dir="auto">static</code> mode, and on-demand rendered for <code dir="auto">server</code> mode.</p> <div class="sl-heading-wrapper level-h3">
<h3 id="astroroutesresolved"><code dir="auto">astro:routes:resolved</code></h3>
<a class="sl-anchor-link" href="#astroroutesresolved"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:routes:resolved”</span></a>
</div> <p><span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span></p> <p><strong>Previous hook:</strong> <a href="#astroroutesetup"><code dir="auto">astro:route:setup</code></a></p> <p><strong>Next hook:</strong> <a href="#astroconfigdone"><code dir="auto">astro:config:done</code></a> (only during setup)</p> <p><strong>When:</strong> In <code dir="auto">astro dev</code>, it also runs on every change to a file based route (added/removed/updated).</p> <p><strong>Why:</strong> To access routes and their metadata</p> <div class="expressive-code">

<pre data-language="js">'astro:routes:resolved'?: (options: {
  routes: IntegrationResolvedRoute[];
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="routes-option">
<code dir="auto">routes</code> option</h4>
<a class="sl-anchor-link" href="#routes-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “routes option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="#integrationresolvedroute-type-reference"><code dir="auto">IntegrationResolvedRoute[]</code></a></p> <p>A list of all routes with their associated metadata.</p> <p>Example use:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">my-integration.mjs</span></div>
<pre data-language="js">const integration = () =&gt; {
  return {
    name: 'my-integration',
    hooks: {
      'astro:routes:resolved': ({ routes }) =&gt; {
        const projectRoutes = routes.filter(r =&gt; r.origin === 'project').map(r =&gt; r.pattern)


        console.log(projectRoutes)
      },
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astroconfigdone"><code dir="auto">astro:config:done</code></h3>
<a class="sl-anchor-link" href="#astroconfigdone"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:config:done”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astroroutesresolved"><code dir="auto">astro:routes:resolved</code></a></p> <p><strong>Next hook:</strong> <a href="#astroserversetup"><code dir="auto">astro:server:setup</code></a> when running in “dev” mode, or <a href="#astrobuildstart"><code dir="auto">astro:build:start</code></a> during production builds</p> <p><strong>When:</strong> After the Astro config has resolved and other integrations have run their <code dir="auto">astro:config:setup</code> hooks.</p> <p><strong>Why:</strong> To retrieve the final config for use in other hooks.</p> <div class="expressive-code">

<pre data-language="js">'astro:config:done'?: (options: {
  config: AstroConfig;
  setAdapter: (adapter: AstroAdapter) =&gt; void;
  injectTypes: (injectedType: InjectedType) =&gt; URL;
  logger: AstroIntegrationLogger;
  buildOutput: 'static' | 'server';
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="config-option-1">
<code dir="auto">config</code> option</h4>
<a class="sl-anchor-link" href="#config-option-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “config option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">AstroConfig</code></p> <p>A read-only copy of the user-supplied <a href="../configuration-reference/index">Astro config</a>. This is resolved <em>after</em> other integrations have run.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="setadapter-option">
<code dir="auto">setAdapter()</code> option</h4>
<a class="sl-anchor-link" href="#setadapter-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “setAdapter() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(adapter: AstroAdapter) =&gt; void;</code></p> <p>Makes the integration an adapter. Read more in the <a href="../adapter-reference/index">adapter API</a>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="injecttypes-option">
<code dir="auto">injectTypes()</code> option</h4>
<a class="sl-anchor-link" href="#injecttypes-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “injectTypes() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(injectedType: { filename: string; content: string }) =&gt; URL</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.14.0</code> </span> <p>Allows you to inject types into your user’s project by adding a new <code dir="auto">*.d.ts</code> file.</p> <p>The <code dir="auto">filename</code> property will be used to generate a file at <code dir="auto">/.astro/integrations/&lt;normalized_integration_name&gt;/&lt;normalized_filename&gt;.d.ts</code> and must end with <code dir="auto">".d.ts"</code>.</p> <p>The <code dir="auto">content</code> property will create the body of the file and must be valid TypeScript.</p> <p>Additionally, <code dir="auto">injectTypes()</code> returns a URL to the normalized path so you can overwrite its content later on, or manipulate it in any way you want.</p> <div class="expressive-code">

<pre data-language="js">const path = injectTypes({
  filename: "types.d.ts",
  content: "declare module 'virtual:integration' {}"
})
console.log(path) // URL</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="buildoutput-option">
<code dir="auto">buildOutput</code> option</h4>
<a class="sl-anchor-link" href="#buildoutput-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “buildOutput option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">'static' | 'server'</code><br></p>
<span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span> <p>Allows you to adapt the logic of your integration depending on the user’s project output.</p> <div class="sl-heading-wrapper level-h3">
<h3 id="astroserversetup"><code dir="auto">astro:server:setup</code></h3>
<a class="sl-anchor-link" href="#astroserversetup"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:server:setup”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astroconfigdone"><code dir="auto">astro:config:done</code></a></p> <p><strong>Next hook:</strong> <a href="#astroserverstart"><code dir="auto">astro:server:start</code></a></p> <p><strong>When:</strong> Just after the Vite server is created in “dev” mode, but before the <code dir="auto">listen()</code> event is fired. <a href="https://vite.dev/guide/api-javascript.html#createserver">See Vite’s createServer API</a> for more.</p> <p><strong>Why:</strong> To update Vite server options and middleware, or enable support for refreshing the content layer.</p> <div class="expressive-code">

<pre data-language="js">'astro:server:setup'?: (options: {
  server: vite.ViteDevServer;
  logger: AstroIntegrationLogger;
  toolbar: ReturnType&lt;typeof getToolbarServerCommunicationHelpers&gt;;
  refreshContent: (options: {
    loaders?: Array&lt;string&gt;;
    context?: Record&lt;string, any&gt;;
  }) =&gt; Promise&lt;void&gt;;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="server-option">
<code dir="auto">server</code> option</h4>
<a class="sl-anchor-link" href="#server-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “server option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://vite.dev/guide/api-javascript.html#vitedevserver"><code dir="auto">ViteDevServer</code></a></p> <p>A mutable instance of the Vite server used in “dev” mode. For instance, this is <a href="../../guides/integrations-guide/partytown/index">used by our Partytown integration</a> to inject the Partytown server as middleware:</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'partytown',
  hooks: {
    'astro:server:setup': ({ server }) =&gt; {
      server.middlewares.use(
        function middleware(req, res, next) {
          // handle requests
        }
      );
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="toolbar-option">
<code dir="auto">toolbar</code> option</h4>
<a class="sl-anchor-link" href="#toolbar-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “toolbar option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">ReturnType&lt;typeof getToolbarServerCommunicationHelpers&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.7.0</code> </span> <p>An object providing callback functions to interact with the <a href="../dev-toolbar-app-reference/index">dev toolbar</a>:</p> <div class="sl-heading-wrapper level-h5">
<h5 id="on"><code dir="auto">on()</code></h5>
<a class="sl-anchor-link" href="#on"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “on()”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">&lt;T&gt;(event: string, callback: (data: T) =&gt; void) =&gt; void</code><br></p> <p>A function that takes an event name as first argument and a callback function as second argument. This allows you to receive a message from a dev toolbar app with data associated to that event.</p> <div class="sl-heading-wrapper level-h5">
<h5 id="onappinitialized"><code dir="auto">onAppInitialized()</code></h5>
<a class="sl-anchor-link" href="#onappinitialized"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “onAppInitialized()”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(appId: string, callback: (data: Record&lt;string, never&gt;) =&gt; void) =&gt; void</code><br></p> <p>A function fired when a dev toolbar app is initialized. The first argument is the id of the app that was initialized. The second argument is a callback function to run when the app is initialized.</p> <div class="sl-heading-wrapper level-h5">
<h5 id="onapptoggled"><code dir="auto">onAppToggled()</code></h5>
<a class="sl-anchor-link" href="#onapptoggled"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “onAppToggled()”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(appId: string, callback: (data: { state: boolean; }) =&gt; void) =&gt; void</code><br></p> <p>A function fired when a dev toolbar app is toggled on or off. The first argument is the id of the app that was toggled. The second argument is a callback function providing the state to execute when the application is toggled.</p> <div class="sl-heading-wrapper level-h5">
<h5 id="send"><code dir="auto">send()</code></h5>
<a class="sl-anchor-link" href="#send"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “send()”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">&lt;T&gt;(event: string, payload: T) =&gt; void</code><br></p> <p>A function that sends a message to the dev toolbar that an app can listen for. This takes an event name as the first argument and a payload as the second argument which can be any serializable data.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="refreshcontent-option">
<code dir="auto">refreshContent()</code> option</h4>
<a class="sl-anchor-link" href="#refreshcontent-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “refreshContent() option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(options: { loaders?: Array&lt;string&gt;; context?: Record&lt;string, any&gt;; }) =&gt; Promise&lt;void&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span> <p>A function for integrations to trigger an update to the content layer during <code dir="auto">astro dev</code>. This can be used, for example, to register a webhook endpoint during dev, or to open a socket to a CMS to listen for changes.</p> <p>By default, <code dir="auto">refreshContent</code> will refresh all collections. You can optionally pass a <code dir="auto">loaders</code> property, which is an array of loader names. If provided, only collections that use those loaders will be refreshed. For example, A CMS integration could use this property to only refresh its own collections.</p> <p>You can also pass a <code dir="auto">context</code> object to the loaders. This can be used to pass arbitrary data such as the webhook body, or an event from the websocket.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">my-integration.ts</span></div>
<pre data-language="ts">{
  name: 'my-integration',
  hooks: {
    'astro:server:setup': async ({ server, refreshContent }) =&gt; {
      // Register a dev server webhook endpoint
      server.middlewares.use('/_refresh', async (req, res) =&gt; {
        if(req.method !== 'POST') {
          res.statusCode = 405
          res.end('Method Not Allowed');
          return
        }
        let body = '';
        req.on('data', chunk =&gt; {
          body += chunk.toString();
        });
        req.on('end', async () =&gt; {
          try {
            const webhookBody = JSON.parse(body);
            await refreshContent({
              context: { webhookBody },
              loaders: ['my-loader']
            });
            res.writeHead(200, { 'Content-Type': 'application/json' });
            res.end(JSON.stringify({ message: 'Content refreshed successfully' }));
          } catch (error) {
            res.writeHead(500, { 'Content-Type': 'application/json' });
            res.end(JSON.stringify({ error: 'Failed to refresh content: ' + error.message }));
          }
        });
      });
    }
  }
}</pre>

</div> <p>The loader can then access the <code dir="auto">refreshContextData</code> property to get the webhook body. See the <a href="../content-loader-reference/index#refreshcontextdata"><code dir="auto">refreshContextData</code></a> property for more information.</p> <div class="sl-heading-wrapper level-h3">
<h3 id="astroserverstart"><code dir="auto">astro:server:start</code></h3>
<a class="sl-anchor-link" href="#astroserverstart"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:server:start”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astroserversetup"><code dir="auto">astro:server:setup</code></a></p> <p><strong>Next hook:</strong> <a href="#astroserverdone"><code dir="auto">astro:server:done</code></a></p> <p><strong>When:</strong> Just after the server’s <code dir="auto">listen()</code> event has fired.</p> <p><strong>Why:</strong> To intercept network requests at the specified address. If you intend to use this address for middleware, consider using <code dir="auto">astro:server:setup</code> instead.</p> <div class="expressive-code">

<pre data-language="js">'astro:server:start'?: (options: {
  address: AddressInfo;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="address-option">
<code dir="auto">address</code> option</h4>
<a class="sl-anchor-link" href="#address-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “address option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://microsoft.github.io/PowerBI-JavaScript/interfaces/_node_modules__types_node_net_d_._net_.addressinfo.html"><code dir="auto">AddressInfo</code></a></p> <p>The address, family and port number supplied by the <a href="https://nodejs.org/api/net.html">Node.js Net module</a>.</p> <div class="sl-heading-wrapper level-h3">
<h3 id="astroserverdone"><code dir="auto">astro:server:done</code></h3>
<a class="sl-anchor-link" href="#astroserverdone"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:server:done”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astroserverstart"><code dir="auto">astro:server:start</code></a></p> <p><strong>When:</strong> Just after the dev server is closed.</p> <p><strong>Why:</strong> To run any cleanup events you may trigger during the <code dir="auto">astro:server:setup</code> or <code dir="auto">astro:server:start</code> hooks.</p> <div class="expressive-code">

<pre data-language="js">'astro:server:done'?: (options: {
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astrobuildstart"><code dir="auto">astro:build:start</code></h3>
<a class="sl-anchor-link" href="#astrobuildstart"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:build:start”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astroconfigdone"><code dir="auto">astro:config:done</code></a></p> <p><strong>Next hook:</strong> <a href="#astrobuildsetup"><code dir="auto">astro:build:setup</code></a></p> <p><strong>When:</strong> After the <code dir="auto">astro:config:done</code> event, but before the production build begins.</p> <p><strong>Why:</strong> To set up any global objects or clients needed during a production build. This can also extend the build configuration options in the <a href="../adapter-reference/index">adapter API</a>.</p> <div class="expressive-code">

<pre data-language="js">'astro:build:start'?: (options: {
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astrobuildsetup"><code dir="auto">astro:build:setup</code></h3>
<a class="sl-anchor-link" href="#astrobuildsetup"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:build:setup”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astrobuildstart"><code dir="auto">astro:build:start</code></a></p> <p><strong>Next hook:</strong> <a href="#astrobuildssr"><code dir="auto">astro:build:ssr</code></a></p> <p><strong>When:</strong> After the <code dir="auto">astro:build:start</code> hook, runs immediately before the build.</p> <p><strong>Why:</strong> At this point, the Vite config for the build has been completely constructed, this is your final chance to modify it. This can be useful for example to overwrite some defaults. If you’re not sure whether you should use this hook or <code dir="auto">astro:build:start</code>, use <code dir="auto">astro:build:start</code> instead.</p> <div class="expressive-code">

<pre data-language="js">'astro:build:setup'?: (options: {
  vite: vite.InlineConfig;
  pages: Map&lt;string, PageBuildData&gt;;
  target: 'client' | 'server';
  updateConfig: (newConfig: vite.InlineConfig) =&gt; void;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="vite-option">
<code dir="auto">vite</code> option</h4>
<a class="sl-anchor-link" href="#vite-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “vite option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://vite.dev/guide/api-javascript.html#inlineconfig"><code dir="auto">InlineConfig</code></a></p> <p>An object that allows you to access the Vite configuration used in the build.</p> <p>This can be useful if you need to access configuration options in your integration:</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'my-integration',
  hooks: {
    'astro:build:setup': ({ vite }) =&gt; {
      const { publicDir, root } = vite;
    },
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="pages-option">
<code dir="auto">pages</code> option</h4>
<a class="sl-anchor-link" href="#pages-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “pages option”</span></a>
</div> 
<p><strong>Type:</strong> <code>Map&lt;string, <a href="https://github.com/withastro/astro/blob/3b10b97a4fecd1dfd959b160a07b5b8427fe40a7/packages/astro/src/core/build/types.ts#L17-L23">PageBuildData</a>&gt;</code></p> <p>A <code dir="auto">Map</code> with a list of pages as key and their build data as value.</p> <p>This can be used to perform an action if a route matches a criteria:</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'my-integration',
  hooks: {
    'astro:build:setup': ({ pages }) =&gt; {
      pages.forEach((data) =&gt; {
        if (data.route.pattern.test("/blog")) {
          console.log(data.route.type);
        }
      });
    },
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="target-option">
<code dir="auto">target</code> option</h4>
<a class="sl-anchor-link" href="#target-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “target option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">'client' | 'server'</code></p> <p>Builds are separated in two distinct phases: <code dir="auto">client</code> and <code dir="auto">server</code>. This option allow you to determine the current build phase.</p> <p>This can be used to perform an action only in a specific phase:</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'my-integration',
  hooks: {
    'astro:build:setup': ({ target }) =&gt; {
      if (target === "server") {
        // do something in server build phase
      }
    },
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="updateconfig-option-1">
<code dir="auto">updateConfig()</code> option</h4>
<a class="sl-anchor-link" href="#updateconfig-option-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “updateConfig() option”</span></a>
</div> 
<p><strong>Type:</strong> <code>(newConfig: <a href="https://vite.dev/guide/api-javascript.html#inlineconfig">InlineConfig</a>) =&gt; void</code></p> <p>A callback function to update the <a href="https://vite.dev/">Vite</a> options used in the build. Any config you provide <strong>will be merged with the user config + other integration config updates</strong>, so you are free to omit keys!</p> <p>For example, this can be used to supply a plugin to the user’s project:</p> <div class="expressive-code">

<pre data-language="js">import awesomeCssPlugin from 'awesome-css-vite-plugin';


export default {
  name: 'my-integration',
  hooks: {
    'astro:build:setup': ({ updateConfig }) =&gt; {
      updateConfig({
        plugins: [awesomeCssPlugin()],
      })
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astrobuildssr"><code dir="auto">astro:build:ssr</code></h3>
<a class="sl-anchor-link" href="#astrobuildssr"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:build:ssr”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astrobuildsetup"><code dir="auto">astro:build:setup</code></a></p> <p><strong>Next hook:</strong> <a href="#astrobuildgenerated"><code dir="auto">astro:build:generated</code></a></p> <p><strong>When:</strong> After a production SSR build has completed.</p> <p><strong>Why:</strong> To access the SSR manifest and map of the emitted entry points. This is useful when creating custom SSR builds in plugins or integrations.</p> <ul> <li>
<code dir="auto">entryPoints</code> maps a page route to the physical file emitted after the build;</li> <li>
<code dir="auto">middlewareEntryPoint</code> is the file system path of the middleware file;</li> </ul> <div class="expressive-code">

<pre data-language="js">'astro:build:ssr'?: (options: {
  manifest: SerializedSSRManifest;
  entryPoints: Map&lt;IntegrationRouteData, URL&gt;;
  middlewareEntryPoint: URL | undefined;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="manifest-option">
<code dir="auto">manifest</code> option</h4>
<a class="sl-anchor-link" href="#manifest-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “manifest option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://github.com/withastro/astro/blob/3b10b97a4fecd1dfd959b160a07b5b8427fe40a7/packages/astro/src/core/app/types.ts#L91-L109"><code dir="auto">SerializedSSRManifest</code></a></p> <p>Allows you to create a custom build by accessing the SSR manifest.</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'my-integration',
  hooks: {
    'astro:build:ssr': ({ manifest }) =&gt; {
      const { i18n } = manifest;
      if (i18n?.strategy === "domains-prefix-always") {
        // do something
      }
    },
  },
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="entrypoints-option">
<code dir="auto">entryPoints</code> option</h4>
<a class="sl-anchor-link" href="#entrypoints-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “entryPoints option”</span></a>
</div> 
<p><strong>Type:</strong> <code>Map&lt;<a href="#integrationroutedata-type-reference">IntegrationRouteData</a>, URL&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.7.0</code> </span> <p>A <code dir="auto">Map</code> of the emitted entry points with the <code dir="auto">IntegrationRouteData</code> as key and the physical file URL as value.</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'my-integration',
  hooks: {
    'astro:build:ssr': ({ entryPoints }) =&gt; {
      entryPoints.forEach((url) =&gt; {
        console.log(url.href);
      });
    },
  },
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="middlewareentrypoint-option">
<code dir="auto">middlewareEntryPoint</code> option</h4>
<a class="sl-anchor-link" href="#middlewareentrypoint-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “middlewareEntryPoint option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">URL | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.8.0</code> </span> <p>Exposes the <a href="../../guides/middleware/index">middleware</a> file path.</p> <div class="expressive-code">

<pre data-language="js">export default {
  name: 'my-integration',
  hooks: {
    'astro:build:ssr': ({ middlewareEntryPoint }) =&gt; {
      if (middlewareEntryPoint) {
        // do some operations if a middleware exist
      }
    },
  },
}</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astrobuildgenerated"><code dir="auto">astro:build:generated</code></h3>
<a class="sl-anchor-link" href="#astrobuildgenerated"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:build:generated”</span></a>
</div> <p><span> <strong>Added in:</strong> <code>astro@1.3.0</code> </span></p> <p><strong>Previous hook:</strong> <a href="#astrobuildssr"><code dir="auto">astro:build:ssr</code></a></p> <p><strong>Next hook:</strong> <a href="#astrobuilddone"><code dir="auto">astro:build:done</code></a></p> <p><strong>When:</strong> After a static production build has finished generating routes and assets.</p> <p><strong>Why:</strong> To access generated routes and assets <strong>before</strong> build artifacts are cleaned up. This is a very uncommon use case. We recommend using <a href="#astrobuilddone"><code dir="auto">astro:build:done</code></a> unless you really need to access the generated files before cleanup.</p> <div class="expressive-code">

<pre data-language="js">'astro:build:generated'?: (options: {
  dir: URL;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="dir-option">
<code dir="auto">dir</code> option</h4>
<a class="sl-anchor-link" href="#dir-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “dir option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code dir="auto">URL</code></a></p> <p>A URL path to the build output directory. Note that if you need a valid absolute path string, you should use Node’s built-in <a href="https://nodejs.org/api/url.html#urlfileurltopathurl-options"><code dir="auto">fileURLToPath</code></a> utility.</p> <div class="expressive-code">

<pre data-language="js">import { fileURLToPath } from 'node:url';


export default {
  name: 'my-integration',
  hooks: {
    'astro:build:generated': ({ dir }) =&gt; {
      const outFile = fileURLToPath(new URL('./my-integration.json', dir));
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astrobuilddone"><code dir="auto">astro:build:done</code></h3>
<a class="sl-anchor-link" href="#astrobuilddone"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “astro:build:done”</span></a>
</div> <p><strong>Previous hook:</strong> <a href="#astrobuildgenerated"><code dir="auto">astro:build:generated</code></a></p> <p><strong>When:</strong> After a production build (SSG or SSR) has completed.</p> <p><strong>Why:</strong> To access generated routes and assets for extension (ex. copy content into the generated <code dir="auto">/assets</code> directory). If you plan to transform generated assets, we recommend exploring the <a href="https://vite.dev/guide/api-plugin.html">Vite Plugin API</a> and <a href="#updateconfig-option">configuring via <code dir="auto">astro:config:setup</code></a> instead.</p> <div class="expressive-code">

<pre data-language="js">'astro:build:done'?: (options: {
  pages: { pathname: string }[];
  dir: URL;
  /** @deprecated Use the `assets` map and the new `astro:routes:resolved` hook */
  routes: IntegrationRouteData[];
  assets: Map&lt;string, URL[]&gt;;
  logger: AstroIntegrationLogger;
}) =&gt; void | Promise&lt;void&gt;;</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="dir-option-1">
<code dir="auto">dir</code> option</h4>
<a class="sl-anchor-link" href="#dir-option-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “dir option”</span></a>
</div> 
<p><strong>Type:</strong> <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code dir="auto">URL</code></a></p> <p>A URL path to the build output directory. Note that if you need a valid absolute path string, you should use Node’s built-in <a href="https://nodejs.org/api/url.html#urlfileurltopathurl-options"><code dir="auto">fileURLToPath</code></a> utility.</p> <div class="expressive-code">

<pre data-language="js">import { writeFile } from 'node:fs/promises';
import { fileURLToPath } from 'node:url';


export default function myIntegration() {
  return {
    hooks: {
      'astro:build:done': async ({ dir }) =&gt; {
        const metadata = await getIntegrationMetadata();
        // Use fileURLToPath to get a valid, cross-platform absolute path string
        const outFile = fileURLToPath(new URL('./my-integration.json', dir));
        await writeFile(outFile, JSON.stringify(metadata));
      }
    }
  }
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="routes-option-1">
<code dir="auto">routes</code> option</h4>
<a class="sl-anchor-link" href="#routes-option-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “routes option”</span></a>
</div> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true"><svg viewbox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z"></path></svg>Caution</p>
<div class="starlight-aside__content"><p>This property is deprecated since v5.0. Check the <a href="../../guides/upgrade-to/v5/index#deprecated-routes-on-astrobuilddone-hook-integration-api">migration guide</a>.</p></div></aside> 
<p><strong>Type:</strong> <a href="#integrationroutedata-type-reference"><code dir="auto">IntegrationRouteData[]</code></a></p> <p>A list of all generated routes alongside their associated metadata.</p> <p>You can reference the full <code dir="auto">IntegrationRouteData</code> type below, but the most common properties are:</p> <ul> <li>
<code dir="auto">component</code> - the input file path relative to the project root</li> <li>
<code dir="auto">pathname</code> - the output file URL (undefined for routes using <code dir="auto">[dynamic]</code> and <code dir="auto">[...spread]</code> params)</li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="assets-option">
<code dir="auto">assets</code> option</h4>
<a class="sl-anchor-link" href="#assets-option"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “assets option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">Map&lt;string, URL[]&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@5.0.0</code> </span> <p>Contains URLs to output files paths, grouped by <a href="#integrationresolvedroute-type-reference"><code dir="auto">IntegrationResolvedRoute</code></a> <code dir="auto">pattern</code> property.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="pages-option-1">
<code dir="auto">pages</code> option</h4>
<a class="sl-anchor-link" href="#pages-option-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “pages option”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">{ pathname: string }[]</code></p> <p>A list of all generated pages. It is an object with one property.</p> <ul> <li>
<code dir="auto">pathname</code> - the finalized path of the page.</li> </ul> <div class="sl-heading-wrapper level-h3">
<h3 id="custom-hooks">Custom hooks</h3>
<a class="sl-anchor-link" href="#custom-hooks"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Custom hooks”</span></a>
</div> <p>Custom hooks can be added to integrations by extending the <code dir="auto">IntegrationHooks</code> interface through <a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html#global-augmentation">global augmentation</a>.</p> <div class="expressive-code">

<pre data-language="ts">declare global {
  namespace Astro {
    export interface IntegrationHook {
      'your:hook': (params: YourHookParameters) =&gt; Promise&lt;void&gt;
    }
  }
}</pre>

</div> <p>Astro reserves the <code dir="auto">astro:</code> prefix for future built-in hooks. Please choose a different prefix when naming your custom hook.</p> <div class="sl-heading-wrapper level-h2">
<h2 id="integration-types-reference">Integration types reference</h2>
<a class="sl-anchor-link" href="#integration-types-reference"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Integration types reference”</span></a>
</div> <div class="sl-heading-wrapper level-h3">
<h3 id="astrointegrationlogger"><code dir="auto">AstroIntegrationLogger</code></h3>
<a class="sl-anchor-link" href="#astrointegrationlogger"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “AstroIntegrationLogger”</span></a>
</div> <p>An instance of the Astro logger, useful to write logs. This logger uses the same <a href="../cli-reference/index#--verbose">log level</a> configured via CLI.</p> <p><strong>Methods available</strong> to write to terminal:</p> <ul> <li>
<code dir="auto">logger.info("Message")</code>;</li> <li>
<code dir="auto">logger.warn("Message")</code>;</li> <li>
<code dir="auto">logger.error("Message")</code>;</li> <li>
<code dir="auto">logger.debug("Message")</code>;</li> </ul> <p>All the messages are prepended with a label that has the same value as the name of the integration.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">integration.ts</span></div>
<pre data-language="ts">import type { AstroIntegration } from "astro";
export function formatIntegration(): AstroIntegration {
  return {
    name: "astro-format",
    hooks: {
      "astro:build:done": ({ logger }) =&gt; {
        // do something
        logger.info("Integration ready.");
      }
    }
  }
}</pre>

</div> <p>The example above will log a message that includes the provided <code dir="auto">info</code> message:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">[astro-format] Integration ready.</pre>

</div> <p>To log some messages with a different label, use the <code dir="auto">.fork</code> method to specify an alternative to the default <code dir="auto">name</code>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">integration.ts</span></div>
<pre data-language="ts">import type { AstroIntegration } from "astro";
export function formatIntegration(): AstroIntegration {
  return {
    name: "astro-format",
    hooks: {
      "astro:config:done": ({ logger }) =&gt; {
        // do something
        logger.info("Integration ready.");
      },
      "astro:build:done": ({ logger }) =&gt; {
        const buildLogger = logger.fork("astro-format/build");
        // do something
        buildLogger.info("Build finished.")
      }
    }
  }
}</pre>

</div> <p>The example above will produce logs with <code dir="auto">[astro-format]</code> by default, and <code dir="auto">[astro-format/build]</code> when specified:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">[astro-format] Integration ready.
[astro-format/build] Build finished.</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="hookparameters"><code dir="auto">HookParameters</code></h3>
<a class="sl-anchor-link" href="#hookparameters"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “HookParameters”</span></a>
</div> <p>You can get the type of a hook’s arguments by passing the hook’s name to the <code dir="auto">HookParameters</code> utility type. In the following example, a function’s <code dir="auto">options</code> argument is typed to match the parameters of the <code dir="auto">astro:config:setup</code> hook:</p> <div class="expressive-code">

<pre data-language="ts">import type { HookParameters } from 'astro';


function mySetup(options: HookParameters&lt;'astro:config:setup'&gt;) {
  options.updateConfig({ /* ... */ });
}</pre>

</div> <div class="sl-heading-wrapper level-h3">
<h3 id="integrationresolvedroute-type-reference">
<code dir="auto">IntegrationResolvedRoute</code> type reference</h3>
<a class="sl-anchor-link" href="#integrationresolvedroute-type-reference"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “IntegrationResolvedRoute type reference”</span></a>
</div> <div class="expressive-code">

<pre data-language="ts">interface IntegrationResolvedRoute {
  pattern: RouteData['route'];
  patternRegex: RouteData['pattern'];
  entrypoint: RouteData['component'];
  isPrerendered: RouteData['prerender'];
  redirectRoute?: IntegrationResolvedRoute;
  generate: (data?: any) =&gt; string;
  params: string[];
  pathname?: string;
  segments: RoutePart[][];
  type: RouteType;
  redirect?: RedirectConfig;
  origin: 'internal' | 'external' | 'project';
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="pattern"><code dir="auto">pattern</code></h4>
<a class="sl-anchor-link" href="#pattern"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “pattern”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>Allows you to identify the type of route based on its path. Here are some examples of paths associated with their pattern:</p> <ul> <li>
<code dir="auto">src/pages/index.astro</code> will be <code dir="auto">/</code>
</li> <li>
<code dir="auto">src/pages/blog/[...slug].astro</code> will be <code dir="auto">/blog/[...slug]</code>
</li> <li>
<code dir="auto">src/pages/site/[blog]/[...slug].astro</code> will be <code dir="auto">/site/[blog]/[...slug]</code>
</li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="patternregex"><code dir="auto">patternRegex</code></h4>
<a class="sl-anchor-link" href="#patternregex"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “patternRegex”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">RegExp</code></p> <p>Allows you to access a regex used for matching an input URL against a requested route.</p> <p>For example, given a <code dir="auto">[fruit]/about.astro</code> path, the regex will be <code dir="auto">/^\/([^/]+?)\/about\/?$/</code>. Using <code dir="auto">pattern.test("banana/about")</code> will return <code dir="auto">true</code>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="entrypoint"><code dir="auto">entrypoint</code></h4>
<a class="sl-anchor-link" href="#entrypoint"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “entrypoint”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>The URL pathname of the source component.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="isprerendered"><code dir="auto">isPrerendered</code></h4>
<a class="sl-anchor-link" href="#isprerendered"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “isPrerendered”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">boolean</code></p> <p>Determines whether the route use <a href="../../guides/on-demand-rendering/index">on demand rendering</a>. The value will be <code dir="auto">true</code> for projects configured with:</p> <ul> <li>
<code dir="auto">output: 'static'</code> when the route does not export <code dir="auto">const prerender = true</code>
</li> <li>
<code dir="auto">output: 'server'</code> when the route exports <code dir="auto">const prerender = false</code>
</li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="redirectroute"><code dir="auto">redirectRoute</code></h4>
<a class="sl-anchor-link" href="#redirectroute"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “redirectRoute”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">IntegrationResolvedRoute | undefined</code></p> <p>When the value of <code dir="auto">IntegrationResolvedRoute.type</code> is <code dir="auto">redirect</code>, the value will be the <code dir="auto">IntegrationResolvedRoute</code> to redirect to. Otherwise, the value will be undefined.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="generate"><code dir="auto">generate()</code></h4>
<a class="sl-anchor-link" href="#generate"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “generate()”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(data?: any) =&gt; string</code></p> <p>A function that provides the optional parameters of the route, interpolates them with the route pattern, and returns the path name of the route.</p> <p>For example, with a route such as <code dir="auto">/blog/[...id].astro</code>, the <code dir="auto">generate</code> function could return:</p> <div class="expressive-code">

<pre data-language="js">console.log(generate({ id: 'presentation' })) // will log `/blog/presentation`</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="params"><code dir="auto">params</code></h4>
<a class="sl-anchor-link" href="#params"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “params”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string[]</code></p> <p>Allows you to access the route <code dir="auto">params</code>. For example, when a project uses the following <a href="../../guides/routing/index#dynamic-routes">dynamic routes</a> <code dir="auto">/pages/[lang]/[...slug].astro</code>, the value will be <code dir="auto">['lang', '...slug']</code>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="pathname"><code dir="auto">pathname</code></h4>
<a class="sl-anchor-link" href="#pathname"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “pathname”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code></p> <p>For regular routes, the value will be the URL pathname where this route will be served. When the project uses <a href="../../guides/routing/index#dynamic-routes">dynamic routes</a> (ie. <code dir="auto">[dynamic]</code> or <code dir="auto">[...spread]</code>), the pathname will be undefined.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="segments"><code dir="auto">segments</code></h4>
<a class="sl-anchor-link" href="#segments"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “segments”</span></a>
</div> 
<p><strong>Type:</strong> <code><a href="https://github.com/withastro/astro/blob/3b10b97a4fecd1dfd959b160a07b5b8427fe40a7/packages/astro/src/types/public/internal.ts#L154-L158">RoutePart</a>[][]</code></p> <p>Allows you to access the route <a href="#params"><code dir="auto">params</code></a> with additional metadata. Each object contains the following properties:</p> <ul> <li>
<code dir="auto">content</code>: the <code dir="auto">param</code> name,</li> <li>
<code dir="auto">dynamic</code>: whether the route is dynamic or not,</li> <li>
<code dir="auto">spread</code>: whether the dynamic route uses the spread syntax or not.</li> </ul> <p>For example, the following route <code dir="auto">/pages/[blog]/[...slug].astro</code> will output the segments:</p> <div class="expressive-code">

<pre data-language="js">[
  [ { content: 'pages', dynamic: false, spread: false } ],
  [ { content: 'blog', dynamic: true, spread: false } ],
  [ { content: '...slug', dynamic: true, spread: true } ]
]</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="type"><code dir="auto">type</code></h4>
<a class="sl-anchor-link" href="#type"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “type”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">RouteType</code></p> <p>Allows you to identify the type of route. Possible values are:</p> <ul> <li>
<code dir="auto">page</code>: a route that lives in the file system, usually an Astro component</li> <li>
<code dir="auto">endpoint</code>: a route that lives in the file system, usually a JS file that exposes endpoints methods</li> <li>
<code dir="auto">redirect</code>: a route points to another route that lives in the file system</li> <li>
<code dir="auto">fallback</code>: a route that doesn’t exist in the file system that needs to be handled with other means, usually the middleware</li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="redirect"><code dir="auto">redirect</code></h4>
<a class="sl-anchor-link" href="#redirect"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “redirect”</span></a>
</div> 
<p><strong>Type:</strong> <code><a href="https://github.com/withastro/astro/blob/3b10b97a4fecd1dfd959b160a07b5b8427fe40a7/packages/astro/src/types/public/config.ts#L39-L44">RedirectConfig</a> | undefined</code></p> <p>Allows you to access the route to redirect to. This can be a string or an object containing information about the status code and its destination.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="origin"><code dir="auto">origin</code></h4>
<a class="sl-anchor-link" href="#origin"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “origin”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">'internal' | 'external' | 'project'</code></p> <p>Determines if a route comes from Astro core (<code dir="auto">internal</code>), an integration (<code dir="auto">external</code>) or the user’s project (<code dir="auto">project</code>).</p> <div class="sl-heading-wrapper level-h3">
<h3 id="integrationroutedata-type-reference">
<code dir="auto">IntegrationRouteData</code> type reference</h3>
<a class="sl-anchor-link" href="#integrationroutedata-type-reference"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “IntegrationRouteData type reference”</span></a>
</div> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true"><svg viewbox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z"></path></svg>Caution</p>
<div class="starlight-aside__content"><p>This type is deprecated since v5.0. Use <a href="#integrationresolvedroute-type-reference"><code dir="auto">IntegrationResolvedRoute</code></a> instead.</p></div></aside> <p>A smaller version of the <code dir="auto">RouteData</code> that is used in the integrations.</p> <div class="expressive-code">

<pre data-language="ts">interface IntegrationRouteData {
  type: RouteType;
  component: string;
  pathname?: string;
  pattern: RegExp;
  params: string[];
  segments: { content: string; dynamic: boolean; spread: boolean; }[][];
  generate: (data?: any) =&gt; string;
  prerender: boolean;
  distURL?: URL[];
  redirect?: RedirectConfig;
  redirectRoute?: IntegrationRouteData;
}</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="type-1"><code dir="auto">type</code></h4>
<a class="sl-anchor-link" href="#type-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “type”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">RouteType</code></p> <p>Allows you to identify the type of the route. The value can be:</p> <ul> <li>
<code dir="auto">page</code>: a route that lives in the file system, usually an Astro component</li> <li>
<code dir="auto">endpoint</code>: a route that lives in the file system, usually a JS file that exposes endpoints methods</li> <li>
<code dir="auto">redirect</code>: a route that points to another route that lives in the file system</li> <li>
<code dir="auto">fallback</code>: a route that doesn’t exist in the file system and needs to be handled with other means, usually middleware</li> </ul> <div class="sl-heading-wrapper level-h4">
<h4 id="component"><code dir="auto">component</code></h4>
<a class="sl-anchor-link" href="#component"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “component”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>Allows you to access the source component URL pathname.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="pathname-1"><code dir="auto">pathname</code></h4>
<a class="sl-anchor-link" href="#pathname-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “pathname”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code></p> <p>For regular routes, the value will be the URL pathname where this route will be served. When the project uses <a href="../../guides/routing/index#dynamic-routes">dynamic routes</a> (ie. <code dir="auto">[dynamic]</code> or <code dir="auto">[...spread]</code>), the pathname will be undefined.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="pattern-1"><code dir="auto">pattern</code></h4>
<a class="sl-anchor-link" href="#pattern-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “pattern”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">RegExp</code></p> <p>Allows you to access a regex used for matching an input URL against a requested route.</p> <p>For example, given a <code dir="auto">[fruit]/about.astro</code> path, the regex will be <code dir="auto">/^\/([^/]+?)\/about\/?$/</code>. Using <code dir="auto">pattern.test("banana/about")</code> will return <code dir="auto">true</code>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="params-1"><code dir="auto">params</code></h4>
<a class="sl-anchor-link" href="#params-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “params”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">string[]</code></p> <p>Allows you to access the route <code dir="auto">params</code>. For example, when a project uses the following <a href="../../guides/routing/index#dynamic-routes">dynamic routes</a> <code dir="auto">/pages/[lang]/[...slug].astro</code>, the value will be <code dir="auto">['lang', '...slug']</code>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="segments-1"><code dir="auto">segments</code></h4>
<a class="sl-anchor-link" href="#segments-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “segments”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">{ content: string; dynamic: boolean; spread: boolean; }[][]</code></p> <p>Allows you to access the route <a href="#params-1"><code dir="auto">params</code></a> with additional metadata. Each object contains the following properties:</p> <ul> <li>
<code dir="auto">content</code>: the <code dir="auto">param</code>,</li> <li>
<code dir="auto">dynamic</code>: whether the route is dynamic or not,</li> <li>
<code dir="auto">spread</code>: whether the dynamic route uses the spread syntax or not.</li> </ul> <p>For example, the following route <code dir="auto">/pages/[lang]/index.astro</code> will output the segments <code dir="auto">[[ { content: 'lang', dynamic: true, spread: false } ]]</code>.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="generate-1"><code dir="auto">generate()</code></h4>
<a class="sl-anchor-link" href="#generate-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “generate()”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">(data?: any) =&gt; string</code></p> <p>A function that provides the optional parameters of the route, interpolates them with the route pattern, and returns the path name of the route.</p> <p>For example, with a route such as <code dir="auto">/blog/[...id].astro</code>, the <code dir="auto">generate</code> function could return:</p> <div class="expressive-code">

<pre data-language="js">console.log(generate({ id: 'presentation' })) // will log `/blog/presentation`</pre>

</div> <div class="sl-heading-wrapper level-h4">
<h4 id="prerender"><code dir="auto">prerender</code></h4>
<a class="sl-anchor-link" href="#prerender"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “prerender”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">boolean</code></p> <p>Determines whether the route is prerendered or not.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="disturl"><code dir="auto">distURL</code></h4>
<a class="sl-anchor-link" href="#disturl"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “distURL”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">URL[] | undefined</code></p> <p>The paths of the physical files emitted by this route. When a route <strong>isn’t</strong> prerendered, the value is either <code dir="auto">undefined</code> or an empty array.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="redirect-1"><code dir="auto">redirect</code></h4>
<a class="sl-anchor-link" href="#redirect-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “redirect”</span></a>
</div> 
<p><strong>Type:</strong> <code><a href="https://github.com/withastro/astro/blob/3b10b97a4fecd1dfd959b160a07b5b8427fe40a7/packages/astro/src/types/public/config.ts#L39-L44">RedirectConfig</a> | undefined</code></p> <p>Allows you to access the route to redirect to. This can be a string or an object containing information about the status code and its destination.</p> <div class="sl-heading-wrapper level-h4">
<h4 id="redirectroute-1"><code dir="auto">redirectRoute</code></h4>
<a class="sl-anchor-link" href="#redirectroute-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “redirectRoute”</span></a>
</div> 
<p><strong>Type:</strong> <code dir="auto">IntegrationRouteData | undefined</code></p> <p>When the value of <code dir="auto">RouteData.type</code> is <code dir="auto">redirect</code>, the value will contains the <code dir="auto">IntegrationRouteData</code> of the route to redirect to. Otherwise, the value will be undefined.</p> <div class="sl-heading-wrapper level-h2">
<h2 id="allow-installation-with-astro-add">Allow installation with <code dir="auto">astro add</code>
</h2>
<a class="sl-anchor-link" href="#allow-installation-with-astro-add"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Allow installation with astro add”</span></a>
</div> <p><a href="../cli-reference/index#astro-add">The <code dir="auto">astro add</code> command</a> allows users to easily add integrations and adapters to their project. If you want <em>your</em> integration to be installable with this tool, <strong>add <code dir="auto">astro-integration</code> to the <code dir="auto">keywords</code> field in your <code dir="auto">package.json</code></strong>:</p> <div class="expressive-code">

<pre data-language="json">{
  "name": "example",
  "keywords": ["astro-integration"],
}</pre>

</div> <p>Once you <a href="https://docs.npmjs.com/cli/v8/commands/npm-publish">publish your integration to npm</a>, running <code dir="auto">astro add example</code> will install your package with any peer dependencies specified in your <code dir="auto">package.json</code>. This will also apply your integration to the user’s <code dir="auto">astro.config.*</code> like so:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig } from 'astro/config';
import example from 'example';


export default defineConfig({
  integrations: [example()],
})</pre>

</div> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true"><svg viewbox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z"></path></svg>Caution</p>
<div class="starlight-aside__content"><p>This assumes your integration definition is 1) a <code dir="auto">default</code> export and 2) a function. Ensure this is true before adding the <code dir="auto">astro-integration</code> keyword!</p></div></aside> <div class="sl-heading-wrapper level-h2">
<h2 id="integration-ordering">Integration Ordering</h2>
<a class="sl-anchor-link" href="#integration-ordering"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Integration Ordering”</span></a>
</div> <p>All integrations are run in the order that they are configured. For instance, for the array <code dir="auto">[react(), svelte()]</code> in a user’s <code dir="auto">astro.config.*</code>, <code dir="auto">react</code> will run before <code dir="auto">svelte</code>.</p> <p>Your integration should ideally run in any order. If this isn’t possible, we recommend documenting that your integration needs to come first or last in your user’s <code dir="auto">integrations</code> configuration array.</p> <div class="sl-heading-wrapper level-h2">
<h2 id="combine-integrations-into-presets">Combine integrations into presets</h2>
<a class="sl-anchor-link" href="#combine-integrations-into-presets"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Combine integrations into presets”</span></a>
</div> <p>An integration can also be written as a collection of multiple, smaller integrations. We call these collections <strong>presets.</strong> Instead of creating a factory function that returns a single integration object, a preset returns an <em>array</em> of integration objects. This is useful for building complex features out of multiple integrations.</p> <div class="expressive-code">

<pre data-language="js">integrations: [
  // Example: where examplePreset() returns: [integrationOne, integrationTwo, ...etc]
  examplePreset()
]</pre>

</div> <div class="sl-heading-wrapper level-h2">
<h2 id="community-resources">Community Resources</h2>
<a class="sl-anchor-link" href="#community-resources"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Community Resources”</span></a>
</div> <ul> <li>
<a href="https://www.freecodecamp.org/news/how-to-use-the-astro-ui-framework/#chapter-8-build-your-own-astro-integrations-1">Build your own Astro Integrations</a> - by Emmanuel Ohans on FreeCodeCamp</li> <li>
<a href="https://github.com/florian-lefebvre/astro-integration-template">Astro Integration Template</a> - by Florian Lefebvre on GitHub</li> </ul> <span id="docsearch-lvl0" hidden>Reference</span> </div> <div class="hide-when-toc-is-visible astro-o5o7wsh2"> <div class="container astro-6x7bp2qc" lang="en" dir="ltr" data-algolia-exclude> <aside aria-labelledby="learn-astro-course-1" class="astro-6x7bp2qc"> <img src="data:image/webp;base64,UklGRvIQAABXRUJQVlA4WAoAAAAQAAAAgQAAhAAAQUxQSC0DAAABoBvbmtzMeVNjavtC+LS7UAbw5GmgBIaIYABTO5ABOwDpByMYKAGxMxgEoCp8CajYliyV+jNIAk2gP61OREwAckiV8w52cz2IqqrYRGUzBr1PAKjsCjuocj7o8rp2k6r2NnA9iKb32aOyGYM+NoAq5ylT1I1etyiqqvWxzQ43g+jGfWbGoHss8uJ1l56y4vahL7JS7cRlhOvTTnwmymYMul96n3Iw6c5f5MDtzQF49vzZvuq9+bc+/fzbrz7eS9dXBVDu7fcff/n1z9++vOLa9VvzqqqiWfzjp3YQVVW/tekqt5vz/xHgWow7BM3zpmq1j3M1bQkhU7Kp0Tqq3GRdpdneEOdLg3eHkh7EVTOIZn8a+6pIQ24KamjwjtchqLGChM6aIUVpTZkCYosgaW+LS8O2cBp4SzwSt5YcUpElnArejp+RvLLjkI6CFQEPdFYMD6CTFcd0taiZckhTejV14nV0VHMHXtEFNVjaJaWo0XK4xV4NHxhAp8Z3QGtdC8DZ1uPaWzbiJoldQrfAwSph3C+tKrC0tanFcmdRj7XenhGrSawRWgcOtggjhdg3qbETrTuqucOqTg3uVlRq8mERB5vCZwtY1Oj5/XuTmv2Gbh3V8OFGp6Z3ACo1/gA4644AWAyLvsTNWoyKl5e4z71JsSMs5pM58cxYXYspcS6RtBU7Lh1S82jFEyH9yQqHB4oVlwdUamUs053M0HMyVjsvlKo2JLapvCHqE7FaGilNa4r2acQWn6RQW2OZ4mSMuhRizSUBj5MhMcb5Na8DQGXjfMhcjPHy5viqIDy0qPpxylScn15VjM1KjmbCtvOEfwfOW/P/X5LRdTuJvTvPMcZdBe+aggAg7GMGACobd77EGOPm3NBUjIX9Prqr21Q2r49bW827iLwki34PZ2S23UF8mRsKa8IWODfwy0JLsk64npc9Ibvlop4ADmuEAXZxQfwiPwj3POO6WFPgmk/xzowMu1tTibvtshZ3qzneeMpReRVaLO2X9Fhaz6oaixzBq/aE5ad7I5azizojy71nrKXpltAKgIeXeUrKciWMhGQGiqAaGLbXqhWs73v8DQQAVlA4IJ4NAAAQOQCdASqCAIUAPm0ulEakIiIhKfFNQIANiWoGWBdGb9AP0A8QD8AP0A/gCYQo4/HdWxu/yPnDWL+7/jv+t+6DvpjzdoGTX1Q+Yb+rXTc8xn7Pfr17u3+o9Uv9d9Qb+Y/7T0h/Yg9Any2f3Q+Db90v3Y9rbqAOE8/w3bJ/gPEHx7+3/b/+r86B6b7wfqPOnwH+QuoF+QfzP/I/mDw7AA/zv+i/5vw69Vm9e/4PHo0AP0Z6Jf/T52vrX2Ef5n/af+aw/gTPTU/vLqKfCV8mH5T6U/PmrHeKP4iwI0pGgGIOTwR8GHgNdHTpJ4Q+dNhyfO5imVdCwpBnMq35ttJBnEiM3iZsv5SQktXSwEBbBLD0IG1RmGuGCbaAWSgDGuxMwa6/CsrGIDhuHKp80v5X7AjIQXItjUjkNPZjuQgJjI84s0My4ljxQIEaS65ayH50oCYbwLJtrOzqIes8gjW6AZMjGH/zRyozx9+RD4Mug1jNa/y/XAcE/8mX4+tN3f1aV56pkfC/AJQ780+e/i7lrvwEXqbRU3SpqAzfFPz1ZYL965jgtUqEsc5JZwJMf+O2KqIlgpVcTf7gSBf3DI0KttHzHq/r4iurh+Bi+K4XwcC1KGAA/v5HgnxTjiLf9rueWoIV3ZKnAcWdiQk+8JKA3dxQvlK8YSqal2d0CCOfXQ1xnpiaaNbwpWproUytNP/Z+c4HKicI9XY0dPfjI9F2xPXSEJ1/Mdxwr0jwadiphU+HVPJ/wisObIruUydsXIKrT7rho1+xSIIGnlIBiS7ZWbTkFzgImxBvCt4Rzr8xY9khTZRzBfGdNR8P562aVSSSbl2TqCI1uRRKt1H65eU9WgqsRmsOTaVqojHjYNeivXv78UWtckYKpC2aezZKEi0EbUV2knUAz15G43k461s8rKE2Oer2FXlxgoXctt9NwAPV3qe3t8usyEA90CXTl2taJUQXglWmhOyudhMigXzOSh8b77qVEA7SK0bAGtftHqKcw4CD6+gW87cebJnpxUWk9GMVzH7yb8p0jFqjfn3PmsSnZEQakQ1LlqNFT1fSGU263Y8ZetifSEKngPxo/a/8mOXvx+IW5eom9gfOQB6JZSy+yQWv41ePupkGZ4aJvMDgLqY1ouaq8Njyje/96essb78xkNUOxdm5jJQyDHVOuugL8zphd05AgDvfcHF5NhQh8OT1iXnrUusn/NEHuWRjTM5o0aAYjm+7j+ZMEBD2ldvsX4xft/8BWvbyCOcNGPI15Tnr/NDfmrWvqdP/XCXTw6ESgVr5KMW3GX1fTKioVOs9k6s9I6TpP5YynXNP4P2eCkN0IFbx+uzeehFsx9UVSWuwlBEsHd5Caj2rDhH7qUeG0N9sDCcUE3kcYqtVE81QJ3M6a9fayJ4ZxxSx03a7kIPZiWk3a53cqGWsJ9KIxxjwHgBeHP4yOg6Xvp9PuJfi/8cpUp4JPERIAD75aRe7TThr50j8xGIMwl0xCZquxC//mgCf0MsNOAWFddw8j0Jftq2n9jb+zOUO4v7TQMHc7sYAN7Ct1/nKB/V1PjFO9RpfPiunpUOGh+pq/PrwECAWI0FqZzUWbDS8Shg+6AvCvc5/tPBJVcyRKlep6IYJvB7DWH3aWSoJK1/317/JpcvO3obA3FX9Dn48TbG3fxvgvT63lcbZZ/apnKQp+5tWTmns9wXc/N+WYByjnbgI3sM79BbnVS6oB1+JflbfTGdFWeFPO3RP+2EWAzIPutF4S/pYtzOTNPOzCpgS+BfcMcv/H4NqOP630Ep7otKnEoljvQ33bhFw90L4V6cGdsw5/jWV1Z+HxOj8OC4wMRM8P/0iHBjuwB5oYpPs59z2MyX4ty4BXthtcS0X9LMIR/horHXiBsu+yAGkNmAapUB3ovAPtSZ44HksTqQEX0N00QTslHAetwDAH59SjUPCnAupeAZXdCioRW4RH8Hu81X7eovGrTKs88/l+nICbNdFI/EU+bajYP/i5IngzJVrUlzDtgqX8rSh1ARS/4XC+8aGOu+i+Z9ch0204ah8KA3TJtKU4ax1s7prBo/+wVuoOfZbZgo6/MrxL/KzKDr/9Ppf/9Qnj+Js5hjLYtNPLBAh+lx+KoW4xN+S0muI60C62TECJty8ChdStMHK0vsqXBS52Empg2XazUORL8ihrKqwFQHGYaxvLbysp8dJIFtuiICAx5640v51e0rowenxMsHiLRjQQ/6PG2ZC9kId0S+6o7GaNlpniPO73wSYGBwPZs6FnG5DfW7qutSL++TLH7/xlVqnArmWFUAVP5xpE5EZNKHUa3xRRAAQxoof1EOUbu3PAboBRIMWyuIAcGvCEBiefErl2tu+zSu8BcZcBUuLIPKZ6PqQqXYTNOMFmTZ1N+aB1T11nChDM16lDTcwXE2fC+X9UOVpiywDSej4o1w+V4kg20vMfgOlb92neCr0iWVHw4v8cZG8uyAz1D8Mwpej5VkRtGLV4MqQmQSJVbdh/YAZOFdqZEmioZhJNEraPswZXryMCr8k2e+2Kr21u3DMLdCSt6KsIqIDSqIoesZ/USj/FQf1YMu3DEVGJxFqz9QqA/BmEYd9UqFjsjA0WqF86gbe/MfULl+nya3FXYynm3EK4/Z9YvQAccfFEZjRId4RuorhLwLXgGIJLsSSeMi3aNZWY7QgTFAeOAJTWB5rnuP+LgsQ9JfvUGt6/4uDBozO/ezxRsZkr7BcHNkT9nj6BcJ6WZdh8GMeuvUeB7jxE/gNgD4ACL3ZU/8NGo0qAf7L2lcTy3dlFKkCPoBFpuegSDl/UimIMze66lN4C6Jdt5JyWsi8B1JftvKPvHlVoNtrV/aOdgdBpVQ4sRv55eKLyLtnt+STASUC9+NwngGFDUzOjO0zuL/9ZaWY7yXWihY7puWtVJRK4kcrwZWhcV7rRJJHsc14cI2KcgT140ESNAD3koA9U6nbEgJ4HVubC0AbnoVHKUZ6tkimIvldCLQZeETQZyb71r2RrGsfNVil8GpwLFNh0sRFBpA0yXmB2HRfhPsAMGWrjlrgbDKbbETNmjfX3k8lLSZSP9PsEWmNy3CmTxJxq2wcXcX1Lc4a51pxdOWFvZU+mt0tPhAqDIcFB/5JvWDBQgIbvp50ku3vG7EnC3dRF0kLxN8V7mFfdGHs9pzUO2N+/5e9f89/uFjB3iIOZNBuRkA0sGpva3LlZ5/ABHgMLLJeDTawhs6NUbde0dzbsvHLlmqDGbby48E2dP8T973BESg4EpjjGPor4oIM+n+hXfnJEZlb2pmoYBkH1UzBbp8GrDPgzsSHB4WgJv8ejcJ7azEAtLTaaBrr3QjuVWZOk0xePT/Ej8KuLqv/iVAu3uWbGiZGUTszgRbVvFgiDmhF9ZMBPip3GoSel1O2hR3wO2w5J0U4WohjPKE6EnTW8ObQOr9x85s5I+etJHX3C8WMTJIaRTHoQTIyVwpY2Hq+LgPdOQP4FN/3oLu/UHWzRx1WdjyXwuw14+YSY1aX51LYGg82H1jgF/9eg4KZ5JCkcC5BbxPzjZwuyOZoSuxCZVtUT2Wz90HOQ/Sw7/8MTBS4Ia+/w4ovMo/WBWmdsii8d0KhMILwUouq8o4nHzxr8o8ubBZLtIMkDYTaOZ5GjKJOEKT6tUS+Ft+TWPMv57yV0gfDWZ2+j8r/lvxC1AsmNns6IPImLIsZVLJH08i1kb1Rc0GCec/Xpn0J4PpfH+RfaYlyUIrWr7BJCkWpz7NTlNLWyrnF9VmwjIOBgerx2lXbf3zyRwg+Fj6M9Hks5GW9pw6o/baxr9ANg7963+HAU7qga6FOTCc03t/60u4ADG2UO7kIjOLoZvJow2Vqv5qWlerTRX0QamZ3QG42eZC2QO+wQ8o42wyiLmcP895sNS9jPH0cKw3sUcrrdMorEv+6z4sbN1RYoe9bgyg6r5LB3CenKcTJVz/zgFYn2piU5COjFR5CojGncJMSjktcQTL+UFoZuwM/BLWI3ieJu5BTGGMaVPfwItVkvzWdobB9twbPMi/v283FD8D/X/JoGhU4CmGPaejcYacF0WUBclBoe+5b2bt0Z4mMjGvB18NUAam941jMZSw2WLI/6hE2jqg4Qk1L7DxuWQwSNqCNHYQyG0OG3RRUrYAnVg/8hQu8+4T0emlY6a+pclJL2VMkgFpbQ4dqkiO4Ib722cE5x3yNpgC3MAKeb8QpeqIBs25V7u+aBMRiQtkUf0TBpoatngyDSw6p73APq+LE7SQilTbAyAACOiPdWCOPck/6B7uf3M3YYmd8sFf2LPw5aA1DE6TgaCbuAyxIDbJEv31kZtBX1+pOYzOZMUyzLkw1/B6p3yykaUIwzCug1DsUm1oilXADOJ0y66BosB7eeBtbkM707OcPsNhX6Crok3rDYbglTeZUzQ/XTZ1twRpo9jlgJi6VI+LxioF+M1JY5YkFitFbZvqXghwWP5CVa9XseyuMA1h2vNP07TUsMfYADJG6j8iv7qYX3cTJEAdWKNsnqMpZHMpjFt1/bjbWINaFQ80KA4BePAD/0yUljxmO6mZ12JxxcI7z7xECgEfWQMMaWRUma8+nVWgAAKGf/9tWDQD+abzdX8RW4R2tnutVQ9nvMGwc5YugGXzUbDrmACTSTqR+32qjypHrITBkUaAAAAA=" alt loading="lazy" decoding="async" fetchpriority="auto" width="130" height="133" class="astro-6x7bp2qc"> <h2 id="learn-astro-course-1" class="astro-6x7bp2qc">Learn Astro with <strong class="astro-6x7bp2qc">Coding in Public</strong>
</h2> <p class="sl-flex astro-6x7bp2qc"> <span class="sl-flex astro-6x7bp2qc" style="gap: 0.25rem; align-items: center;"> <svg fill="currentColor" viewbox="0 0 18 18" aria-hidden="true" class="astro-6x7bp2qc"> <path d="M12 7.7 8.25 5.53A1.5 1.5 0 0 0 6 6.83v4.34a1.5 1.5 0 0 0 2.25 1.3L12 10.3a1.5 1.5 0 0 0 0-2.6ZM11.25 9 7.5 11.17V6.83L11.25 9ZM9 1.5a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15ZM9 15A6 6 0 1 1 9 3a6 6 0 0 1 0 12Z" class="astro-6x7bp2qc"></path> </svg> <span class="astro-6x7bp2qc">150+ video lessons</span> </span> <span class="astro-6x7bp2qc">•</span> <span class="astro-6x7bp2qc">Astro v5 ready</span> </p> <a class="sl-link-button not-content primary cta astro-6x7bp2qc astro-n3qr5j5k" href="https://learnastro.dev?code=ASTRO_HOLIDAY_PROMO" data-learn-astro-cta="true"> <span class="astro-6x7bp2qc"><strong class="astro-6x7bp2qc">Price Drop!</strong> Get 33% off</span> </a> </aside> </div>  </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/reference/integrations-reference/" class="_attribution-link">https://docs.astro.build/en/reference/integrations-reference/</a>
  </p>
</div>

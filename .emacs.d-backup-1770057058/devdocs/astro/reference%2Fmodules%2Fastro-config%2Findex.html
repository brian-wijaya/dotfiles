<h1 id="_top" class="astro-62i6xxx4">Config imports API Reference</h1> <div class="content-panel astro-2mug3n2c"> <div class="sl-container astro-2mug3n2c"> <div class="sl-markdown-content"> <p><span> <strong>Added in:</strong> <code>astro@5.7.0</code> </span></p> <p>This virtual module <code dir="auto">astro:config</code> exposes a non-exhaustive, serializable, type-safe version of the Astro configuration. There are two submodules for accessing different subsets of your configuration values: <a href="#imports-from-astroconfigclient"><code dir="auto">/client</code></a> and <a href="#imports-from-astroconfigserver"><code dir="auto">/server</code></a>.</p> <p>All available config values can be accessed from <code dir="auto">astro:config/server</code>. However, for code executed on the client, only those values exposed by <code dir="auto">astro:config/client</code> will be available. This protects your information by only making some data available to the client.</p> <div class="sl-heading-wrapper level-h2">
<h2 id="imports-from-astroconfigclient">Imports from <code dir="auto">astro:config/client</code>
</h2>
<a class="sl-anchor-link" href="#imports-from-astroconfigclient"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Imports from astro:config/client”</span></a>
</div> <div class="expressive-code">

<pre data-language="js">import {
  i18n,
  trailingSlash,
  base,
  build,
  site,
  compressHTML,
} from "astro:config/client";</pre>

</div> <p>Use this submodule for client-side code:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/utils.js</span></div>
<pre data-language="js">import { trailingSlash } from "astro:config/client";


function addForwardSlash(path) {
  if (trailingSlash === "always") {
    return path.endsWith("/") ? path : path + "/"
  } else {
    return path
  }
}</pre>

</div> <p>See more about the configuration imports available from <code dir="auto">astro:config/client</code>:</p> <ul> <li><a href="../../configuration-reference/index#i18n"><code dir="auto">i18n</code></a></li> <li><a href="../../configuration-reference/index#trailingslash"><code dir="auto">trailingSlash</code></a></li> <li><a href="../../configuration-reference/index#base"><code dir="auto">base</code></a></li> <li><a href="../../configuration-reference/index#buildformat"><code dir="auto">build.format</code></a></li> <li><a href="../../configuration-reference/index#site"><code dir="auto">site</code></a></li> <li><a href="../../configuration-reference/index#compresshtml"><code dir="auto">compressHTML</code></a></li> </ul> <div class="sl-heading-wrapper level-h2">
<h2 id="imports-from-astroconfigserver">Imports from <code dir="auto">astro:config/server</code>
</h2>
<a class="sl-anchor-link" href="#imports-from-astroconfigserver"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewbox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Imports from astro:config/server”</span></a>
</div> <div class="expressive-code">

<pre data-language="js">import {
  i18n,
  trailingSlash,
  base,
  build,
  site,
  srcDir,
  cacheDir,
  outDir,
  publicDir,
  root,
  compressHTML,
} from "astro:config/server";</pre>

</div> <p>These imports include everything available from <code dir="auto">astro:config/client</code> as well as additional sensitive information about your file system configuration that is not safe to expose to the client.</p> <p>Use this submodule for server side code:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { integration } from "./integration.mjs";


export default defineConfig({
    integrations: [
      integration(),
    ]
});</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">integration.mjs</span></div>
<pre data-language="js">import { outDir } from "astro:config/server";
import { writeFileSync } from "node:fs";
import { fileURLToPath } from "node:url";


export default function() {
  return {
    name: "internal-integration",
    hooks: {
      "astro:build:done": () =&gt; {
        let file = new URL("result.json", outDir);
        // generate data from some operation
        let data = JSON.stringify([]);
        writeFileSync(fileURLToPath(file), data, "utf-8");
      }
    }
  }
}</pre>

</div> <p>See more about the configuration imports available from <code dir="auto">astro:config/server</code>:</p> <ul> <li><a href="../../configuration-reference/index#i18n"><code dir="auto">i18n</code></a></li> <li><a href="../../configuration-reference/index#trailingslash"><code dir="auto">trailingSlash</code></a></li> <li><a href="../../configuration-reference/index#base"><code dir="auto">base</code></a></li> <li><a href="../../configuration-reference/index#buildformat"><code dir="auto">build.format</code></a></li> <li><a href="../../configuration-reference/index#buildclient"><code dir="auto">build.client</code></a></li> <li><a href="../../configuration-reference/index#buildserver"><code dir="auto">build.server</code></a></li> <li><a href="../../configuration-reference/index#site"><code dir="auto">site</code></a></li> <li><a href="../../configuration-reference/index#srcdir"><code dir="auto">srcDir</code></a></li> <li><a href="../../configuration-reference/index#cachedir"><code dir="auto">cacheDir</code></a></li> <li><a href="../../configuration-reference/index#outdir"><code dir="auto">outDir</code></a></li> <li><a href="../../configuration-reference/index#publicdir"><code dir="auto">publicDir</code></a></li> <li><a href="../../configuration-reference/index#root"><code dir="auto">root</code></a></li> <li><a href="../../configuration-reference/index#compresshtml"><code dir="auto">compressHTML</code></a></li> </ul> <span id="docsearch-lvl0" hidden>Reference</span> </div> <div class="hide-when-toc-is-visible astro-o5o7wsh2"> <div class="container astro-zwxhm4ix" lang="en" dir="ltr" data-algolia-exclude> <aside aria-labelledby="learn-astro-course-1" class="astro-zwxhm4ix"> <div class="graphics astro-zwxhm4ix"> <img src="data:image/webp;base64,UklGRuQBAABXRUJQVlA4WAoAAAAQAAAARwAARwAAQUxQSBIAAAABD9D/iAgICRKm+z+aIvqfLgxWUDggrAEAANANAJ0BKkgASAA+bSyQRiQvI6EwtOwB4A2JYwDG7ApEmQTzrdjsTkQzIBD+xzUh0lK3EX6+lo0SCwRPGsgIGouWHJ2/nnSC9HGXEl2gpNNAYWRIW6VJ/K32YOrQKSEuKouno9R49M0eHE5iXb3aonSnft3gbtsAAP7w1R/RCOMR3YSO8dX6PK4mdXb+xC9xMW1jRYuDmnAY9270+m9BomJwqQ3dS4e/wb3PBG6f3XR0+vwd1aCpD6/39Q3FfzrpzNkiA3GXnChlpsJimbR9u+t3F/W1NvSBwbqU3GLXZQFNLWH1SKzuq+KfhFypeOnfRiBH6+kzyNj+Sr84yQmVvisMqHD24nmzW7XfBHlC2NvstZ+VChFGkasDLlfX5EEomwykq/uSu9zggr/z8g984C2ffX5fZWkhLaquVhVD5XOLiMnVhGhSt/hiuogfyH0+d8eN1XWUESYvySWIQRk4O3AgPqjYBgx/FfSWMMt/q8FCgeKPiFzuTksEY6gSwOPtQlvtY8Hzpb30kv5b6/8GtspkOOxWaYugHtREhWXRs0GNMszhFvbgbNIQ3gAA" alt="Scrimba" loading="lazy" decoding="async" fetchpriority="auto" width="72" height="72" class="scrimba-bubble astro-zwxhm4ix"> <img src="data:image/webp;base64,UklGRvoDAABXRUJQVlA4IO4DAAAwEwCdASpIAEgAPmkskkWkIqGY/AV0QAaEoAw21BVt60ZuePWKZ7zbq872zZ/BpVOcprJG6rUF6VCYw1xb+cknsA2zq7LlFTOPhOQtATm7HQCmwZKYCP2/dKDnOQt7NjOTAyXsaLlh+zawtCgXbADYXiJ78rCNCSRmA0/LsXRb2sQPi+1njYrG+r/+veKiFtqbnBkd8NcaO7yBLmepdcRhtsAA/vI7s9UG/cHtR7mErbfZieOcsg2DNyNpmynibwMFtVQef5zaA7TMoJGeF8ZOcgdG8Er7tclM1e6nPNHl69JJXCAPZvnxCxpO2uTtDJrodA26cvmxQQRG1osnWaQL8gzEfbb9AymNt0YwkidzbpO68jtwhcVB/Khj7HiXSxGx8URFmy2UtH8+xdlks6V8fP0pT6zmOMagal1b9Jf762OX75NigFcpE9SWLHPhSly+paFUghIpZd7ss4todtwb6mRTt9gLt12PZuOYcmgID8tePqFSru9ZkPVhc5jgFSDU1WaHvTxmRlqcsvuDwfCy7z357VyaavcFutcm7Nep/gdnZzsOn8I+eCrn8bvqakVt5w04DvVvqXoUkKOrw5DPMJrSR812/a6uheTmYgQMvhX7B4hIauWJp4kGPY+WS80BIeWjCAJmOgcjGATirHcyVBl5FsqjCDEUuEiPJdDgAeLvOiPdfRO4fsJd59FulhfX7OfqSz+wwD4sX6CG+7ByT5TVKoiE2jP5MNDz0yzDYuFsA7FNW8nV/U7qJAjgunKSmMMWnmN0U9/9qgYf3s1DilDDsu+FRNKwbHBXxslf6FzG3Rrc3zDAFJ+NsdudY4oHjnczojMc3supGmXFnQsfGZCHPQxn40mO9HsI1oKHH4RJ/dXss6sljuPOmx8YmrGlqBkpnmskLUM2j8p+6kMkCyYyhu+kAtDc8dCxhqbYn8yxHrGePRLyWeYzHj5qloBC+QY3fxoUYTfrSI2ZRGJ8EFp87vEPa+79jTG6fhKPVFxXq388UgLsm2KMRsa0wDXZUXSj4J7qzc7639E9TbdX8i7vu2zlw/4Innob9+Q+He4ic1y7Cw9V4TaFGAHKYJA3Ehpxob31bguhmHdlSkl0dHBTGk/LVrpMowPKfHj2cKw9XsJH7mMS0N1q1vOM4izTLT2AZtLzEfoUDe0qanVJpROTrsm/xrv9H0nzqX3eGHloUpwYGI770bMf3EnYYxl90jeYEdq8PiuFqEbpZDGDEP7j40ukUnQvULXa9UmRGSEIbov/GuSB7ne4hikpbd+KINukzOFouwlpM787dgH6+Ur8DqoBunjMA2wARrTdAi1rbnQAoKiCqw4YAAAA" alt loading="lazy" decoding="async" fetchpriority="auto" width="72" height="72" class="astro-zwxhm4ix"> </div> <h2 id="learn-astro-course-1" class="astro-zwxhm4ix"> <strong class="astro-zwxhm4ix">Learn Astro</strong> with James Q Quick </h2> <p class="astro-zwxhm4ix">Build your first site with 35 interactive Scrimba lessons</p> <a class="sl-link-button not-content primary cta astro-zwxhm4ix astro-n3qr5j5k" href="https://scrimba.com/intro-to-astro-c00ar0fi5u?via=astro" data-scrimba-cta="true"> Get 20% off </a> </aside> </div>  </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/reference/modules/astro-config/" class="_attribution-link">https://docs.astro.build/en/reference/modules/astro-config/</a>
  </p>
</div>

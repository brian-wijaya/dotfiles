<h1>HTTP_TRANSFER_CACHE_ORIGIN_MAP</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>If your application uses different HTTP origins to make API calls (via <a href="httpclient"><code>HttpClient</code></a>) on the server and on the client, the <a href="http_transfer_cache_origin_map"><code>HTTP_TRANSFER_CACHE_ORIGIN_MAP</code></a> token allows you to establish a mapping between those origins, so that <code>HttpTransferCache</code> feature can recognize those requests as the same ones and reuse the data cached on the server during hydration on the client.</p></section></header><div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">const HTTP_TRANSFER_CACHE_ORIGIN_MAP: InjectionToken&lt;Record&lt;string, string&gt;&gt;;</pre>
</div>
<div class="docs-reference-section">
<h2 id="description" class="docs-reference-section-heading">Description</h2>
<div>
<p>If your application uses different HTTP origins to make API calls (via <a href="httpclient"><code>HttpClient</code></a>) on the server and on the client, the <a href="http_transfer_cache_origin_map"><code>HTTP_TRANSFER_CACHE_ORIGIN_MAP</code></a> token allows you to establish a mapping between those origins, so that <code>HttpTransferCache</code> feature can recognize those requests as the same ones and reuse the data cached on the server during hydration on the client.</p> <p><strong>Important note</strong>: the <a href="http_transfer_cache_origin_map"><code>HTTP_TRANSFER_CACHE_ORIGIN_MAP</code></a> token should <em>only</em> be provided in the <em>server</em> code of your application (typically in the <code>app.server.config.ts</code> script). Angular throws an error if it detects that the token is defined while running on the client.</p>
</div>
</div>
<div class="docs-reference-section">
<h2 id="usage-notes" class="docs-reference-section-heading">Usage Notes</h2>
<div>
<p>When the same API endpoint is accessed via <code>http://internal-domain.com:8080</code> on the server and via <code>https://external-domain.com</code> on the client, you can use the following configuration:</p> <pre data-language="ts">// in app.server.config.ts
{
    provide: HTTP_TRANSFER_CACHE_ORIGIN_MAP,
    useValue: {
        'http://internal-domain.com:8080': 'https://external-domain.com'
    }
}</pre>
</div>
</div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/common/http/HTTP_TRANSFER_CACHE_ORIGIN_MAP" class="_attribution-link">https://angular.dev/api/common/http/HTTP_TRANSFER_CACHE_ORIGIN_MAP</a>
  </p>
</div>

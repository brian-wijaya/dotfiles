<h1>SwPush</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>Subscribe and listen to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Best_Practices" target="_blank">Web Push Notifications</a> through Angular Service Worker.</p></section><nav class="docs-pill-row"><a class="docs-pill" href="https://developers.google.com/web/fundamentals/codelabs/push-notifications/">Push Notifications</a><a class="docs-pill" href="https://blog.angular-university.io/angular-push-notifications/">Angular Push Notifications</a><a class="docs-pill" href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API">MDN: Push API</a><a class="docs-pill" href="https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API">MDN: Notifications API</a><a class="docs-pill" href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Best_Practices">MDN: Web Push API Notifications best practices</a><a class="docs-pill" href="https://angular.dev/ecosystem/service-workers/push-notifications">Push notifications guide</a></nav></header><div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">class SwPush {
  constructor(sw: NgswCommChannel): SwPush;
  readonly messages: Observable&lt;object&gt;;
  readonly notificationClicks: Observable&lt;{ action: string; notification: NotificationOptions &amp; { title: string; }; }&gt;;
  readonly notificationCloses: Observable&lt;{ action: string; notification: NotificationOptions &amp; { title: string; }; }&gt;;
  readonly pushSubscriptionChanges: Observable&lt;{ oldSubscription: PushSubscription | null; newSubscription: PushSubscription | null; }&gt;;
  readonly subscription: Observable&lt;PushSubscription | null&gt;;
  readonly isEnabled: boolean;
  requestSubscription(options: { serverPublicKey: string; }): Promise&lt;PushSubscription&gt;;
  unsubscribe(): Promise&lt;void&gt;;
}</pre>
</div>
<div class="docs-reference-members"><div class="docs-reference-members">
<div id="constructor" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>constructor</h3>
<code><a href="swpush">SwPush</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">

<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">sw</span><code>NgswCommChannel</code>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="swpush">SwPush</a></code>
</div>
</div></div>
</div>
<div id="messages" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>messages</h3>
<code>Observable&lt;object&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Emits the payloads of the received push notification messages.</p></div></div></div>
</div>
<div id="notificationClicks" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>notificationClicks</h3>
<code>Observable&lt;{ action: string; notification: NotificationOptions &amp; { title: string; }; }&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>Emits the payloads of the received push notification messages as well as the action the user interacted with. If no action was used the <code>action</code> property contains an empty string <code>''</code>.</p> <p>Note that the <code>notification</code> property does <strong>not</strong> contain a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification" target="_blank">Notification</a> object but rather a <a href="https://notifications.spec.whatwg.org/#dictdef-notificationoptions" target="_blank">NotificationOptions</a> object that also includes the <code>title</code> of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification" target="_blank">Notification</a> object.</p>
</div></div></div>
</div>
<div id="notificationCloses" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>notificationCloses</h3>
<code>Observable&lt;{ action: string; notification: NotificationOptions &amp; { title: string; }; }&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>Emits the payloads of notifications that were closed, along with the action (if any) associated with the close event. If no action was used, the <code>action</code> property contains an empty string <code>''</code>.</p> <p>Note that the <code>notification</code> property does <strong>not</strong> contain a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification" target="_blank">Notification</a> object but rather a <a href="https://notifications.spec.whatwg.org/#dictdef-notificationoptions" target="_blank">NotificationOptions</a> object that also includes the <code>title</code> of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification" target="_blank">Notification</a> object.</p>
</div></div></div>
</div>
<div id="pushSubscriptionChanges" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>pushSubscriptionChanges</h3>
<code>Observable&lt;{ oldSubscription: PushSubscription | null; newSubscription: PushSubscription | null; }&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>Emits updates to the push subscription, including both the previous (<code>oldSubscription</code>) and current (<code>newSubscription</code>) values. Either subscription may be <code>null</code>, depending on the context:</p> <ul class="docs-list"> <li>
<code>oldSubscription</code> is <code>null</code> if no previous subscription existed.</li> <li>
<code>newSubscription</code> is <code>null</code> if the subscription was invalidated and not replaced.</li> </ul> <p>This stream allows clients to react to automatic changes in push subscriptions, such as those triggered by browser expiration or key rotation.</p>
</div></div></div>
</div>
<div id="subscription" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>subscription</h3>
<code>Observable&lt;PushSubscription | null&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Emits the currently active <a href="https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription" target="_blank">PushSubscription</a> associated to the Service Worker registration or <code>null</code> if there is no subscription.</p></div></div></div>
</div>
<div id="isEnabled" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>isEnabled</h3>
<code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>True if the Service Worker is enabled (supported by the browser and enabled via <a href="serviceworkermodule"><code>ServiceWorkerModule</code></a>).</p></div></div></div>
</div>
<div id="requestSubscription" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>requestSubscription</h3>
<code>Promise&lt;PushSubscription&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Subscribes to Web Push Notifications, after requesting and receiving user permission.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">options</span><code>{ serverPublicKey: string; }</code><div class="docs-parameter-description"><p>An object containing the <code>serverPublicKey</code> string.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;PushSubscription&gt;</code>
</div>
</div></div>
</div>
<div id="unsubscribe" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>unsubscribe</h3>
<code>Promise&lt;void&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Unsubscribes from Service Worker push notifications.</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;void&gt;</code>
</div>
</div></div>
</div>
</div></div>
<div class="docs-reference-section">
<h2 id="usage-notes" class="docs-reference-section-heading">Usage Notes</h2>
<div>
<p>You can inject a <a href="swpush"><code>SwPush</code></a> instance into any component or service as a dependency.</p> 
 <p>To subscribe, call <a href="swpush#requestSubscription"><code>SwPush.requestSubscription()</code></a>, which asks the user for permission. The call returns a <code>Promise</code> with a new <a href="https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription" target="_blank"><code>PushSubscription</code></a> instance.</p> 
 <p>A request is rejected if the user denies permission, or if the browser blocks or does not support the Push API or ServiceWorkers. Check <a href="swpush#isEnabled"><code>SwPush.isEnabled</code></a> to confirm status.</p> <p>Invoke Push Notifications by pushing a message with the following payload.</p> <pre data-language="ts">{
  "notification": {
    "actions": NotificationAction[],
    "badge": USVString,
    "body": DOMString,
    "data": any,
    "dir": "auto"|"ltr"|"rtl",
    "icon": USVString,
    "image": USVString,
    "lang": DOMString,
    "renotify": boolean,
    "requireInteraction": boolean,
    "silent": boolean,
    "tag": DOMString,
    "timestamp": DOMTimeStamp,
    "title": DOMString,
    "vibrate": number[]
  }
}</pre>
<p>Only <code>title</code> is required. See <code>Notification</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification#Instance_properties" target="_blank">instance properties</a>.</p> <p>While the subscription is active, Service Worker listens for <a href="https://developer.mozilla.org/en-US/docs/Web/API/PushEvent" target="_blank">PushEvent</a> occurrences and creates <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification" target="_blank">Notification</a> instances in response.</p> <p>Unsubscribe using <a href="swpush#unsubscribe"><code>SwPush.unsubscribe()</code></a>.</p> <p>An application can subscribe to <a href="swpush#notificationClicks"><code>SwPush.notificationClicks</code></a> observable to be notified when a user clicks on a notification. For example:</p> 
 <p>You can read more on handling notification clicks in the <a href="https://angular.dev/ecosystem/service-workers/push-notifications">Service worker notifications guide</a>.</p> </div>
</div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/service-worker/SwPush" class="_attribution-link">https://angular.dev/api/service-worker/SwPush</a>
  </p>
</div>

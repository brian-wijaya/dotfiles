<h1 tabindex="-1">Adding event listeners</h1> <header class="docs-header"> <docs-breadcrumb ng-version="21.0.3" _nghost-ng-c3945279308 ngh="8"></docs-breadcrumb>   </header> <p>Angular supports defining event listeners on an element in your template by specifying the event name inside parentheses along with a statement that runs every time the event occurs.</p> <h2 id="listening-to-native-events"> Listening to native events </h2> <p>When you want to add event listeners to an HTML element, you wrap the event with parentheses, <code>()</code>, which allows you to specify a listener statement.</p> <pre data-language="ts">@Component({
  template: `
    &lt;input type="text" (keyup)="updateField()" /&gt;
  `,
  ...
})
export class AppComponent{
  updateField(): void {
    console.log('Field is updated!');
  }
}</pre>
<p>In this example, Angular calls <code>updateField</code> every time the <code>&lt;input&gt;</code> element emits a <code>keyup</code> event.</p> <p>You can add listeners for any native events, such as: <code>click</code>, <code>keydown</code>, <code>mouseover</code>, etc. To learn more, check out the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element#events" target="_blank">all available events on elements on MDN</a>.</p> <h2 id="accessing-the-event-argument"> Accessing the event argument </h2> <p>In every template event listener, Angular provides a variable named <code>$event</code> that contains a reference to the event object.</p> <pre data-language="ts">@Component({
  template: `
    &lt;input type="text" (keyup)="updateField($event)" /&gt;
  `,
  ...
})
export class AppComponent {
  updateField(event: KeyboardEvent): void {
    console.log(`The user pressed: ${event.key}`);
  }
}</pre> <h2 id="using-key-modifiers"> Using key modifiers </h2> <p>When you want to capture specific keyboard events for a specific key, you might write some code like the following:</p> <pre data-language="ts">@Component({
  template: `
    &lt;input type="text" (keyup)="updateField($event)" /&gt;
  `,
  ...
})
export class AppComponent {
  updateField(event: KeyboardEvent): void {
    if (event.key === 'Enter') {
      console.log('The user pressed enter in the text field.');
    }
  }
}</pre>
<p>However, since this is a common scenario, Angular lets you filter the events by specifying a specific key using the period (<code>.</code>) character. By doing so, code can be simplified to:</p> <pre data-language="ts">@Component({
  template: `
    &lt;input type="text" (keyup.enter)="updateField($event)" /&gt;
  `,
  ...
})
export class AppComponent{
  updateField(event: KeyboardEvent): void {
    console.log('The user pressed enter in the text field.');
  }
}</pre>
<p>You can also add additional key modifiers:</p> <pre data-language="ts">&lt;!-- Matches shift and enter --&gt;
&lt;input type="text" (keyup.shift.enter)="updateField($event)" /&gt;</pre>
<p>Angular supports the modifiers <code>alt</code>, <code>control</code>, <code>meta</code>, and <code>shift</code>.</p> <p>You can specify the key or code that you would like to bind to keyboard events. The key and code fields are a native part of the browser keyboard event object. By default, event binding assumes you want to use the <a href="https://developer.mozilla.org/docs/Web/API/UI_Events/Keyboard_event_key_values" target="_blank">Key values for keyboard events</a>.</p> <p>Angular also allows you to specify <a href="https://developer.mozilla.org/docs/Web/API/UI_Events/Keyboard_event_code_values" target="_blank">Code values for keyboard events</a> by providing a built-in <code>code</code> suffix.</p> <pre data-language="ts">&lt;!-- Matches alt and left shift --&gt;
&lt;input type="text" (keydown.code.alt.shiftleft)="updateField($event)" /&gt;</pre>
<p>This can be useful for handling keyboard events consistently across different operating systems. For example, when using the Alt key on MacOS devices, the <code>key</code> property reports the key based on the character already modified by the Alt key. This means that a combination like Alt + S reports a <code>key</code> value of <code>'ß'</code>. The <code>code</code> property, however, corresponds to the physical or virtual button pressed rather than the character produced.</p> <h2 id="preventing-event-default-behavior"> Preventing event default behavior </h2> <p>If your event handler should replace the native browser behavior, you can use the event object's <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault" target="_blank"><code>preventDefault</code> method</a>:</p> <pre data-language="ts">@Component({
  template: `
    &lt;a href="#overlay" (click)="showOverlay($event)"&gt;
  `,
  ...
})
export class AppComponent{
  showOverlay(event: PointerEvent): void {
    event.preventDefault();
    console.log('Show overlay without updating the URL!');
  }
}</pre>
<p>If the event handler statement evaluates to <code>false</code>, Angular automatically calls <code>preventDefault()</code>, similar to <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes#event_handler_attributes" target="_blank">native event handler attributes</a>. <em>Always prefer explicitly calling <code>preventDefault</code></em>, as this approach makes the code's intent obvious.</p> <h2 id="extend-event-handling"> Extend event handling </h2> <p>Angular’s event system is extensible via custom event plugins registered with the <a href="../../api/platform-browser/event_manager_plugins"><code>EVENT_MANAGER_PLUGINS</code></a> injection token.</p> <h3 id="implementing-event-plugin"> Implementing Event Plugin </h3> <p>To create a custom event plugin, extend the <a href="../../api/platform-browser/eventmanagerplugin"><code>EventManagerPlugin</code></a> class and implement the required methods.</p> <pre data-language="ts">import { Injectable } from '@angular/core';
import { EventManagerPlugin } from '@angular/platform-browser';

@Injectable()
export class DebounceEventPlugin extends EventManagerPlugin {
  constructor() {
    super(document);
  }

  // Define which events this plugin supports
  override supports(eventName: string) {
    return /debounce/.test(eventName);
  }

  // Handle the event registration
  override addEventListener(
    element: HTMLElement,
    eventName: string,
    handler: Function
  ) {
    // Parse the event: e.g., "click.debounce.500"
    // event: "click", delay: 500
    const [event, method , delay = 300 ] = eventName.split('.');

    let timeoutId: number;

    const listener = (event: Event) =&gt; {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() =&gt; {
          handler(event);
      }, delay);
    };

    element.addEventListener(event, listener);

    // Return cleanup function
    return () =&gt; {
      clearTimeout(timeoutId);
      element.removeEventListener(event, listener);
    };
  }
}</pre>
<p>Register your custom plugin using the <a href="../../api/platform-browser/event_manager_plugins"><code>EVENT_MANAGER_PLUGINS</code></a> token in your application's providers:</p> <pre data-language="ts">import { bootstrapApplication } from '@angular/platform-browser';
import { EVENT_MANAGER_PLUGINS } from '@angular/platform-browser';
import { AppComponent } from './app/app.component';
import { DebounceEventPlugin } from './debounce-event-plugin';

bootstrapApplication(AppComponent, {
  providers: [
    {
      provide: EVENT_MANAGER_PLUGINS,
      useClass: DebounceEventPlugin,
      multi: true
    }
  ]
});</pre>
<p>Once registered, you can use your custom event syntax in templates, as well as with the <code>host</code> property:</p> <pre data-language="ts">@Component({
  template: `
    &lt;input
      type="text"
      (input.debounce.500)="onSearch($event.target.value)"
      placeholder="Search..."
    /&gt;
  `,
  ...
})
export class Search {
 onSearch(query: string): void {
    console.log('Searching for:', query);
  }
}</pre>
<pre data-language="ts">@Component({
  ...,
  host: {
    '(click.debounce.500)': 'handleDebouncedClick()',
  },
})
export class AwesomeCard {
  handleDebouncedClick(): void {
   console.log('Debounced click!');
  }
}</pre><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/guide/templates/event-listeners" class="_attribution-link">https://angular.dev/guide/templates/event-listeners</a>
  </p>
</div>

<h1 tabindex="-1">Route transition animations</h1> <header class="docs-header"> <docs-breadcrumb ng-version="21.0.3" _nghost-ng-c3945279308 ngh="8"></docs-breadcrumb>   </header> <p>Route transition animations enhance user experience by providing smooth visual transitions when navigating between different views in your Angular application. <a href="overview">Angular Router</a> includes built-in support for the browser's View Transitions API, enabling seamless animations between route changes in supported browsers.</p> 
<div class="docs-alert docs-alert-helpful"> <p><strong>HELPFUL:</strong> The Router's native View Transitions integration is currently in <a href="https://angular.dev/reference/releases#developer-preview">developer preview</a>. Native View Transitions are a relatively new browser feature with limited support across all browsers.</p> </div>  <h2 id="how-view-transitions-work"> How View Transitions work </h2> <p>View transitions use the browser's native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition" target="_blank"><code>document.startViewTransition</code> API</a> to create smooth animations between different states of your application. The API works by:</p> <ol class="docs-ordered-list"> <li>
<strong>Capturing the current state</strong> - The browser takes a screenshot of the current page</li> <li>
<strong>Executing the DOM update</strong> - Your callback function runs to update the DOM</li> <li>
<strong>Capturing the new state</strong> - The browser captures the updated page state</li> <li>
<strong>Playing the transition</strong> - The browser animates between the old and new states</li> </ol> <p>Here's the basic structure of the <code>startViewTransition</code> API:</p> <pre data-language="ts">document.startViewTransition(async () =&gt; {
  await updateTheDOMSomehow();
});</pre>
<p>For more details about the browser API, see the <a href="https://developer.chrome.com/docs/web-platform/view-transitions" target="_blank">Chrome Explainer</a>.</p> <h2 id="how-the-router-uses-view-transitions"> How the Router uses view transitions </h2> <p>Angular Router integrates view transitions into the navigation lifecycle to create seamless route changes. During navigation, the Router:</p> <ol class="docs-ordered-list"> <li>
<strong>Completes navigation preparation</strong> - Route matching, <a href="define-routes#lazily-loaded-components">lazy loading</a>, <a href="route-guards">guards</a>, and <a href="data-resolvers">resolvers</a> execute</li> <li>
<strong>Initiates the view transition</strong> - Router calls <code>startViewTransition</code> when routes are ready for activation</li> <li>
<strong>Updates the DOM</strong> - Router activates new routes and deactivates old ones within the transition callback</li> <li>
<strong>Finalizes the transition</strong> - The transition Promise resolves when Angular completes rendering</li> </ol> <p>The Router's view transition integration acts as a <a href="https://developer.mozilla.org/en-US/docs/Glossary/Progressive_Enhancement" target="_blank">progressive enhancement</a>. When browsers don't support the View Transitions API, the Router performs normal DOM updates without animation, ensuring your application works across all browsers.</p> <h2 id="enabling-view-transitions-in-the-router"> Enabling View Transitions in the Router </h2> <p>Enable view transitions by adding the <a href="../../api/router/withviewtransitions"><code>withViewTransitions</code></a> feature to your <a href="define-routes#adding-the-router-to-your-application">router configuration</a>. Angular supports both standalone and NgModule bootstrap approaches:</p> <h3 id="standalone-bootstrap"> Standalone bootstrap </h3> <pre data-language="ts">import { bootstrapApplication } from '@angular/platform-browser';
import { provideRouter, withViewTransitions } from '@angular/router';
import { routes } from './app.routes';

bootstrapApplication(MyApp, {
  providers: [
    provideRouter(routes, withViewTransitions()),
  ]
});</pre> <h3 id="ngmodule-bootstrap"> NgModule bootstrap </h3> <pre data-language="ts">import { NgModule } from '@angular/core';
import { RouterModule } from '@angular/router';

@NgModule({
  imports: [RouterModule.forRoot(routes, {enableViewTransitions: true})]
})
export class AppRouting {}</pre>
<p><a href="https://stackblitz.com/edit/stackblitz-starters-2dnvtm?file=src%2Fmain.ts" target="_blank">Try the "count" example on StackBlitz</a></p> <p>This example demonstrates how router navigation can replace direct <code>startViewTransition</code> calls for counter updates.</p> <h2 id="customizing-transitions-with-css"> Customizing transitions with CSS </h2> <p>You can customize view transitions using CSS to create unique animation effects. The browser creates separate transition elements that you can target with CSS selectors.</p> <p>To create custom transitions:</p> <ol class="docs-ordered-list"> <li>
<strong>Add view-transition-name</strong> - Assign unique names to elements you want to animate</li> <li>
<strong>Define global animations</strong> - Create CSS animations in your global styles</li> <li>
<strong>Target transition pseudo-elements</strong> - Use <code>::view-transition-old()</code> and <code>::view-transition-new()</code> selectors</li> </ol> <p>Here's an example that adds a rotation effect to a counter element:</p> <pre data-language="ts">/* Define keyframe animations */
@keyframes rotate-out {
  to {
    transform: rotate(90deg);
  }
}

@keyframes rotate-in {
  from {
    transform: rotate(-90deg);
  }
}

/* Target view transition pseudo-elements */
::view-transition-old(count),
::view-transition-new(count) {
  animation-duration: 200ms;
  animation-name: -ua-view-transition-fade-in, rotate-in;
}

::view-transition-old(count) {
  animation-name: -ua-view-transition-fade-out, rotate-out;
}</pre>

<div class="docs-alert docs-alert-important"> <p><strong>IMPORTANT:</strong> Define view transition animations in your global styles file, not in component styles. Angular's <a href="../components/styling#view-encapsulation">view encapsulation</a> scopes component styles, which prevents them from targeting the transition pseudo-elements correctly.</p> </div>  <p><a href="https://stackblitz.com/edit/stackblitz-starters-fwn4i7?file=src%2Fmain.ts" target="_blank">Try the updated “count” example on StackBlitz</a></p> <h2 id="advanced-transition-control-with-onviewtransitioncreated"> Advanced transition control with onViewTransitionCreated </h2> <p>The <a href="../../api/router/withviewtransitions"><code>withViewTransitions</code></a> feature accepts an options object with an <code>onViewTransitionCreated</code> callback for advanced control over view transitions. This callback:</p> <ul class="docs-list"> <li>Runs in an <a href="../di/dependency-injection-context#run-within-an-injection-context">injection context</a>
</li> <li>Receives a <a href="../../api/router/viewtransitioninfo"><code>ViewTransitionInfo</code></a> object containing: <ul class="docs-list"> <li>The <code>ViewTransition</code> instance from <code>startViewTransition</code>
</li> <li>The <a href="../../api/router/activatedroutesnapshot"><code>ActivatedRouteSnapshot</code></a> for the route being navigated from</li> <li>The <a href="../../api/router/activatedroutesnapshot"><code>ActivatedRouteSnapshot</code></a> for the route being navigated to</li> </ul> </li> </ul> <p>Use this callback to customize transition behavior based on navigation context. For example, you can skip transitions for specific navigation types:</p> <pre data-language="ts">import { inject } from '@angular/core';
import { Router, withViewTransitions } from '@angular/router';

withViewTransitions({
  onViewTransitionCreated: ({transition}) =&gt; {
    const router = inject(Router);
    const targetUrl = router.getCurrentNavigation()!.finalUrl!;

    // Skip transition if only fragment or query params change
    const config = {
      paths: 'exact',
      matrixParams: 'exact',
      fragment: 'ignored',
      queryParams: 'ignored',
    };

    if (router.isActive(targetUrl, config)) {
      transition.skipTransition();
    }
  },
})</pre>
<p>This example skips the view transition when navigation only changes the <a href="read-route-state#query-parameters">URL fragment or query parameters</a> (such as anchor links within the same page). The <code>skipTransition()</code> method prevents the animation while still allowing the navigation to complete.</p> <h2 id="examples-from-the-chrome-explainer-adapted-to-angular"> Examples from the Chrome explainer adapted to Angular </h2> <p>The following examples demonstrate various view transition techniques adapted from the Chrome team's documentation for use with Angular Router:</p> <h3 id="transitioning-elements-dont-need-to-be-the-same-dom-element"> Transitioning elements don't need to be the same DOM element </h3> <p>Elements can transition smoothly between different DOM elements as long as they share the same <code>view-transition-name</code>.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#transitioning_elements_dont_need_to_be_the_same_dom_element" target="_blank">Chrome Explainer</a></li> <li><a href="https://stackblitz.com/edit/stackblitz-starters-dh8npr?file=src%2Fmain.ts" target="_blank">Angular Example on StackBlitz</a></li> </ul> <h3 id="custom-entry-and-exit-animations"> Custom entry and exit animations </h3> <p>Create unique animations for elements entering and leaving the viewport during route transitions.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#custom_entry_and_exit_transitions" target="_blank">Chrome Explainer</a></li> <li><a href="https://stackblitz.com/edit/stackblitz-starters-8kly3o" target="_blank">Angular Example on StackBlitz</a></li> </ul> <h3 id="async-dom-updates-and-waiting-for-content"> Async DOM updates and waiting for content </h3> <p>Angular Router prioritizes immediate transitions over waiting for additional content to load.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#async_dom_updates_and_waiting_for_content" target="_blank">Chrome Explainer</a></li> </ul> 
<div class="docs-alert docs-alert-note"> <p><strong>NOTE:</strong> Angular Router does not provide a way to delay view transitions. This design choice prevents pages from becoming non-interactive while waiting for additional content. As the Chrome documentation notes: "During this time, the page is frozen, so delays here should be kept to a minimum…in some cases it's better to avoid the delay altogether, and use the content you already have."</p> </div>  <h3 id="handle-multiple-view-transition-styles-with-view-transition-types"> Handle multiple view transition styles with view transition types </h3> <p>Use view transition types to apply different animation styles based on navigation context.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#view-transition-types" target="_blank">Chrome Explainer</a></li> <li><a href="https://stackblitz.com/edit/stackblitz-starters-vxzcam" target="_blank">Angular Example on StackBlitz</a></li> </ul> <h3 id="handle-multiple-view-transition-styles-with-a-class-name-on-the-view-transition-root-deprecated"> Handle multiple view transition styles with a class name on the view transition root (deprecated) </h3> <p>This approach uses CSS classes on the transition root element to control animation styles.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#changing-on-navigation-type" target="_blank">Chrome Explainer</a></li> <li><a href="https://stackblitz.com/edit/stackblitz-starters-nmnzzg?file=src%2Fmain.ts" target="_blank">Angular Example on StackBlitz</a></li> </ul> <h3 id="transitioning-without-freezing-other-animations"> Transitioning without freezing other animations </h3> <p>Maintain other page animations during view transitions to create more dynamic user experiences.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#transitioning-without-freezing" target="_blank">Chrome Explainer</a></li> <li><a href="https://stackblitz.com/edit/stackblitz-starters-76kgww" target="_blank">Angular Example on StackBlitz</a></li> </ul> <h3 id="animating-with-javascript"> Animating with JavaScript </h3> <p>Control view transitions programmatically using JavaScript APIs for complex animation scenarios.</p> <ul class="docs-list"> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/same-document#animating-with-javascript" target="_blank">Chrome Explainer</a></li> <li><a href="https://stackblitz.com/edit/stackblitz-starters-cklnkm" target="_blank">Angular Example on StackBlitz</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/guide/routing/route-transition-animations" class="_attribution-link">https://angular.dev/guide/routing/route-transition-animations</a>
  </p>
</div>

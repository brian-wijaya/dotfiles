<h1 tabindex="-1">Work with translation files</h1> <header class="docs-header"> <docs-breadcrumb ng-version="21.0.3" _nghost-ng-c3945279308 ngh="8"></docs-breadcrumb>   </header> <p>After you prepare a component for translation, use the <a href="../../cli/extract-i18n" title="ng extract-i18n | CLI | Angular"><code>extract-i18n</code></a> <a href="../../cli" title="CLI Overview and Command Reference | Angular">Angular CLI</a> command to extract the marked text in the component into a <em>source language</em> file.</p> <p>The marked text includes text marked with <code>i18n</code>, attributes marked with <code>i18n-</code><em>attribute</em>, and text tagged with <a href="../../api/localize/init/$localize"><code>$localize</code></a> as described in <a href="prepare" title="Prepare component for translation | Angular">Prepare component for translation</a>.</p> <p>Complete the following steps to create and update translation files for your project.</p> <ol class="docs-ordered-list"> <li>
<a href="translation-files#extract-the-source-language-file" title="Extract the source language file - Work with translation files | Angular">Extract the source language file</a>. <ol class="docs-ordered-list"> <li>Optionally, change the location, format, and name.</li> </ol> </li> <li>Copy the source language file to <a href="translation-files#create-a-translation-file-for-each-language" title="Create a translation file for each language - Work with translation files | Angular">create a translation file for each language</a>.</li> <li>
<a href="translation-files#translate-each-translation-file" title="Translate each translation file - Work with translation files | Angular">Translate each translation file</a>.</li> <li>Translate plurals and alternate expressions separately. <ol class="docs-ordered-list"> <li>
<a href="translation-files#translate-plurals" title="Translate plurals - Work with translation files | Angular">Translate plurals</a>.</li> <li>
<a href="translation-files#translate-alternate-expressions" title="Translate alternate expressions - Work with translation files | Angular">Translate alternate expressions</a>.</li> <li>
<a href="translation-files#translate-nested-expressions" title="Translate nested expressions - Work with translation files | Angular">Translate nested expressions</a>.</li> </ol> </li> </ol> <h2 id="extract-the-source-language-file"> Extract the source language file </h2> <p>To extract the source language file, complete the following actions.</p> <ol class="docs-ordered-list"> <li>Open a terminal window.</li> <li>Change to the root directory of your project.</li> <li>Run the following CLI command.</li> </ol> <pre data-language="ts">ng extract-i18n</pre>
<p>The <code>extract-i18n</code> command creates a source language file named <code>messages.xlf</code> in the root directory of your project. For more information about the XML Localization Interchange File Format (XLIFF, version 1.2), see <a href="https://en.wikipedia.org/wiki/XLIFF" title="XLIFF | Wikipedia" target="_blank">XLIFF</a>.</p> <p>Use the following <a href="../../cli/extract-i18n" title="ng extract-i18n | CLI | Angular"><code>extract-i18n</code></a> command options to change the source language file location, format, and file name.</p> <div class="docs-table docs-scroll-track-transparent"> <table> <thead> <tr> <th align="left">Command option</th> <th align="left">Details</th> </tr> </thead> <tbody> <tr> <td align="left"><code>--format</code></td> <td align="left">Set the format of the output file</td> </tr> <tr> <td align="left"><code>--out-file</code></td> <td align="left">Set the name of the output file</td> </tr> <tr> <td align="left"><code>--output-path</code></td> <td align="left">Set the path of the output directory</td> </tr> </tbody> </table> </div> <h3 id="change-the-source-language-file-location"> Change the source language file location </h3> <p>To create a file in the <code>src/locale</code> directory, specify the output path as an option.</p> <h4 id="extract-i18n---output-path-example"> extract-i18n --output-path example </h4> <p>The following example specifies the output path as an option.</p> <pre data-language="ts">ng extract-i18n --output-path src/locale</pre> <h3 id="change-the-source-language-file-format"> Change the source language file format </h3> <p>The <code>extract-i18n</code> command creates files in the following translation formats.</p> <div class="docs-table docs-scroll-track-transparent"> <table> <thead> <tr> <th align="left">Translation format</th> <th align="left">Details</th> <th align="left">File extension</th> </tr> </thead> <tbody> <tr> <td align="left">ARB</td> <td align="left"><a href="https://github.com/google/app-resource-bundle/wiki/ApplicationResourceBundleSpecification" title="ApplicationResourceBundleSpecification | google/app-resource-bundle | GitHub" target="_blank">Application Resource Bundle</a></td> <td align="left"><code>.arb</code></td> </tr> <tr> <td align="left">JSON</td> <td align="left"><a href="https://www.json.org" title="Introducing JSON | JSON" target="_blank">JavaScript Object Notation</a></td> <td align="left"><code>.json</code></td> </tr> <tr> <td align="left">XLIFF 1.2</td> <td align="left"><a href="https://docs.oasis-open.org/xliff/v1.2/os/xliff-core.html" title="XLIFF Version 1.2 Specification | Oasis Open Docs" target="_blank">XML Localization Interchange File Format, version 1.2</a></td> <td align="left"><code>.xlf</code></td> </tr> <tr> <td align="left">XLIFF 2</td> <td align="left"><a href="http://docs.oasis-open.org/xliff/xliff-core/v2.0/cos01/xliff-core-v2.0-cos01.html" title="XLIFF Version 2.0 | Oasis Open Docs" target="_blank">XML Localization Interchange File Format, version 2</a></td> <td align="left"><code>.xlf</code></td> </tr> <tr> <td align="left">XMB</td> <td align="left"><a href="http://cldr.unicode.org/development/development-process/design-proposals/xmb" title="XMB | CLDR - Unicode Common Locale Data Repository | Unicode" target="_blank">XML Message Bundle</a></td> <td align="left">
<code>.xmb</code> (<code>.xtb</code>)</td> </tr> </tbody> </table> </div> <p>Specify the translation format explicitly with the <code>--format</code> command option.</p> 
<div class="docs-alert docs-alert-helpful"> <p><strong>HELPFUL:</strong> The XMB format generates <code>.xmb</code> source language files, but uses<code>.xtb</code> translation files.</p> </div>  <h4 id="extract-i18n---format-example"> extract-i18n --format example </h4> <p>The following example demonstrates several translation formats.</p> <pre data-language="ts">ng extract-i18n --format=xlf
ng extract-i18n --format=xlf2
ng extract-i18n --format=xmb
ng extract-i18n --format=json
ng extract-i18n --format=arb</pre> <h3 id="change-the-source-language-file-name"> Change the source language file name </h3> <p>To change the name of the source language file generated by the extraction tool, use the <code>--out-file</code> command option.</p> <h4 id="extract-i18n---out-file-example"> extract-i18n --out-file example </h4> <p>The following example demonstrates naming the output file.</p> <pre data-language="ts">ng extract-i18n --out-file source.xlf</pre> <h2 id="create-a-translation-file-for-each-language"> Create a translation file for each language </h2> <p>To create a translation file for a locale or language, complete the following actions.</p> <ol class="docs-ordered-list"> <li>
<p><a href="translation-files#extract-the-source-language-file" title="Extract the source language file - Work with translation files | Angular">Extract the source language file</a>.</p> </li> <li>
<p>Make a copy of the source language file to create a <em>translation</em> file for each language.</p> </li> <li>
<p>Rename the <em>translation</em> file to add the locale.</p> <div class="docs-code"> messages.xlf --&gt; messages.{locale}.xlf </div>
</li> <li>
<p>Create a new directory at your project root named <code>locale</code>.</p> <div class="docs-code"> src/locale </div>
</li> <li>
<p>Move the <em>translation</em> file to the new directory.</p> </li> <li>
<p>Send the <em>translation</em> file to your translator.</p> </li> <li>
<p>Repeat the above steps for each language you want to add to your application.</p> </li> </ol> <h3 id="extract-i18n-example-for-french"> extract-i18n example for French </h3> <p>For example, to create a French translation file, complete the following actions.</p> <ol class="docs-ordered-list"> <li>Run the <code>extract-i18n</code> command.</li> <li>Make a copy of the <code>messages.xlf</code> source language file.</li> <li>Rename the copy to <code>messages.fr.xlf</code> for the French language (<code>fr</code>) translation.</li> <li>Move the <code>fr</code> translation file to the <code>src/locale</code> directory.</li> <li>Send the <code>fr</code> translation file to the translator.</li> </ol> <h2 id="translate-each-translation-file"> Translate each translation file </h2> <p>Unless you are fluent in the language and have the time to edit translations, you will likely complete the following steps.</p> <ol class="docs-ordered-list"> <li>Send each translation file to a translator.</li> <li>The translator uses an XLIFF file editor to complete the following actions. <ol class="docs-ordered-list"> <li>Create the translation.</li> <li>Edit the translation.</li> </ol> </li> </ol> <h3 id="translation-process-example-for-french"> Translation process example for French </h3> <p>To demonstrate the process, review the <code>messages.fr.xlf</code> file in the <a href="example" title="Example Angular Internationalization application | Angular">Example Angular Internationalization application</a>. The <a href="example" title="Example Angular Internationalization application | Angular">Example Angular Internationalization application</a> includes a French translation for you to edit without a special XLIFF editor or knowledge of French.</p> <p>The following actions describe the translation process for French.</p> <ol class="docs-ordered-list"> <li>
<p>Open <code>messages.fr.xlf</code> and find the first <code>&lt;trans-unit&gt;</code> element. This is a <em>translation unit</em>, also known as a <em>text node</em>, that represents the translation of the <code>&lt;h1&gt;</code> greeting tag that was previously marked with the <code>i18n</code> attribute.</p> <pre data-language="ts">&lt;trans-unit id="introductionHeader" datatype="html"&gt;
        &lt;source&gt;Hello i18n!&lt;/source&gt;
        &lt;note priority="1" from="description"&gt;An introduction header for this sample&lt;/note&gt;
        &lt;note priority="1" from="meaning"&gt;User welcome&lt;/note&gt;
      &lt;/trans-unit&gt;</pre>
<p>The <code>id="introductionHeader"</code> is a <a href="manage-marked-text" title="Manage marked text with custom IDs | Angular">custom ID</a>, but without the <code>@@</code> prefix required in the source HTML.</p> </li> <li>
<p>Duplicate the <code>&lt;source&gt;... &lt;/source&gt;</code> element in the text node, rename it to <code>target</code>, and then replace the content with the French text.</p> <pre data-language="ts">&lt;trans-unit id="introductionHeader" datatype="html"&gt;
        &lt;source&gt;Hello i18n!&lt;/source&gt;
        &lt;target&gt;Bonjour i18n !&lt;/target&gt;
        &lt;note priority="1" from="description"&gt;An introduction header for this sample&lt;/note&gt;
        &lt;note priority="1" from="meaning"&gt;User welcome&lt;/note&gt;
      &lt;/trans-unit&gt;</pre>
<p>In a more complex translation, the information and context in the <a href="prepare#add-helpful-descriptions-and-meanings" title="Add helpful descriptions and meanings - Prepare component for translation | Angular">description and meaning elements</a> help you choose the right words for translation.</p> </li> <li>
<p>Translate the other text nodes. The following example displays the way to translate.</p> </li> </ol> <pre data-language="ts">&lt;trans-unit id="ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3" datatype="html"&gt;
        &lt;source&gt;I don&amp;apos;t output any element&lt;/source&gt;
        &lt;target&gt;Je n'affiche aucun élément&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id="701174153757adf13e7c24a248c8a873ac9f5193" datatype="html"&gt;
        &lt;source&gt;Angular logo&lt;/source&gt;
        &lt;target&gt;Logo d'Angular&lt;/target&gt;
      &lt;/trans-unit&gt;</pre>

<div class="docs-alert docs-alert-important"> <p><strong>IMPORTANT:</strong> Don't change the IDs for translation units. Each <code>id</code> attribute is generated by Angular and depends on the content of the component text and the assigned meaning.</p> </div>  <p>If you change either the text or the meaning, then the <code>id</code> attribute changes. For more about managing text updates and IDs, see <a href="manage-marked-text" title="Manage marked text with custom IDs | Angular">custom IDs</a>.</p> <h2 id="translate-plurals"> Translate plurals </h2> <p>Add or remove plural cases as needed for each language.</p> 
<div class="docs-alert docs-alert-helpful"> <p><strong>HELPFUL:</strong> For language plural rules, see <a href="https://cldr.unicode.org/index/cldr-spec/plural-rules" title="Language Plural Rules - CLDR Charts | Unicode | GitHub" target="_blank">CLDR plural rules</a>.</p> </div>  <h3 id="minute-plural-example"> minute plural example </h3> <p>To translate a <code>plural</code>, translate the ICU format match values.</p> <ul class="docs-list"> <li><code>just now</code></li> <li><code>one minute ago</code></li> <li><code>&lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes ago</code></li> </ul> <p>The following example displays the way to translate.</p> <pre data-language="ts">&lt;trans-unit id="5a134dee893586d02bffc9611056b9cadf9abfad" datatype="html"&gt;
        &lt;source&gt;{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes ago} }&lt;/source&gt;
        &lt;target&gt;{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes} }&lt;/target&gt;
      &lt;/trans-unit&gt;</pre> <h2 id="translate-alternate-expressions"> Translate alternate expressions </h2> <p>Angular also extracts alternate <code>select</code> ICU expressions as separate translation units.</p> <h3 id="gender-select-example"> gender select example </h3> <p>The following example displays a <code>select</code> ICU expression in the component template.</p> <pre data-language="ts">&lt;span i18n&gt;The author is {gender, select, male {male} female {female} other {other}}&lt;/span&gt;</pre>
<p>In this example, Angular extracts the expression into two translation units. The first contains the text outside of the <code>select</code> clause, and uses a placeholder for <code>select</code> (<code>&lt;x id="ICU"&gt;</code>):</p> <pre data-language="ts">&lt;trans-unit id="f99f34ac9bd4606345071bd813858dec29f3b7d1" datatype="html"&gt;
        &lt;source&gt;The author is &lt;x id="ICU" equiv-text="{gender, select, male {...} female {...} other {...}}"/&gt;&lt;/source&gt;
        &lt;target&gt;L'auteur est &lt;x id="ICU" equiv-text="{gender, select, male {...} female {...} other {...}}"/&gt;&lt;/target&gt;
      &lt;/trans-unit&gt;</pre>

<div class="docs-alert docs-alert-important"> <p><strong>IMPORTANT:</strong> When you translate the text, move the placeholder if necessary, but don't remove it. If you remove the placeholder, the ICU expression is removed from your translated application.</p> </div>  <p>The following example displays the second translation unit that contains the <code>select</code> clause.</p> <pre data-language="ts">&lt;trans-unit id="eff74b75ab7364b6fa888f1cbfae901aaaf02295" datatype="html"&gt;
        &lt;source&gt;{VAR_SELECT, select, male {male} female {female} other {other} }&lt;/source&gt;
        &lt;target&gt;{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&lt;/target&gt;
      &lt;/trans-unit&gt;</pre>
<p>The following example displays both translation units after translation is complete.</p> <pre data-language="ts">&lt;trans-unit id="f99f34ac9bd4606345071bd813858dec29f3b7d1" datatype="html"&gt;
        &lt;source&gt;The author is &lt;x id="ICU" equiv-text="{gender, select, male {...} female {...} other {...}}"/&gt;&lt;/source&gt;
        &lt;target&gt;L'auteur est &lt;x id="ICU" equiv-text="{gender, select, male {...} female {...} other {...}}"/&gt;&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id="eff74b75ab7364b6fa888f1cbfae901aaaf02295" datatype="html"&gt;
        &lt;source&gt;{VAR_SELECT, select, male {male} female {female} other {other} }&lt;/source&gt;
        &lt;target&gt;{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&lt;/target&gt;
      &lt;/trans-unit&gt;</pre> <h2 id="translate-nested-expressions"> Translate nested expressions </h2> <p>Angular treats a nested expression in the same manner as an alternate expression. Angular extracts the expression into two translation units.</p> <h3 id="nested-plural-example"> Nested plural example </h3> <p>The following example displays the first translation unit that contains the text outside of the nested expression.</p> <pre data-language="ts">&lt;trans-unit id="972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c" datatype="html"&gt;
        &lt;source&gt;Updated: &lt;x id="ICU" equiv-text="{minutes, plural, =0 {...} =1 {...} other {...}}"/&gt;&lt;/source&gt;
        &lt;target&gt;Mis à jour: &lt;x id="ICU" equiv-text="{minutes, plural, =0 {...} =1 {...} other {...}}"/&gt;&lt;/target&gt;
      &lt;/trans-unit&gt;</pre>
<p>The following example displays the second translation unit that contains the complete nested expression.</p> <pre data-language="ts">&lt;trans-unit id="7151c2e67748b726f0864fc443861d45df21d706" datatype="html"&gt;
        &lt;source&gt;{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&lt;/source&gt;
        &lt;target&gt;{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&lt;/target&gt;
      &lt;/trans-unit&gt;</pre>
<p>The following example displays both translation units after translating.</p> <pre data-language="ts">&lt;trans-unit id="972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c" datatype="html"&gt;
        &lt;source&gt;Updated: &lt;x id="ICU" equiv-text="{minutes, plural, =0 {...} =1 {...} other {...}}"/&gt;&lt;/source&gt;
        &lt;target&gt;Mis à jour: &lt;x id="ICU" equiv-text="{minutes, plural, =0 {...} =1 {...} other {...}}"/&gt;&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id="7151c2e67748b726f0864fc443861d45df21d706" datatype="html"&gt;
        &lt;source&gt;{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&lt;/source&gt;
        &lt;target&gt;{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &lt;x id="INTERPOLATION" equiv-text="{{minutes}}"/&gt; minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&lt;/target&gt;
      &lt;/trans-unit&gt;</pre> <h2 id="whats-next"> What's next </h2> <nav class="docs-pill-row"> <a class="docs-pill" href="merge"> Merge translations into the app </a> </nav><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/guide/i18n/translation-files" class="_attribution-link">https://angular.dev/guide/i18n/translation-files</a>
  </p>
</div>

<h1>ContentContainerComponentHarness</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>Base class for component harnesses that authors should extend if they anticipate that consumers of the harness may want to access other harnesses within the <code>&lt;ng-content&gt;</code> of the component.</p></section></header><div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">abstract class ContentContainerComponentHarness&lt;S extends string = string&gt; extends ComponentHarness implements HarnessLoader {
  getChildLoader(selector: S): Promise&lt;HarnessLoader&gt;;
  getAllChildLoaders(selector: S): Promise&lt;HarnessLoader[]&gt;;
  getHarness&lt;T extends ComponentHarness&gt;(query: HarnessQuery&lt;T&gt;): Promise&lt;T&gt;;
  getHarnessOrNull&lt;T extends ComponentHarness&gt;(query: HarnessQuery&lt;T&gt;): Promise&lt;T | null&gt;;
  getHarnessAtIndex&lt;T extends ComponentHarness&gt;(query: HarnessQuery&lt;T&gt;, index: number): Promise&lt;T&gt;;
  getAllHarnesses&lt;T extends ComponentHarness&gt;(query: HarnessQuery&lt;T&gt;): Promise&lt;T[]&gt;;
  countHarnesses&lt;T extends ComponentHarness&gt;(query: HarnessQuery&lt;T&gt;): Promise&lt;number&gt;;
  hasHarness&lt;T extends ComponentHarness&gt;(query: HarnessQuery&lt;T&gt;): Promise&lt;boolean&gt;;
  protected getRootHarnessLoader(): Promise&lt;HarnessLoader&gt;;
  override host(): Promise&lt;TestElement&gt;;
  protected override documentRootLocatorFactory(): LocatorFactory;
  protected override locatorFor&lt;T extends (HarnessQuery&lt;any&gt; | string)[]&gt;(...queries: T): () =&gt; Promise&lt;LocatorFnResult&lt;T&gt;&gt;;
  protected override locatorForOptional&lt;T extends (HarnessQuery&lt;any&gt; | string)[]&gt;(...queries: T): () =&gt; Promise&lt;LocatorFnResult&lt;T&gt; | null&gt;;
  protected override locatorForAll&lt;T extends (HarnessQuery&lt;any&gt; | string)[]&gt;(...queries: T): () =&gt; Promise&lt;LocatorFnResult&lt;T&gt;[]&gt;;
  protected override forceStabilize(): Promise&lt;void&gt;;
  protected override waitForTasksOutsideAngular(): Promise&lt;void&gt;;
}</pre>
</div>
<div class="docs-reference-members"><div class="docs-reference-members">
<div id="getChildLoader" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getChildLoader</h3>
<code>Promise&lt;<a href="harnessloader">HarnessLoader</a>&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets a <a href="harnessloader"><code>HarnessLoader</code></a> that searches for harnesses under the first element matching the given selector within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>S</code><div class="docs-parameter-description"><p>The selector for an element in the component's content.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="harnessloader">HarnessLoader</a>&gt;</code>
</div>
</div></div>
</div>
<div id="getAllChildLoaders" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getAllChildLoaders</h3>
<code>Promise&lt;<a href="harnessloader">HarnessLoader</a>[]&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets a list of <a href="harnessloader"><code>HarnessLoader</code></a> for each element matching the given selector under the current harness's cotnent that searches for harnesses under that element.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>S</code><div class="docs-parameter-description"><p>The selector for elements in the component's content.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="harnessloader">HarnessLoader</a>[]&gt;</code>
</div>
</div></div>
</div>
<div id="getHarness" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getHarness</h3>
<code>Promise&lt;T&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets the first matching harness for the given query within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="harnessquery">HarnessQuery</a>&lt;T&gt;</code><div class="docs-parameter-description"><p>The harness query to search for.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;T&gt;</code>
</div>
</div></div>
</div>
<div id="getHarnessOrNull" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getHarnessOrNull</h3>
<code>Promise&lt;T | null&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets the first matching harness for the given query within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="harnessquery">HarnessQuery</a>&lt;T&gt;</code><div class="docs-parameter-description"><p>The harness query to search for.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;T | null&gt;</code>
</div>
</div></div>
</div>
<div id="getHarnessAtIndex" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getHarnessAtIndex</h3>
<code>Promise&lt;T&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets a matching harness for the given query and index within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="harnessquery">HarnessQuery</a>&lt;T&gt;</code><div class="docs-parameter-description"><p>The harness query to search for.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number</code><div class="docs-parameter-description"><p>The zero-indexed offset of the component to find.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;T&gt;</code>
</div>
</div></div>
</div>
<div id="getAllHarnesses" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getAllHarnesses</h3>
<code>Promise&lt;T[]&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets all matching harnesses for the given query within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="harnessquery">HarnessQuery</a>&lt;T&gt;</code><div class="docs-parameter-description"><p>The harness query to search for.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;T[]&gt;</code>
</div>
</div></div>
</div>
<div id="countHarnesses" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>countHarnesses</h3>
<code>Promise&lt;number&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Returns the number of matching harnesses for the given query within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="harnessquery">HarnessQuery</a>&lt;T&gt;</code><div class="docs-parameter-description"><p>The harness query to search for.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;number&gt;</code>
</div>
</div></div>
</div>
<div id="hasHarness" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>hasHarness</h3>
<code>Promise&lt;boolean&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Checks whether there is a matching harnesses for the given query within the current harness's content.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="harnessquery">HarnessQuery</a>&lt;T&gt;</code><div class="docs-parameter-description"><p>The harness query to search for.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;boolean&gt;</code>
</div>
</div></div>
</div>
<div id="getRootHarnessLoader" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>getRootHarnessLoader</h3>
<code>Promise&lt;<a href="harnessloader">HarnessLoader</a>&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets the root harness loader from which to start searching for content contained by this harness.</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="harnessloader">HarnessLoader</a>&gt;</code>
</div>
</div></div>
</div>
<div id="host" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>host</h3>
<code>Promise&lt;<a href="testelement">TestElement</a>&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets a <code>Promise</code> for the <a href="testelement"><code>TestElement</code></a> representing the host element of the component.</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="testelement">TestElement</a>&gt;</code>
</div>
</div></div>
</div>
<div id="documentRootLocatorFactory" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>documentRootLocatorFactory</h3>
<code><a href="locatorfactory">LocatorFactory</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Gets a <a href="locatorfactory"><code>LocatorFactory</code></a> for the document root element. This factory can be used to create locators for elements that a component creates outside of its own root element. (e.g. by appending to document.body).</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="locatorfactory">LocatorFactory</a></code>
</div>
</div></div>
</div>
<div id="locatorFor" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>locatorFor</h3>
<code>() =&gt; Promise&lt;<a href="locatorfnresult">LocatorFnResult</a>&lt;T&gt;&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition">
<p>Creates an asynchronous locator function that can be used to find a <a href="componentharness"><code>ComponentHarness</code></a> instance or element under the host element of this <a href="componentharness"><code>ComponentHarness</code></a>.</p> <p>For example, given the following DOM and assuming <code>DivHarness.hostSelector</code> is <code>'div'</code></p> <pre data-language="ts">&lt;div id="d1"&gt;&lt;/div&gt;&lt;div id="d2"&gt;&lt;/div&gt;</pre>
<p>then we expect:</p> <pre data-language="ts">await ch.locatorFor(DivHarness, 'div')() // Gets a `DivHarness` instance for #d1
await ch.locatorFor('div', DivHarness)() // Gets a `TestElement` instance for #d1
await ch.locatorFor('span')()            // Throws because the `Promise` rejects</pre>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">queries</span><code>T</code><div class="docs-parameter-description">
<p>A list of queries specifying which harnesses and elements to search for:</p> <ul class="docs-list"> <li>A <code>string</code> searches for elements matching the CSS selector specified by the string.</li> <li>A <a href="componentharness"><code>ComponentHarness</code></a> constructor searches for <a href="componentharness"><code>ComponentHarness</code></a> instances matching the given class.</li> <li>A <a href="harnesspredicate"><code>HarnessPredicate</code></a> searches for <a href="componentharness"><code>ComponentHarness</code></a> instances matching the given predicate.</li> </ul>
</div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>() =&gt; Promise&lt;<a href="locatorfnresult">LocatorFnResult</a>&lt;T&gt;&gt;</code>
</div>
</div></div>
</div>
<div id="locatorForOptional" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>locatorForOptional</h3>
<code>() =&gt; Promise&lt;<a href="locatorfnresult">LocatorFnResult</a>&lt;T&gt; | null&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition">
<p>Creates an asynchronous locator function that can be used to find a <a href="componentharness"><code>ComponentHarness</code></a> instance or element under the host element of this <a href="componentharness"><code>ComponentHarness</code></a>.</p> <p>For example, given the following DOM and assuming <code>DivHarness.hostSelector</code> is <code>'div'</code></p> <pre data-language="ts">&lt;div id="d1"&gt;&lt;/div&gt;&lt;div id="d2"&gt;&lt;/div&gt;</pre>
<p>then we expect:</p> <pre data-language="ts">await ch.locatorForOptional(DivHarness, 'div')() // Gets a `DivHarness` instance for #d1
await ch.locatorForOptional('div', DivHarness)() // Gets a `TestElement` instance for #d1
await ch.locatorForOptional('span')()            // Gets `null`</pre>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">queries</span><code>T</code><div class="docs-parameter-description">
<p>A list of queries specifying which harnesses and elements to search for:</p> <ul class="docs-list"> <li>A <code>string</code> searches for elements matching the CSS selector specified by the string.</li> <li>A <a href="componentharness"><code>ComponentHarness</code></a> constructor searches for <a href="componentharness"><code>ComponentHarness</code></a> instances matching the given class.</li> <li>A <a href="harnesspredicate"><code>HarnessPredicate</code></a> searches for <a href="componentharness"><code>ComponentHarness</code></a> instances matching the given predicate.</li> </ul>
</div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>() =&gt; Promise&lt;<a href="locatorfnresult">LocatorFnResult</a>&lt;T&gt; | null&gt;</code>
</div>
</div></div>
</div>
<div id="locatorForAll" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>locatorForAll</h3>
<code>() =&gt; Promise&lt;<a href="locatorfnresult">LocatorFnResult</a>&lt;T&gt;[]&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition">
<p>Creates an asynchronous locator function that can be used to find <a href="componentharness"><code>ComponentHarness</code></a> instances or elements under the host element of this <a href="componentharness"><code>ComponentHarness</code></a>.</p> <p>For example, given the following DOM and assuming <code>DivHarness.hostSelector</code> is <code>'div'</code> and <code>IdIsD1Harness.hostSelector</code> is <code>'#d1'</code></p> <pre data-language="ts">&lt;div id="d1"&gt;&lt;/div&gt;&lt;div id="d2"&gt;&lt;/div&gt;</pre>
<p>then we expect:</p> <pre data-language="ts">// Gets [DivHarness for #d1, TestElement for #d1, DivHarness for #d2, TestElement for #d2]
await ch.locatorForAll(DivHarness, 'div')()
// Gets [TestElement for #d1, TestElement for #d2]
await ch.locatorForAll('div', '#d1')()
// Gets [DivHarness for #d1, IdIsD1Harness for #d1, DivHarness for #d2]
await ch.locatorForAll(DivHarness, IdIsD1Harness)()
// Gets []
await ch.locatorForAll('span')()</pre>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">queries</span><code>T</code><div class="docs-parameter-description">
<p>A list of queries specifying which harnesses and elements to search for:</p> <ul class="docs-list"> <li>A <code>string</code> searches for elements matching the CSS selector specified by the string.</li> <li>A <a href="componentharness"><code>ComponentHarness</code></a> constructor searches for <a href="componentharness"><code>ComponentHarness</code></a> instances matching the given class.</li> <li>A <a href="harnesspredicate"><code>HarnessPredicate</code></a> searches for <a href="componentharness"><code>ComponentHarness</code></a> instances matching the given predicate.</li> </ul>
</div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>() =&gt; Promise&lt;<a href="locatorfnresult">LocatorFnResult</a>&lt;T&gt;[]&gt;</code>
</div>
</div></div>
</div>
<div id="forceStabilize" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>forceStabilize</h3>
<code>Promise&lt;void&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Flushes change detection and async tasks in the Angular zone. In most cases it should not be necessary to call this manually. However, there may be some edge cases where it is needed to fully flush animation events.</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;void&gt;</code>
</div>
</div></div>
</div>
<div id="waitForTasksOutsideAngular" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>waitForTasksOutsideAngular</h3>
<code>Promise&lt;void&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Waits for all scheduled or running async tasks to complete. This allows harness authors to wait for async tasks outside of the Angular zone.</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>Promise&lt;void&gt;</code>
</div>
</div></div>
</div>
</div></div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/cdk/testing/ContentContainerComponentHarness" class="_attribution-link">https://angular.dev/api/cdk/testing/ContentContainerComponentHarness</a>
  </p>
</div>

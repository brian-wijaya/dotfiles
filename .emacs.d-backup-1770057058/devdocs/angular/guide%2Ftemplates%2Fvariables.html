<h1 tabindex="-1">Variables in templates</h1> <header class="docs-header"> <docs-breadcrumb ng-version="21.0.3" _nghost-ng-c3945279308 ngh="8"></docs-breadcrumb>   </header> <p>Angular has two types of variable declarations in templates: local template variables and template reference variables.</p> <h2 id="local-template-variables-with-let"> Local template variables with @let </h2> <p>Angular's <code>@let</code> syntax allows you to define a local variable and re-use it across a template, similar to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let" target="_blank">JavaScript <code>let</code> syntax</a>.</p> <h3 id="using-let"> Using @let </h3> <p>Use <code>@let</code> to declare a variable whose value is based on the result of a template expression. Angular automatically keeps the variable's value up-to-date with the given expression, similar to <a href="https://angular.dev/templates/bindings">bindings</a>.</p> <pre data-language="ts">@let name = user.name;
@let greeting = 'Hello, ' + name;
@let data = data$ | async;
@let pi = 3.14159;
@let coordinates = {x: 50, y: 100};
@let longExpression = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit ' +
                      'sed do eiusmod tempor incididunt ut labore et dolore magna ' +
                      'Ut enim ad minim veniam...';</pre>
<p>Each <code>@let</code> block can declare exactly one variable. You cannot declare multiple variables in the same block with a comma.</p> <h3 id="referencing-the-value-of-let"> Referencing the value of @let </h3> <p>Once you've declared a variable with <code>@let</code>, you can reuse it in the same template:</p> <pre data-language="ts">@let user = user$ | async;

@if (user) {
  &lt;h1&gt;Hello, {{user.name}}&lt;/h1&gt;
  &lt;user-avatar [photo]="user.photo"/&gt;

  &lt;ul&gt;
    @for (snack of user.favoriteSnacks; track snack.id) {
      &lt;li&gt;{{snack.name}}&lt;/li&gt;
    }
  &lt;/ul&gt;

  &lt;button (click)="update(user)"&gt;Update profile&lt;/button&gt;
}</pre> <h3 id="assignability"> Assignability </h3> <p>A key difference between <code>@let</code> and JavaScript's <code>let</code> is that <code>@let</code> cannot be reassigned after declaration. However, Angular automatically keeps the variable's value up-to-date with the given expression.</p> <pre data-language="ts">@let value = 1;

&lt;!-- Invalid - This does not work! --&gt;
&lt;button (click)="value = value + 1"&gt;Increment the value&lt;/button&gt;</pre> <h3 id="variable-scope"> Variable scope </h3> <p><code>@let</code> declarations are scoped to the current view and its descendants. Angular creates a new view at component boundaries and wherever a template might contain dynamic content, such as control flow blocks, <code>@defer</code> blocks, or structural directives.</p> <p>Since <code>@let</code> declarations are not hoisted, they <strong>cannot</strong> be accessed by parent views or siblings:</p> <pre data-language="ts">@let topLevel = value;

&lt;div&gt;
  @let insideDiv = value;
&lt;/div&gt;

{{topLevel}} &lt;!-- Valid --&gt;
{{insideDiv}} &lt;!-- Valid --&gt;

@if (condition) {
  {{topLevel + insideDiv}} &lt;!-- Valid --&gt;

  @let nested = value;

  @if (condition) {
    {{topLevel + insideDiv + nested}} &lt;!-- Valid --&gt;
  }
}

{{nested}} &lt;!-- Error, not hoisted from @if --&gt;</pre> <h3 id="full-syntax"> Full syntax </h3> <p>The <code>@let</code> syntax is formally defined as:</p> <ul class="docs-list"> <li>The <code>@let</code> keyword.</li> <li>Followed by one or more whitespaces, not including new lines.</li> <li>Followed by a valid JavaScript name and zero or more whitespaces.</li> <li>Followed by the = symbol and zero or more whitespaces.</li> <li>Followed by an Angular expression which can be multi-line.</li> <li>Terminated by the <code>;</code> symbol.</li> </ul> <h2 id="template-reference-variables"> Template reference variables </h2> <p>Template reference variables give you a way to declare a variable that references a value from an element in your template.</p> <p>A template reference variable can refer to the following:</p> <ul class="docs-list"> <li>a DOM element within a template (including <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements" target="_blank">custom elements</a>)</li> <li>an Angular component or directive</li> <li>a <a href="../../api/core/templateref">TemplateRef</a> from an <a href="../../api/core/ng-template">ng-template</a>
</li> </ul> <p>You can use template reference variables to read information from one part of the template in another part of the same template.</p> <h3 id="declaring-a-template-reference-variable"> Declaring a template reference variable </h3> <p>You can declare a variable on an element in a template by adding an attribute that starts with the hash character (<code>#</code>) followed by the variable name.</p> <pre data-language="ts">&lt;!-- Create a template reference variable named "taskInput", referring to the HTMLInputElement. --&gt;
&lt;input #taskInput placeholder="Enter task name"&gt;</pre> <h3 id="assigning-values-to-template-reference-variables"> Assigning values to template reference variables </h3> <p>Angular assigns a value to template variables based on the element on which the variable is declared.</p> <p>If you declare the variable on a Angular component, the variable refers to the component instance.</p> <pre data-language="ts">&lt;!-- The `startDate` variable is assigned the instance of `MyDatepicker`. --&gt;
&lt;my-datepicker #startDate /&gt;</pre>
<p>If you declare the variable on an <code>&lt;ng-template&gt;</code> element, the variable refers to a TemplateRef instance which represents the template. For more information, see <a href="../directives/structural-directives#structural-directive-shorthand">How Angular uses the asterisk, *, syntax</a> in <a href="../directives/structural-directives">Structural directives</a>.</p> <pre data-language="ts">&lt;!-- The `myFragment` variable is assigned the `TemplateRef` instance corresponding to this template fragment. --&gt;
&lt;ng-template #myFragment&gt;
  &lt;p&gt;This is a template fragment&lt;/p&gt;
&lt;/ng-template&gt;</pre>
<p>If you declare the variable on any other displayed element, the variable refers to the <code>HTMLElement</code> instance.</p> <pre data-language="ts">&lt;!-- The "taskInput" variable refers to the HTMLInputElement instance. --&gt;
&lt;input #taskInput placeholder="Enter task name"&gt;</pre> <h4 id="assigning-a-reference-to-an-angular-directive"> Assigning a reference to an Angular directive </h4> <p>Angular directives may have an <code>exportAs</code> property that defines a name by which the directive can be referenced in a template:</p> <pre data-language="ts">@Directive({
  selector: '[dropZone]',
  exportAs: 'dropZone',
})
export class DropZone { /* ... */ }</pre>
<p>When you declare a template variable on an element, you can assign that variable a directive instance by specifying this <code>exportAs</code> name:</p> <pre data-language="ts">&lt;!-- The `firstZone` variable refers to the `DropZone` directive instance. --&gt;
&lt;section dropZone #firstZone="dropZone"&gt; ... &lt;/section&gt;</pre>
<p>You cannot refer to a directive that does not specify an <code>exportAs</code> name.</p> <h3 id="using-template-reference-variables-with-queries"> Using template reference variables with queries </h3> <p>In addition to using template variables to read values from another part of the same template, you can also use this style of variable declaration to "mark" an element for <a href="../components/queries">component and directive queries</a>.</p> <p>When you want to query for a specific element in a template, you can declare a template variable on that element and then query for the element based on the variable name.</p> <pre data-language="ts"> &lt;input #description value="Original description"&gt;</pre>
<pre data-language="ts">@Component({
  /* ... */,
  template: `&lt;input #description value="Original description"&gt;`,
})
export class AppComponent {
  // Query for the input element based on the template variable name.
  @ViewChild('description') input: ElementRef | undefined;
}</pre>
<p>See <a href="../components/queries">Referencing children with queries</a> for more information on queries.</p><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/guide/templates/variables" class="_attribution-link">https://angular.dev/guide/templates/variables</a>
  </p>
</div>

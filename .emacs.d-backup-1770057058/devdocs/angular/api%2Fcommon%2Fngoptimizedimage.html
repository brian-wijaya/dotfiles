<h1>NgOptimizedImage</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>Directive that improves image loading performance by enforcing best practices.</p></section><nav class="docs-pill-row"><a class="docs-pill" href="../../guide/image-optimization">Image Optimization Guide</a></nav></header><div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">class NgOptimizedImage implements OnInit ,OnChanges {
  @Input() ngSrc: string;
  @Input() ngSrcset: string;
  @Input() sizes?: string | undefined;
  @Input() width: number | undefined;
  @Input() height: number | undefined;
  @Input() decoding?: "auto" | "sync" | "async" | undefined;
  @Input() loading?: "auto" | "lazy" | "eager" | undefined;
  @Input() priority: boolean;
  @Input() loaderParams?: { [key: string]: any; } | undefined;
  @Input() disableOptimizedSrcset: boolean;
  @Input() fill: boolean;
  @Input() placeholder?: string | boolean | undefined;
  @Input() placeholderConfig?: ImagePlaceholderConfig | undefined;
  protected generatePlaceholder(placeholderInput: string | boolean): string | boolean | null;
  protected shouldBlurPlaceholder(placeholderConfig?: ImagePlaceholderConfig | undefined): boolean;
}</pre>
</div>
<div class="docs-reference-members"><div class="docs-reference-members">
<div id="ngSrc" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>ngSrc</h3>
<code>string</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Name of the source image. Image name will be processed by the image loader and the final URL will be applied as the <code>src</code> property of the image.</p></div></div></div>
</div>
<div id="ngSrcset" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>ngSrcset</h3>
<code>string</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>A comma separated list of width or density descriptors. The image name will be taken from <code>ngSrc</code> and combined with the list of width or density descriptors to generate the final <code>srcset</code> property of the image.</p> <p>Example:</p> <pre data-language="ts">&lt;img ngSrc="hello.jpg" ngSrcset="100w, 200w" /&gt;  =&gt;
&lt;img src="path/hello.jpg" srcset="path/hello.jpg?w=100 100w, path/hello.jpg?w=200 200w" /&gt;</pre>
</div></div></div>
</div>
<div id="sizes" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>sizes</h3>
<code>string | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>The base <code>sizes</code> attribute passed through to the <code>&lt;img&gt;</code> element. Providing sizes causes the image to create an automatic responsive srcset.</p></div></div></div>
</div>
<div id="width" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>width</h3>
<code>number | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>For responsive images: the intrinsic width of the image in pixels. For fixed size images: the desired rendered width of the image in pixels.</p></div></div></div>
</div>
<div id="height" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>height</h3>
<code>number | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>For responsive images: the intrinsic height of the image in pixels. For fixed size images: the desired rendered height of the image in pixels.</p></div></div></div>
</div>
<div id="decoding" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>decoding</h3>
<code>"auto" | "sync" | "async" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>The desired decoding behavior for the image. Defaults to <code>auto</code> if not explicitly set, matching native browser behavior.</p> <p>Use <code>async</code> to decode the image off the main thread (non-blocking), <code>sync</code> for immediate decoding (blocking), or <code>auto</code> to let the browser decide the optimal strategy.</p> <p><a href="https://html.spec.whatwg.org/multipage/images.html#image-decoding-hint" target="_blank">Spec</a></p>
</div></div></div>
</div>
<div id="loading" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>loading</h3>
<code>"auto" | "lazy" | "eager" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>The desired loading behavior (lazy, eager, or auto). Defaults to <code>lazy</code>, which is recommended for most images.</p> <p>Warning: Setting images as loading="eager" or loading="auto" marks them as non-priority images and can hurt loading performance. For images which may be the LCP element, use the <code>priority</code> attribute instead of <code>loading</code>.</p>
</div></div></div>
</div>
<div id="priority" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>priority</h3>
<code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Indicates whether this image should have a high priority.</p></div></div></div>
</div>
<div id="loaderParams" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>loaderParams</h3>
<code>{ [key: string]: any; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Data to pass through to custom loaders.</p></div></div></div>
</div>
<div id="disableOptimizedSrcset" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>disableOptimizedSrcset</h3>
<code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Disables automatic srcset generation for this image.</p></div></div></div>
</div>
<div id="fill" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>fill</h3>
<code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Sets the image to "fill mode", which eliminates the height/width requirement and adds styles such that the image fills its containing element.</p></div></div></div>
</div>
<div id="placeholder" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>placeholder</h3>
<code>string | boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>A URL or data URL for an image to be used as a placeholder while this image loads.</p></div></div></div>
</div>
<div id="placeholderConfig" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>placeholderConfig</h3>
<code><a href="imageplaceholderconfig">ImagePlaceholderConfig</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>Configuration object for placeholder settings. Options:</p> <ul class="docs-list"> <li>blur: Setting this to false disables the automatic CSS blur.</li> </ul>
</div></div></div>
</div>
<div id="generatePlaceholder" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>generatePlaceholder</h3>
<code>string | boolean | null</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition">
<p>Returns an image url formatted for use with the CSS background-image property. Expects one of:</p> <ul class="docs-list"> <li>A base64 encoded image, which is wrapped and passed through.</li> <li>A boolean. If true, calls the image loader to generate a small placeholder url.</li> </ul>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">placeholderInput</span><code>string | boolean</code>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>string | boolean | null</code>
</div>
</div></div>
</div>
<div id="shouldBlurPlaceholder" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>shouldBlurPlaceholder</h3>
<code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Determines if blur should be applied, based on an optional boolean property <code>blur</code> within the optional configuration object <code>placeholderConfig</code>.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">placeholderConfig</span><code><a href="imageplaceholderconfig">ImagePlaceholderConfig</a> | undefined</code>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>boolean</code>
</div>
</div></div>
</div>
</div></div>
<div class="docs-reference-section">
<h2 id="description" class="docs-reference-section-heading">Description</h2>
<div>
<p>Directive that improves image loading performance by enforcing best practices.</p> <p><a href="ngoptimizedimage"><code>NgOptimizedImage</code></a> ensures that the loading of the Largest Contentful Paint (LCP) image is prioritized by:</p> <ul class="docs-list"> <li>Automatically setting the <code>fetchpriority</code> attribute on the <code>&lt;img&gt;</code> tag</li> <li>Lazy loading non-priority images by default</li> <li>Automatically generating a preconnect link tag in the document head</li> </ul> <p>In addition, the directive:</p> <ul class="docs-list"> <li>Generates appropriate asset URLs if a corresponding <a href="imageloader"><code>ImageLoader</code></a> function is provided</li> <li>Automatically generates a srcset</li> <li>Requires that <code>width</code> and <code>height</code> are set</li> <li>Warns if <code>width</code> or <code>height</code> have been set incorrectly</li> <li>Warns if the image will be visually distorted when rendered</li> </ul>
</div>
</div>
<div class="docs-reference-section">
<h2 id="usage-notes" class="docs-reference-section-heading">Usage Notes</h2>
<div>
<p>The <a href="ngoptimizedimage"><code>NgOptimizedImage</code></a> directive is marked as <a href="../../guide/components/anatomy-of-components#using-components">standalone</a> and can be imported directly.</p> <p>Follow the steps below to enable and use the directive:</p> <ol class="docs-ordered-list"> <li>Import it into the necessary NgModule or a standalone Component.</li> <li>Optionally provide an <a href="imageloader"><code>ImageLoader</code></a> if you use an image hosting service.</li> <li>Update the necessary <code>&lt;img&gt;</code> tags in templates and replace <code>src</code> attributes with <code>ngSrc</code>. Using a <code>ngSrc</code> allows the directive to control when the <code>src</code> gets set, which triggers an image download.</li> </ol> <p>Step 1: import the <a href="ngoptimizedimage"><code>NgOptimizedImage</code></a> directive.</p> <pre data-language="ts">import { NgOptimizedImage } from '@angular/common';

// Include it into the necessary NgModule
@NgModule({
  imports: [NgOptimizedImage],
})
class AppModule {}

// ... or a standalone Component
@Component({
  imports: [NgOptimizedImage],
})
class MyStandaloneComponent {}</pre>
<p>Step 2: configure a loader.</p> <p>To use the <strong>default loader</strong>: no additional code changes are necessary. The URL returned by the generic loader will always match the value of "src". In other words, this loader applies no transformations to the resource URL and the value of the <code>ngSrc</code> attribute will be used as is.</p> <p>To use an existing loader for a <strong>third-party image service</strong>: add the provider factory for your chosen service to the <code>providers</code> array. In the example below, the Imgix loader is used:</p> <pre data-language="ts">import {provideImgixLoader} from '@angular/common';

// Call the function and add the result to the `providers` array:
providers: [
  provideImgixLoader("https://my.base.url/"),
],</pre>
<p>The <a href="ngoptimizedimage"><code>NgOptimizedImage</code></a> directive provides the following functions:</p> <ul class="docs-list"> <li><a href="providecloudflareloader"><code>provideCloudflareLoader</code></a></li> <li><a href="providecloudinaryloader"><code>provideCloudinaryLoader</code></a></li> <li><a href="provideimagekitloader"><code>provideImageKitLoader</code></a></li> <li><a href="provideimgixloader"><code>provideImgixLoader</code></a></li> </ul> <p>If you use a different image provider, you can create a custom loader function as described below.</p> <p>To use a <strong>custom loader</strong>: provide your loader function as a value for the <a href="image_loader"><code>IMAGE_LOADER</code></a> DI token.</p> <pre data-language="ts">import {IMAGE_LOADER, ImageLoaderConfig} from '@angular/common';

// Configure the loader using the `IMAGE_LOADER` token.
providers: [
  {
     provide: IMAGE_LOADER,
     useValue: (config: ImageLoaderConfig) =&gt; {
       return `https://example.com/${config.src}-${config.width}.jpg`;
     }
  },
],</pre>
<p>Step 3: update <code>&lt;img&gt;</code> tags in templates to use <code>ngSrc</code> instead of <code>src</code>.</p> <pre data-language="ts">&lt;img ngSrc="logo.png" width="200" height="100"&gt;</pre>
</div>
</div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/common/NgOptimizedImage" class="_attribution-link">https://angular.dev/api/common/NgOptimizedImage</a>
  </p>
</div>

<h1 tabindex="-1">Setting up <a href="../../api/common/http/httpclient"><code>HttpClient</code></a>
</h1> <header class="docs-header"> <docs-breadcrumb ng-version="21.0.3" _nghost-ng-c3945279308 ngh="8"></docs-breadcrumb>   </header> <p>Before you can use <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> in your app, you must configure it using <a href="../di">dependency injection</a>.</p> <h2 id="providing-httpclient-through-dependency-injection"> Providing HttpClient through dependency injection </h2> <p><a href="../../api/common/http/httpclient"><code>HttpClient</code></a> is provided using the <a href="../../api/common/http/providehttpclient"><code>provideHttpClient</code></a> helper function, which most apps include in the application <code>providers</code> in <code>app.config.ts</code>.</p> <pre data-language="ts">export const appConfig: ApplicationConfig = {
  providers: [
    provideHttpClient(),
  ]
};</pre>
<p>If your app is using NgModule-based bootstrap instead, you can include <a href="../../api/common/http/providehttpclient"><code>provideHttpClient</code></a> in the providers of your app's NgModule:</p> <pre data-language="ts">@NgModule({
  providers: [
    provideHttpClient(),
  ],
  // ... other application configuration
})
export class AppModule {}</pre>
<p>You can then inject the <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> service as a dependency of your components, services, or other classes:</p> <pre data-language="ts">@Injectable({providedIn: 'root'})
export class ConfigService {
  private http = inject(HttpClient);
  // This service can now make HTTP requests via `this.http`.
}</pre> <h2 id="configuring-features-of-httpclient"> Configuring features of HttpClient </h2> <p><a href="../../api/common/http/providehttpclient"><code>provideHttpClient</code></a> accepts a list of optional feature configurations, to enable or configure the behavior of different aspects of the client. This section details the optional features and their usages.</p> <h3 id="withfetch"> withFetch </h3> <pre data-language="ts">export const appConfig: ApplicationConfig = {
  providers: [
    provideHttpClient(
      withFetch(),
    ),
  ]
};</pre>
<p>By default, <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> uses the <a href="https://developer.mozilla.org/docs/Web/API/XMLHttpRequest" target="_blank"><code>XMLHttpRequest</code></a> API to make requests. The <a href="../../api/common/http/withfetch"><code>withFetch</code></a> feature switches the client to use the <a href="https://developer.mozilla.org/docs/Web/API/Fetch_API" target="_blank"><code>fetch</code></a> API instead.</p> <p><code>fetch</code> is a more modern API and is available in a few environments where <code>XMLHttpRequest</code> is not supported. It does have a few limitations, such as not producing upload progress events.</p> <h3 id="withinterceptors"> withInterceptors(...) </h3> <p><a href="../../api/common/http/withinterceptors"><code>withInterceptors</code></a> configures the set of interceptor functions which will process requests made through <a href="../../api/common/http/httpclient"><code>HttpClient</code></a>. See the <a href="interceptors">interceptor guide</a> for more information.</p> <h3 id="withinterceptorsfromdi"> withInterceptorsFromDi() </h3> <p><a href="../../api/common/http/withinterceptorsfromdi"><code>withInterceptorsFromDi</code></a> includes the older style of class-based interceptors in the <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> configuration. See the <a href="interceptors">interceptor guide</a> for more information.</p> 
<div class="docs-alert docs-alert-helpful"> <p><strong>HELPFUL:</strong> Functional interceptors (through <a href="../../api/common/http/withinterceptors"><code>withInterceptors</code></a>) have more predictable ordering and we recommend them over DI-based interceptors.</p> </div>  <h3 id="withrequestsmadeviaparent"> withRequestsMadeViaParent() </h3> <p>By default, when you configure <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> using <a href="../../api/common/http/providehttpclient"><code>provideHttpClient</code></a> within a given injector, this configuration overrides any configuration for <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> which may be present in the parent injector.</p> <p>When you add <a href="../../api/common/http/withrequestsmadeviaparent"><code>withRequestsMadeViaParent()</code></a>, <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> is configured to instead pass requests up to the <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> instance in the parent injector, once they've passed through any configured interceptors at this level. This is useful if you want to <em>add</em> interceptors in a child injector, while still sending the request through the parent injector's interceptors as well.</p> 
<div class="docs-alert docs-alert-critical"> <p><strong>CRITICAL:</strong> You must configure an instance of <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> above the current injector, or this option is not valid and you'll get a runtime error when you try to use it.</p> </div>  <h3 id="withjsonpsupport"> withJsonpSupport() </h3> <p>Including <a href="../../api/common/http/withjsonpsupport"><code>withJsonpSupport</code></a> enables the <code>.jsonp()</code> method on <a href="../../api/common/http/httpclient"><code>HttpClient</code></a>, which makes a GET request via the <a href="https://en.wikipedia.org/wiki/JSONP" target="_blank">JSONP convention</a> for cross-domain loading of data.</p> 
<div class="docs-alert docs-alert-helpful"> <p><strong>HELPFUL:</strong> Prefer using <a href="https://developer.mozilla.org/docs/Web/HTTP/CORS" target="_blank">CORS</a> to make cross-domain requests instead of JSONP when possible.</p> </div>  <h3 id="withxsrfconfiguration"> withXsrfConfiguration(...) </h3> <p>Including this option allows for customization of <a href="../../api/common/http/httpclient"><code>HttpClient</code></a>'s built-in XSRF security functionality. See the <a href="https://angular.dev/best-practices/security">security guide</a> for more information.</p> <h3 id="withnoxsrfprotection"> withNoXsrfProtection() </h3> <p>Including this option disables <a href="../../api/common/http/httpclient"><code>HttpClient</code></a>'s built-in XSRF security functionality. See the <a href="https://angular.dev/best-practices/security">security guide</a> for more information.</p> <h2 id="httpclientmodule-based-configuration"> HttpClientModule-based configuration </h2> <p>Some applications may configure <a href="../../api/common/http/httpclient"><code>HttpClient</code></a> using the older API based on NgModules.</p> <p>This table lists the NgModules available from <code>@angular/common/http</code> and how they relate to the provider configuration functions above.</p> <div class="docs-table docs-scroll-track-transparent"> <table> <thead> <tr> <th><strong>NgModule</strong></th> <th>
<a href="../../api/common/http/providehttpclient"><code>provideHttpClient()</code></a> equivalent</th> </tr> </thead> <tbody> <tr> <td><a href="../../api/common/http/httpclientmodule"><code>HttpClientModule</code></a></td> <td><code>provideHttpClient(withInterceptorsFromDi())</code></td> </tr> <tr> <td><a href="../../api/common/http/httpclientjsonpmodule"><code>HttpClientJsonpModule</code></a></td> <td><a href="../../api/common/http/withjsonpsupport"><code>withJsonpSupport()</code></a></td> </tr> <tr> <td><code>HttpClientXsrfModule.withOptions(...)</code></td> <td><code>withXsrfConfiguration(...)</code></td> </tr> <tr> <td><a href="../../api/common/http/httpclientxsrfmodule#disable"><code>HttpClientXsrfModule.disable()</code></a></td> <td><a href="../../api/common/http/withnoxsrfprotection"><code>withNoXsrfProtection()</code></a></td> </tr> </tbody> </table> </div> <div class="docs-callout docs-callout-important"> <h3>Use caution when using HttpClientModule in multiple injectors</h3> <p>When <a href="../../api/common/http/httpclientmodule"><code>HttpClientModule</code></a> is present in multiple injectors, the behavior of interceptors is poorly defined and depends on the exact options and provider/import ordering.</p> <p>Prefer <a href="../../api/common/http/providehttpclient"><code>provideHttpClient</code></a> for multi-injector configurations, as it has more stable behavior. See the <a href="../../api/common/http/withrequestsmadeviaparent"><code>withRequestsMadeViaParent</code></a> feature above.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/guide/http/setup" class="_attribution-link">https://angular.dev/guide/http/setup</a>
  </p>
</div>

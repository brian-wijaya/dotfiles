<h1>transition</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>Declares an animation transition which is played when a certain specified condition is met.</p></section></header><div class="docs-alert docs-alert-important">
<p>Deprecation warning</p>
<div class="docs-deprecation-message"><span><p>Use <code>animate.enter</code> or <code>animate.leave</code> instead. Intent to remove in v23</p> </span></div>
</div>
<div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">function transition(
  stateChangeExpr:
    | string
    | ((
        fromState: string,
        toState: string,
        element?: any,
        params?: { [key: string]: any } | undefined,
      ) =&gt; boolean),
  steps: AnimationMetadata | AnimationMetadata[],
  options?: AnimationOptions | null,
): AnimationTransitionMetadata;</pre>
</div>
<div class="docs-reference-members"><div id="transition_0" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>transition</h3>
<div><code><a href="animationtransitionmetadata">AnimationTransitionMetadata</a></code></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item docs-reference-card-item-deprecated">
<div class="docs-function-definition"><p>Declares an animation transition which is played when a certain specified condition is met.</p></div>
<div><div class="docs-deprecation-message">
<span class="docs-param-keyword docs-deprecated">@deprecated</span><span><p>Use <code>animate.enter</code> or <code>animate.leave</code> instead. Intent to remove in v23</p> </span>
</div></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">stateChangeExpr</span><code>string | ((fromState: string, toState: string, element?: any, params?: { [key: string]: any; } | undefined) =&gt; boolean)</code><div class="docs-parameter-description"><p>A string with a specific format or a function that specifies when the animation transition should occur (see <a href="#state-change-expression">State Change Expression</a>).</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">steps</span><code><a href="animationmetadata">AnimationMetadata</a> | <a href="animationmetadata">AnimationMetadata</a>[]</code><div class="docs-parameter-description"><p>One or more animation objects that represent the animation's instructions.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">options</span><code><a href="animationoptions">AnimationOptions</a> | null</code><div class="docs-parameter-description"><p>An options object that can be used to specify a delay for the animation or provide custom parameters for it.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="animationtransitionmetadata">AnimationTransitionMetadata</a></code>
</div>
<div class="docs-usage-notes">
<span class="docs-usage-notes-heading">Usage notes</span><div> <h3 id="state-change-expression"> State Change Expression </h3> <p>The State Change Expression instructs Angular when to run the transition's animations, it can either be</p> <ul class="docs-list"> <li>a string with a specific syntax</li> <li>or a function that compares the previous and current state (value of the expression bound to the element's trigger) and returns <code>true</code> if the transition should occur or <code>false</code> otherwise</li> </ul> <p>The string format can be:</p> <ul class="docs-list"> <li>
<p><code>fromState =&gt; toState</code>, which indicates that the transition's animations should occur then the expression bound to the trigger's element goes from <code>fromState</code> to <code>toState</code></p> <p><em>Example:</em></p> <pre data-language="ts">    transition('open =&gt; closed', animate('.5s ease-out', style({ height: 0 }) ))</pre>
</li> <li>
<p><code>fromState &lt;=&gt; toState</code>, which indicates that the transition's animations should occur then the expression bound to the trigger's element goes from <code>fromState</code> to <code>toState</code> or vice versa</p> <p><em>Example:</em></p> <pre data-language="ts">    transition('enabled &lt;=&gt; disabled', animate('1s cubic-bezier(0.8,0.3,0,1)'))</pre>
</li> <li>
<p><code>:enter</code>/<code>:leave</code>, which indicates that the transition's animations should occur when the element enters or exists the DOM</p> <p><em>Example:</em></p> <pre data-language="ts">    transition(':enter', [
      style({ opacity: 0 }),
      animate('500ms', style({ opacity: 1 }))
    ])</pre>
</li> <li>
<p><code>:increment</code>/<code>:decrement</code>, which indicates that the transition's animations should occur when the numerical expression bound to the trigger's element has increased in value or decreased</p> <p><em>Example:</em></p> <pre data-language="ts">    transition(':increment', query('@counter', animateChild()))</pre>
</li> <li>
<p>a sequence of any of the above divided by commas, which indicates that transition's animations should occur whenever one of the state change expressions matches</p> <p><em>Example:</em></p> <pre data-language="ts">    transition(':increment, * =&gt; enabled, :enter', animate('1s ease', keyframes([
      style({ transform: 'scale(1)', offset: 0}),
      style({ transform: 'scale(1.1)', offset: 0.7}),
      style({ transform: 'scale(1)', offset: 1})
    ]))),</pre>
</li> </ul> <p>Also note that in such context:</p> <ul class="docs-list"> <li>
<code>void</code> can be used to indicate the absence of the element</li> <li>asterisks can be used as wildcards that match any state</li> <li>(as a consequence of the above, <code>void =&gt; *</code> is equivalent to <code>:enter</code> and <code>* =&gt; void</code> is equivalent to <code>:leave</code>)</li> <li>
<code>true</code> and <code>false</code> also match expression values of <code>1</code> and <code>0</code> respectively (but do not match <em>truthy</em> and <em>falsy</em> values)</li> </ul> <div class="docs-alert docs-alert-helpful"> <p> Be careful about entering end leaving elements as their transitions present a common pitfall for developers.</p> <p> Note that when an element with a trigger enters the DOM its <code>:enter</code> transition always gets executed, but its <code>:leave</code> transition will not be executed if the element is removed alongside its parent (as it will be removed "without warning" before its transition has a chance to be executed, the only way that such transition can occur is if the element is exiting the DOM on its own).</p> </div> <h3 id="animating-to-a-final-state"> Animating to a Final State </h3> <p>If the final step in a transition is a call to <a href="animate"><code>animate()</code></a> that uses a timing value with no <code>style</code> data, that step is automatically considered the final animation arc, for the element to reach the final state, in such case Angular automatically adds or removes CSS styles to ensure that the element is in the correct final state.</p> <h3 id="usage-examples"> Usage Examples </h3> <ul class="docs-list"> <li>Transition animations applied based on the trigger's expression value</li> </ul> <pre data-language="ts">  &lt;div [@myAnimationTrigger]="myStatusExp"&gt;
   ...
  &lt;/div&gt;</pre>
<pre data-language="ts">  trigger("myAnimationTrigger", [
    ..., // states
    transition("on =&gt; off, open =&gt; closed", animate(500)),
    transition("* &lt;=&gt; error", query('.indicator', animateChild()))
  ])</pre> <ul class="docs-list"> <li>Transition animations applied based on custom logic dependent on the trigger's expression value and provided parameters<pre data-language="ts">&lt;div [@myAnimationTrigger]="{
 value: stepName,
 params: { target: currentTarget }
}"&gt;
 ...
&lt;/div&gt;</pre>
<pre data-language="ts">trigger("myAnimationTrigger", [
  ..., // states
  transition(
    (fromState, toState, _element, params) =&gt;
      ['firststep', 'laststep'].includes(fromState.toLowerCase())
      &amp;&amp; toState === params?.['target'],
    animate('1s')
  )
])</pre>
</li> </ul> </div>
</div>
</div></div>
</div></div>
<div class="docs-reference-section">
<h2 id="usage-notes" class="docs-reference-section-heading">Usage Notes</h2>
<div> <h3 id="state-change-expression"> State Change Expression </h3> <p>The State Change Expression instructs Angular when to run the transition's animations, it can either be</p> <ul class="docs-list"> <li>a string with a specific syntax</li> <li>or a function that compares the previous and current state (value of the expression bound to the element's trigger) and returns <code>true</code> if the transition should occur or <code>false</code> otherwise</li> </ul> <p>The string format can be:</p> <ul class="docs-list"> <li>
<p><code>fromState =&gt; toState</code>, which indicates that the transition's animations should occur then the expression bound to the trigger's element goes from <code>fromState</code> to <code>toState</code></p> <p><em>Example:</em></p> <pre data-language="ts">    transition('open =&gt; closed', animate('.5s ease-out', style({ height: 0 }) ))</pre>
</li> <li>
<p><code>fromState &lt;=&gt; toState</code>, which indicates that the transition's animations should occur then the expression bound to the trigger's element goes from <code>fromState</code> to <code>toState</code> or vice versa</p> <p><em>Example:</em></p> <pre data-language="ts">    transition('enabled &lt;=&gt; disabled', animate('1s cubic-bezier(0.8,0.3,0,1)'))</pre>
</li> <li>
<p><code>:enter</code>/<code>:leave</code>, which indicates that the transition's animations should occur when the element enters or exists the DOM</p> <p><em>Example:</em></p> <pre data-language="ts">    transition(':enter', [
      style({ opacity: 0 }),
      animate('500ms', style({ opacity: 1 }))
    ])</pre>
</li> <li>
<p><code>:increment</code>/<code>:decrement</code>, which indicates that the transition's animations should occur when the numerical expression bound to the trigger's element has increased in value or decreased</p> <p><em>Example:</em></p> <pre data-language="ts">    transition(':increment', query('@counter', animateChild()))</pre>
</li> <li>
<p>a sequence of any of the above divided by commas, which indicates that transition's animations should occur whenever one of the state change expressions matches</p> <p><em>Example:</em></p> <pre data-language="ts">    transition(':increment, * =&gt; enabled, :enter', animate('1s ease', keyframes([
      style({ transform: 'scale(1)', offset: 0}),
      style({ transform: 'scale(1.1)', offset: 0.7}),
      style({ transform: 'scale(1)', offset: 1})
    ]))),</pre>
</li> </ul> <p>Also note that in such context:</p> <ul class="docs-list"> <li>
<code>void</code> can be used to indicate the absence of the element</li> <li>asterisks can be used as wildcards that match any state</li> <li>(as a consequence of the above, <code>void =&gt; *</code> is equivalent to <code>:enter</code> and <code>* =&gt; void</code> is equivalent to <code>:leave</code>)</li> <li>
<code>true</code> and <code>false</code> also match expression values of <code>1</code> and <code>0</code> respectively (but do not match <em>truthy</em> and <em>falsy</em> values)</li> </ul> <div class="docs-alert docs-alert-helpful"> <p> Be careful about entering end leaving elements as their transitions present a common pitfall for developers.</p> <p> Note that when an element with a trigger enters the DOM its <code>:enter</code> transition always gets executed, but its <code>:leave</code> transition will not be executed if the element is removed alongside its parent (as it will be removed "without warning" before its transition has a chance to be executed, the only way that such transition can occur is if the element is exiting the DOM on its own).</p> </div> <h3 id="animating-to-a-final-state"> Animating to a Final State </h3> <p>If the final step in a transition is a call to <a href="animate"><code>animate()</code></a> that uses a timing value with no <code>style</code> data, that step is automatically considered the final animation arc, for the element to reach the final state, in such case Angular automatically adds or removes CSS styles to ensure that the element is in the correct final state.</p> <h3 id="usage-examples"> Usage Examples </h3> <ul class="docs-list"> <li>Transition animations applied based on the trigger's expression value</li> </ul> <pre data-language="ts">  &lt;div [@myAnimationTrigger]="myStatusExp"&gt;
   ...
  &lt;/div&gt;</pre>
<pre data-language="ts">  trigger("myAnimationTrigger", [
    ..., // states
    transition("on =&gt; off, open =&gt; closed", animate(500)),
    transition("* &lt;=&gt; error", query('.indicator', animateChild()))
  ])</pre> <ul class="docs-list"> <li>Transition animations applied based on custom logic dependent on the trigger's expression value and provided parameters<pre data-language="ts">&lt;div [@myAnimationTrigger]="{
 value: stepName,
 params: { target: currentTarget }
}"&gt;
 ...
&lt;/div&gt;</pre>
<pre data-language="ts">trigger("myAnimationTrigger", [
  ..., // states
  transition(
    (fromState, toState, _element, params) =&gt;
      ['firststep', 'laststep'].includes(fromState.toLowerCase())
      &amp;&amp; toState === params?.['target'],
    animate('1s')
  )
])</pre>
</li> </ul> </div>
</div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/animations/transition" class="_attribution-link">https://angular.dev/api/animations/transition</a>
  </p>
</div>

<h1>ViewContainerRef</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>Represents a container where one or more views can be attached to a component.</p></section><nav class="docs-pill-row"><a class="docs-pill" href="componentref">ComponentRef</a><a class="docs-pill" href="embeddedviewref">EmbeddedViewRef</a></nav></header><div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">abstract class ViewContainerRef {
  abstract readonly element: ElementRef&lt;any&gt;;
  abstract readonly injector: Injector;
  abstract readonly parentInjector: Injector;
  abstract clear(): void;
  abstract get(index: number): ViewRef | null;
  abstract readonly length: number;
  abstract createEmbeddedView&lt;C&gt;(templateRef: TemplateRef&lt;C&gt;, context?: C | undefined, options?: { index?: number | undefined; injector?: Injector | undefined; } | undefined): EmbeddedViewRef&lt;C&gt;;
  abstract createEmbeddedView&lt;C&gt;(templateRef: TemplateRef&lt;C&gt;, context?: C | undefined, index?: number | undefined): EmbeddedViewRef&lt;C&gt;;
  abstract createComponent&lt;C&gt;(componentType: Type&lt;C&gt;, options?: { index?: number | undefined; injector?: Injector | undefined; ngModuleRef?: NgModuleRef&lt;unknown&gt; | undefined; environmentInjector?: EnvironmentInjector | NgModuleRef&lt;unknown&gt; | undefined; projectableNodes?: Node[][] | undefined; directives?: (Type&lt;unknown&gt; | DirectiveWithBindings&lt;unknown&gt;)[] | undefined; bindings?: Binding[] | undefined; } | undefined): ComponentRef&lt;C&gt;;
  abstract createComponent&lt;C&gt;(componentFactory: ComponentFactory&lt;C&gt;, index?: number | undefined, injector?: Injector | undefined, projectableNodes?: any[][] | undefined, environmentInjector?: EnvironmentInjector | NgModuleRef&lt;any&gt; | undefined, directives?: (Type&lt;unknown&gt; | DirectiveWithBindings&lt;unknown&gt;)[] | undefined, bindings?: Binding[] | undefined): ComponentRef&lt;C&gt;;
  abstract insert(viewRef: ViewRef, index?: number | undefined): ViewRef;
  abstract move(viewRef: ViewRef, currentIndex: number): ViewRef;
  abstract indexOf(viewRef: ViewRef): number;
  abstract remove(index?: number | undefined): void;
  abstract detach(index?: number | undefined): ViewRef | null;
}</pre>
</div>
<div class="docs-reference-members"><div class="docs-reference-members">
<div id="element" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>element</h3>
<code><a href="elementref">ElementRef</a>&lt;any&gt;</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div>
<p>Anchor element that specifies the location of this container in the containing view. Each view container can have only one anchor element, and each anchor element can have only a single view container.</p> <p>Root elements of views attached to this container become siblings of the anchor element in the rendered view.</p> <p>Access the <a href="viewcontainerref"><code>ViewContainerRef</code></a> of an element by placing a <a href="directive"><code>Directive</code></a> injected with <a href="viewcontainerref"><code>ViewContainerRef</code></a> on the element, or use a <a href="viewchild"><code>ViewChild</code></a> query.</p> </div></div></div>
</div>
<div id="injector" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>injector</h3>
<code><a href="injector">Injector</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>The dependency injector for this view container.</p></div></div></div>
</div>
<div id="parentInjector" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>parentInjector</h3>
<code><a href="injector">Injector</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item">
<div class="docs-deprecation-message">
<span class="docs-param-keyword docs-deprecated">@deprecated</span><span><p>No replacement</p> </span>
</div>

</div></div>
</div>
<div id="clear" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>clear</h3>
<code>void</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Destroys all views in this container.</p></div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>void</code>
</div>
</div></div>
</div>
<div id="get" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>get</h3>
<code><a href="viewref">ViewRef</a> | null</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Retrieves a view from this container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number</code><div class="docs-parameter-description"><p>The 0-based index of the view to retrieve.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="viewref">ViewRef</a> | null</code>
</div>
</div></div>
</div>
<div id="length" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>length</h3>
<code>number</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Reports how many views are currently attached to this container.</p></div></div></div>
</div>
<div id="createEmbeddedView" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>createEmbeddedView</h3>
<span>2 overloads</span></header><div class="docs-reference-card-body">
<div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Instantiates an embedded view and inserts it into this container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">templateRef</span><code><a href="templateref">TemplateRef</a>&lt;C&gt;</code><div class="docs-parameter-description"><p>The HTML template that defines the view.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">context</span><code>C | undefined</code><div class="docs-parameter-description"><p>The data-binding context of the embedded view, as declared in the <code>&lt;ng-template&gt;</code> usage.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">options</span><code>{ index?: number | undefined; injector?: <a href="injector">Injector</a> | undefined; } | undefined</code><div class="docs-parameter-description">
<p>Extra configuration for the created view. Includes:</p> <ul class="docs-list"> <li>index: The 0-based index at which to insert the new view into this container. If not specified, appends the new view as the last entry.</li> <li>injector: Injector to be used within the embedded view.</li> </ul>
</div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="embeddedviewref">EmbeddedViewRef</a>&lt;C&gt;</code>
</div>
</div>
<div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Instantiates an embedded view and inserts it into this container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">templateRef</span><code><a href="templateref">TemplateRef</a>&lt;C&gt;</code><div class="docs-parameter-description"><p>The HTML template that defines the view.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">context</span><code>C | undefined</code><div class="docs-parameter-description"><p>The data-binding context of the embedded view, as declared in the <code>&lt;ng-template&gt;</code> usage.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number | undefined</code><div class="docs-parameter-description"><p>The 0-based index at which to insert the new view into this container. If not specified, appends the new view as the last entry.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="embeddedviewref">EmbeddedViewRef</a>&lt;C&gt;</code>
</div>
</div>
</div>
</div>
<div id="createComponent" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>createComponent</h3>
<span>2 overloads</span></header><div class="docs-reference-card-body">
<div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Instantiates a component and inserts its host view into this view container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">componentType</span><code><a href="type">Type</a>&lt;C&gt;</code><div class="docs-parameter-description"><p>Component Type to use.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">options</span><code>{ index?: number | undefined; injector?: <a href="injector">Injector</a> | undefined; ngModuleRef?: <a href="ngmoduleref">NgModuleRef</a>&lt;unknown&gt; | undefined; environmentInjector?: <a href="environmentinjector">EnvironmentInjector</a> | <a href="ngmoduleref">NgModuleRef</a>&lt;unknown&gt; | undefined; projectableNodes?: Node[][] | undefined; directives?: (<a href="type">Type</a>&lt;unknown&gt; | DirectiveWithBindings&lt;unknown&gt;)[] | undefined; bindings?: <a href="binding">Binding</a>[] | undefined; } | undefined</code><div class="docs-parameter-description">
<p>An object that contains extra parameters:</p> <ul class="docs-list"> <li>index: the index at which to insert the new component's host view into this container. If not specified, appends the new view as the last entry.</li> <li>injector: the injector to use as the parent for the new component.</li> <li>ngModuleRef: an NgModuleRef of the component's NgModule, you should almost always provide this to ensure that all expected providers are available for the component instantiation.</li> <li>environmentInjector: an EnvironmentInjector which will provide the component's environment. you should almost always provide this to ensure that all expected providers are available for the component instantiation. This option is intended to replace the <code>ngModuleRef</code> parameter.</li> <li>projectableNodes: list of DOM nodes that should be projected through <a href="ng-content"><code>&lt;ng-content&gt;</code></a> of the new component instance.</li> <li>directives: Directives that should be applied to the component.</li> <li>bindings: Bindings that should be applied to the component.</li> </ul>
</div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="componentref">ComponentRef</a>&lt;C&gt;</code>
</div>
</div>
<div class="docs-reference-card-item docs-reference-card-item-deprecated">
<div class="docs-function-definition"><p>Instantiates a single component and inserts its host view into this container.</p></div>
<div><div class="docs-deprecation-message">
<span class="docs-param-keyword docs-deprecated">@deprecated</span><span><p>Angular no longer requires component factories to dynamically create components. Use different signature of the <a href="createcomponent"><code>createComponent</code></a> method, which allows passing Component class directly.</p> </span>
</div></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">componentFactory</span><code><a href="componentfactory">ComponentFactory</a>&lt;C&gt;</code><div class="docs-parameter-description"><p>Component factory to use.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number | undefined</code><div class="docs-parameter-description"><p>The index at which to insert the new component's host view into this container. If not specified, appends the new view as the last entry.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">injector</span><code><a href="injector">Injector</a> | undefined</code><div class="docs-parameter-description"><p>The injector to use as the parent for the new component.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">projectableNodes</span><code>any[][] | undefined</code><div class="docs-parameter-description"><p>List of DOM nodes that should be projected through <a href="ng-content"><code>&lt;ng-content&gt;</code></a> of the new component instance.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">environmentInjector</span><code><a href="environmentinjector">EnvironmentInjector</a> | <a href="ngmoduleref">NgModuleRef</a>&lt;any&gt; | undefined</code>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">directives</span><code>(<a href="type">Type</a>&lt;unknown&gt; | DirectiveWithBindings&lt;unknown&gt;)[] | undefined</code><div class="docs-parameter-description"><p>Directives that should be applied to the component.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">bindings</span><code><a href="binding">Binding</a>[] | undefined</code><div class="docs-parameter-description"><p>Bindings that should be applied to the component.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="componentref">ComponentRef</a>&lt;C&gt;</code>
</div>
</div>
</div>
</div>
<div id="insert" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>insert</h3>
<code><a href="viewref">ViewRef</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Inserts a view into this container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">viewRef</span><code><a href="viewref">ViewRef</a></code><div class="docs-parameter-description"><p>The view to insert.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number | undefined</code><div class="docs-parameter-description"><p>The 0-based index at which to insert the view. If not specified, appends the new view as the last entry.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="viewref">ViewRef</a></code>
</div>
</div></div>
</div>
<div id="move" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>move</h3>
<code><a href="viewref">ViewRef</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Moves a view to a new location in this container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">viewRef</span><code><a href="viewref">ViewRef</a></code><div class="docs-parameter-description"><p>The view to move.</p></div>
</div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">currentIndex</span><code>number</code>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="viewref">ViewRef</a></code>
</div>
</div></div>
</div>
<div id="indexOf" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>indexOf</h3>
<code>number</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Returns the index of a view within the current container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">viewRef</span><code><a href="viewref">ViewRef</a></code><div class="docs-parameter-description"><p>The view to query.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>number</code>
</div>
</div></div>
</div>
<div id="remove" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>remove</h3>
<code>void</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Destroys a view attached to this container</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number | undefined</code><div class="docs-parameter-description"><p>The 0-based index of the view to destroy. If not specified, the last view in the container is removed.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code>void</code>
</div>
</div></div>
</div>
<div id="detach" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>detach</h3>
<code><a href="viewref">ViewRef</a> | null</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item ">
<div class="docs-function-definition"><p>Detaches a view from this container without destroying it. Use along with <code>insert()</code> to move a view within the current container.</p></div>
<div class="docs-param-group">
<span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number | undefined</code><div class="docs-parameter-description"><p>The 0-based index of the view to detach. If not specified, the last view in the container is detached.</p></div>
</div>
<div class="docs-return-type">
<span class="docs-param-keyword">@returns</span><code><a href="viewref">ViewRef</a> | null</code>
</div>
</div></div>
</div>
</div></div>
<div class="docs-reference-section">
<h2 id="description" class="docs-reference-section-heading">Description</h2>
<div>
<p>Represents a container where one or more views can be attached to a component.</p> <p>Can contain <em>host views</em> (created by instantiating a component with the <a href="createcomponent"><code>createComponent()</code></a> method), and <em>embedded views</em> (created by instantiating a <a href="templateref"><code>TemplateRef</code></a> with the <code>createEmbeddedView()</code> method).</p> <p>A view container instance can contain other view containers, creating a view hierarchy.</p>
</div>
</div>
<div class="docs-reference-section">
<h2 id="usage-notes" class="docs-reference-section-heading">Usage Notes</h2>
<div>
<p>The example below demonstrates how the <a href="createcomponent"><code>createComponent</code></a> function can be used to create an instance of a ComponentRef dynamically and attach it to an ApplicationRef, so that it gets included into change detection cycles.</p> <p>Note: the example uses standalone components, but the function can also be used for non-standalone components (declared in an NgModule) as well.</p> <pre data-language="ts">@Component({
  selector: 'dynamic',
  template: `&lt;span&gt;This is a content of a dynamic component.&lt;/span&gt;`,
})
class DynamicComponent {
  vcr = inject(ViewContainerRef);
}

@Component({
  selector: 'app',
  template: `&lt;main&gt;Hi! This is the main content.&lt;/main&gt;`,
})
class AppComponent {
  vcr = inject(ViewContainerRef);

  ngAfterViewInit() {
    const compRef = this.vcr.createComponent(DynamicComponent);
    compRef.changeDetectorRef.detectChanges();
  }
}</pre>
</div>
</div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/core/ViewContainerRef" class="_attribution-link">https://angular.dev/api/core/ViewContainerRef</a>
  </p>
</div>

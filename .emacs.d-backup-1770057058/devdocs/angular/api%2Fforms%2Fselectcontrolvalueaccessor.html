<h1>SelectControlValueAccessor</h1>
<router-outlet _ngcontent-ng-c1178817259></router-outlet><adev-main ngh="7"><router-outlet></router-outlet><adev-reference-page _nghost-ng-c972174807 ngh="6"><main _ngcontent-ng-c972174807 docsviewer class="docs-with-TOC" ngh="0"><div class="docs-api">
<header class="docs-reference-header"><section class="docs-reference-description"><p>The <a href="controlvalueaccessor"><code>ControlValueAccessor</code></a> for writing select control values and listening to select control changes. The value accessor is used by the <a href="formcontroldirective"><code>FormControlDirective</code></a>, <a href="formcontrolname"><code>FormControlName</code></a>, and <a href="ngmodel"><code>NgModel</code></a> directives.</p></section></header><div class="docs-reference-section docs-reference-api-section">
<h2 id="api" class="docs-reference-section-heading">API</h2>
<pre data-language="ts">class SelectControlValueAccessor extends BuiltInControlValueAccessor implements ControlValueAccessor {
  @Input() set compareWith(value: (o1: any, o2: any) =&gt; boolean);
}</pre>
</div>
<div class="docs-reference-members"><div class="docs-reference-members"><div id="compareWith" class="docs-reference-member-card">
<header class="docs-reference-card-header"><h3>compareWith</h3>
<code>(o1: any, o2: any) =&gt; boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>Tracks the option comparison algorithm for tracking identities when checking for changes.</p></div></div></div>
</div></div></div>
<div class="docs-reference-section">
<h2 id="description" class="docs-reference-section-heading">Description</h2>
<div><p>The <a href="controlvalueaccessor"><code>ControlValueAccessor</code></a> for writing select control values and listening to select control changes. The value accessor is used by the <a href="formcontroldirective"><code>FormControlDirective</code></a>, <a href="formcontrolname"><code>FormControlName</code></a>, and <a href="ngmodel"><code>NgModel</code></a> directives.</p></div>
<hr>
<h2>Exported by</h2>
<ul>
<li><code><a href="reactiveformsmodule">ReactiveFormsModule</a></code></li>
<li><code><a href="formsmodule">FormsModule</a></code></li>
</ul>
</div>
<div class="docs-reference-section">
<h2 id="usage-notes" class="docs-reference-section-heading">Usage Notes</h2>
<div> <h3 id="using-select-controls-in-a-reactive-form"> Using select controls in a reactive form </h3> <p>The following examples show how to use a select control in a reactive form.</p> <pre data-language="ts">import {Component} from '@angular/core';
import {FormControl, FormGroup} from '@angular/forms';

@Component({
  selector: 'example-app',
  template: `
    &lt;form [formGroup]="form"&gt;
      &lt;select formControlName="state"&gt;
        @for (state of states; track $index) {
          &lt;option [ngValue]="state"&gt;{{ state.abbrev }}&lt;/option&gt;
        }
      &lt;/select&gt;
    &lt;/form&gt;

    &lt;p&gt;Form value: {{ form.value | json }}&lt;/p&gt;
    &lt;!-- {state: {name: 'New York', abbrev: 'NY'} } --&gt;
  `,
  standalone: false,
})
export class ReactiveSelectComp {
  states = [
    {name: 'Arizona', abbrev: 'AZ'},
    {name: 'California', abbrev: 'CA'},
    {name: 'Colorado', abbrev: 'CO'},
    {name: 'New York', abbrev: 'NY'},
    {name: 'Pennsylvania', abbrev: 'PA'},
  ];

  form = new FormGroup({
    state: new FormControl(this.states[3]),
  });
}</pre> <h3 id="using-select-controls-in-a-template-driven-form"> Using select controls in a template-driven form </h3> <p>To use a select in a template-driven form, simply add an <code>ngModel</code> and a <code>name</code> attribute to the main <code>&lt;select&gt;</code> tag.</p> <pre data-language="ts">import {Component} from '@angular/core';

@Component({
  selector: 'example-app',
  template: `
    &lt;form #f="ngForm"&gt;
      &lt;select name="state" ngModel&gt;
        &lt;option value="" disabled&gt;Choose a state&lt;/option&gt;
        @for (state of states; track $index) {
          &lt;option [ngValue]="state"&gt;{{ state.abbrev }}&lt;/option&gt;
        }
      &lt;/select&gt;
    &lt;/form&gt;

    &lt;p&gt;Form value: {{ f.value | json }}&lt;/p&gt;
    &lt;!-- example value: {state: {name: 'New York', abbrev: 'NY'} } --&gt;
  `,
  standalone: false,
})
export class SelectControlComp {
  states = [
    {name: 'Arizona', abbrev: 'AZ'},
    {name: 'California', abbrev: 'CA'},
    {name: 'Colorado', abbrev: 'CO'},
    {name: 'New York', abbrev: 'NY'},
    {name: 'Pennsylvania', abbrev: 'PA'},
  ];
}</pre> <h3 id="customizing-option-selection"> Customizing option selection </h3> <p>Angular uses object identity to select option. It's possible for the identities of items to change while the data does not. This can happen, for example, if the items are produced from an RPC to the server, and that RPC is re-run. Even if the data hasn't changed, the second response will produce objects with different identities.</p> <p>To customize the default option comparison algorithm, <code>&lt;select&gt;</code> supports <code>compareWith</code> input. <code>compareWith</code> takes a <strong>function</strong> which has two arguments: <code>option1</code> and <code>option2</code>. If <code>compareWith</code> is given, Angular selects option by the return value of the function.</p> <pre data-language="ts">const selectedCountriesControl = new FormControl();</pre>
<pre data-language="ts">&lt;select [compareWith]="compareFn"  [formControl]="selectedCountriesControl"&gt;
   @for(country of countries; track $index) {
       &lt;option[ngValue]="country"&gt;{{country.name}}&lt;/option&gt;
   }
&lt;/select&gt;

compareFn(c1: Country, c2: Country): boolean {
    return c1 &amp;&amp; c2 ? c1.id === c2.id : c1 === c2;
}</pre>
<p><strong>Note:</strong> We listen to the 'change' event because 'input' events aren't fired for selects in IE, see: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event#browser_compatibility" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event#browser_compatibility</a></p> </div>
</div>
</div></main></adev-reference-page></adev-main><div class="_attribution">
  <p class="_attribution-p">
    Super-powered by Google &copy;2010&ndash;2025.<br />Code licensed under an MIT-style License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://angular.dev/api/forms/SelectControlValueAccessor" class="_attribution-link">https://angular.dev/api/forms/SelectControlValueAccessor</a>
  </p>
</div>

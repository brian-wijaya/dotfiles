<h1 id="context-api" tabindex="-1">Context API </h1>
<p>Vitest exposes a context module via <code>@vitest/browser/context</code> entry point. As of 2.0, it exposes a small set of utilities that might be useful to you in tests.</p>
<h2 id="userevent" tabindex="-1">
<code>userEvent</code> </h2>
<div class="tip custom-block">
<strong class="custom-block-title">TIP</strong><p>The <code>userEvent</code> API is explained in detail at <a href="interactivity-api">Interactivity API</a>.</p>
</div>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">/**
 * Handler for user interactions. The support is implemented by the browser provider (`playwright` or `webdriverio`).
 * If used with `preview` provider, fallbacks to simulated events via `@testing-library/user-event`.
 * @experimental
 */
export const userEvent: {
  setup: () =&gt; UserEvent
  cleanup: () =&gt; Promise&lt;void&gt;
  click: (element: Element, options?: UserEventClickOptions) =&gt; Promise&lt;void&gt;
  dblClick: (element: Element, options?: UserEventDoubleClickOptions) =&gt; Promise&lt;void&gt;
  tripleClick: (element: Element, options?: UserEventTripleClickOptions) =&gt; Promise&lt;void&gt;
  selectOptions: (
    element: Element,
    values: HTMLElement | HTMLElement[] | string | string[],
    options?: UserEventSelectOptions,
  ) =&gt; Promise&lt;void&gt;
  keyboard: (text: string) =&gt; Promise&lt;void&gt;
  type: (element: Element, text: string, options?: UserEventTypeOptions) =&gt; Promise&lt;void&gt;
  clear: (element: Element) =&gt; Promise&lt;void&gt;
  tab: (options?: UserEventTabOptions) =&gt; Promise&lt;void&gt;
  hover: (element: Element, options?: UserEventHoverOptions) =&gt; Promise&lt;void&gt;
  unhover: (element: Element, options?: UserEventHoverOptions) =&gt; Promise&lt;void&gt;
  fill: (element: Element, text: string, options?: UserEventFillOptions) =&gt; Promise&lt;void&gt;
  dragAndDrop: (source: Element, target: Element, options?: UserEventDragAndDropOptions) =&gt; Promise&lt;void&gt;
}</pre>
</div>
<h2 id="commands" tabindex="-1">
<code>commands</code> </h2>
<div class="tip custom-block">
<strong class="custom-block-title">TIP</strong><p>This API is explained in detail at <a href="commands">Commands API</a>.</p>
</div>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">/**
 * Available commands for the browser.
 * A shortcut to `server.commands`.
 */
export const commands: BrowserCommands</pre>
</div>
<h2 id="page" tabindex="-1">
<code>page</code> </h2>
<p>The <code>page</code> export provides utilities to interact with the current <code>page</code>.</p>
<div class="warning custom-block">
<strong class="custom-block-title">WARNING</strong><p>While it exposes some utilities from Playwright's <code>page</code>, it is not the same object. Since the browser context is evaluated in the browser, your tests don't have access to Playwright's <code>page</code> because it runs on the server.</p>
<p>Use <a href="commands">Commands API</a> if you need to have access to Playwright's <code>page</code> object.</p>
</div>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">export const page: {
  /**
   * Change the size of iframe's viewport.
   */
  viewport(width: number, height: number): Promise&lt;void&gt;
  /**
   * Make a screenshot of the test iframe or a specific element.
   * @returns Path to the screenshot file or path and base64.
   */
  screenshot(options: Omit&lt;ScreenshotOptions, 'base64'&gt; &amp; { base64: true }): Promise&lt;{
    path: string
    base64: string
  }&gt;
  screenshot(options?: ScreenshotOptions): Promise&lt;string&gt;
  /**
   * Extend default `page` object with custom methods.
   */
  extend(methods: Partial&lt;BrowserPage&gt;): BrowserPage
  /**
   * Wrap an HTML element in a `Locator`. When querying for elements, the search will always return this element.
   */
  elementLocator(element: Element): Locator

  /**
   * Locator APIs. See its documentation for more details.
   */
  getByRole(role: ARIARole | string, options?: LocatorByRoleOptions): Locator
  getByLabelText(text: string | RegExp, options?: LocatorOptions): Locator
  getByTestId(text: string | RegExp): Locator
  getByAltText(text: string | RegExp, options?: LocatorOptions): Locator
  getByPlaceholder(text: string | RegExp, options?: LocatorOptions): Locator
  getByText(text: string | RegExp, options?: LocatorOptions): Locator
  getByTitle(text: string | RegExp, options?: LocatorOptions): Locator
}</pre>
</div>
<div class="tip custom-block">
<strong class="custom-block-title">TIP</strong><p>The <code>getBy*</code> API is explained at <a href="locators">Locators API</a>.</p>
</div>
<h2 id="cdp" tabindex="-1">
<code>cdp</code> </h2>
<p>The <code>cdp</code> export returns the current Chrome DevTools Protocol session. It is mostly useful to library authors to build tools on top of it.</p>
<div class="warning custom-block">
<strong class="custom-block-title">WARNING</strong><p>CDP session works only with <code>playwright</code> provider and only when using <code>chromium</code> browser. You can read more about it in playwright's <a href="https://playwright.dev/docs/api/class-cdpsession" target="_blank" rel="noreferrer"><code>CDPSession</code></a> documentation.</p>
</div>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">export const cdp: () =&gt; CDPSession</pre>
</div>
<h2 id="server" tabindex="-1">
<code>server</code> </h2>
<p>The <code>server</code> export represents the Node.js environment where the Vitest server is running. It is mostly useful for debugging or limiting your tests based on the environment.</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">export const server: {
  /**
   * Platform the Vitest server is running on.
   * The same as calling `process.platform` on the server.
   */
  platform: Platform
  /**
   * Runtime version of the Vitest server.
   * The same as calling `process.version` on the server.
   */
  version: string
  /**
   * Name of the browser provider.
   */
  provider: string
  /**
   * Name of the current browser.
   */
  browser: string
  /**
   * Available commands for the browser.
   */
  commands: BrowserCommands
  /**
   * Serialized test config.
   */
  config: SerializedConfig
}</pre>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021-Present Anthony Fu<br>&copy; 2021-Present Matias Capeletto<br>Licensed under the MIT License.<br>
    <a href="https://vitest.dev/guide/browser/context" class="_attribution-link">https://vitest.dev/guide/browser/context</a>
  </p>
</div>

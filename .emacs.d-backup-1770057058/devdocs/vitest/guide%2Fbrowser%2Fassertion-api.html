<h1 id="assertion-api" tabindex="-1">Assertion API </h1>
<p>Vitest bundles the <a href="https://github.com/testing-library/jest-dom" target="_blank" rel="noreferrer"><code>@testing-library/jest-dom</code></a> library to provide a wide range of DOM assertions out of the box. For detailed documentation, you can read the <code>jest-dom</code> readme:</p>
<ul>
<li><a href="https://github.com/testing-library/jest-dom#toBeDisabled" target="_blank" rel="noreferrer"><code>toBeDisabled</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeEnabled" target="_blank" rel="noreferrer"><code>toBeEnabled</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeEmptyDOMElement" target="_blank" rel="noreferrer"><code>toBeEmptyDOMElement</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeInTheDocument" target="_blank" rel="noreferrer"><code>toBeInTheDocument</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeInvalid" target="_blank" rel="noreferrer"><code>toBeInvalid</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeRequired" target="_blank" rel="noreferrer"><code>toBeRequired</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeValid" target="_blank" rel="noreferrer"><code>toBeValid</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeVisible" target="_blank" rel="noreferrer"><code>toBeVisible</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toContainElement" target="_blank" rel="noreferrer"><code>toContainElement</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toContainHTML" target="_blank" rel="noreferrer"><code>toContainHTML</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveAccessibleDescription" target="_blank" rel="noreferrer"><code>toHaveAccessibleDescription</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveAccessibleErrorMessage" target="_blank" rel="noreferrer"><code>toHaveAccessibleErrorMessage</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveAccessibleName" target="_blank" rel="noreferrer"><code>toHaveAccessibleName</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveAttribute" target="_blank" rel="noreferrer"><code>toHaveAttribute</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveClass" target="_blank" rel="noreferrer"><code>toHaveClass</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveFocus" target="_blank" rel="noreferrer"><code>toHaveFocus</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveFormValues" target="_blank" rel="noreferrer"><code>toHaveFormValues</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveStyle" target="_blank" rel="noreferrer"><code>toHaveStyle</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveTextContent" target="_blank" rel="noreferrer"><code>toHaveTextContent</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveValue" target="_blank" rel="noreferrer"><code>toHaveValue</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveDisplayValue" target="_blank" rel="noreferrer"><code>toHaveDisplayValue</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBeChecked" target="_blank" rel="noreferrer"><code>toBeChecked</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toBePartiallyChecked" target="_blank" rel="noreferrer"><code>toBePartiallyChecked</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveRole" target="_blank" rel="noreferrer"><code>toHaveRole</code></a></li>
<li><a href="https://github.com/testing-library/jest-dom#toHaveErrorMessage" target="_blank" rel="noreferrer"><code>toHaveErrorMessage</code></a></li>
</ul>
<p>If you are using <a href="index#typescript">TypeScript</a> or want to have correct type hints in <code>expect</code>, make sure you have either <code>@vitest/browser/providers/playwright</code> or <code>@vitest/browser/providers/webdriverio</code> referenced in your <a href="../../config/index#setupfile">setup file</a> or a <a href="../../config/index">config file</a> depending on the provider you use. If you use the default <code>preview</code> provider, you can specify <code>@vitest/browser/matchers</code> instead.</p>
<div class="vp-code-group vp-adaptive-theme">
<div class="tabs">
<input type="radio" name="group-rYC7p" id="tab-T1vwDoQ" checked><label data-title="preview" for="tab-T1vwDoQ">preview</label><input type="radio" name="group-rYC7p" id="tab-FNp7fn_"><label data-title="playwright" for="tab-FNp7fn_">playwright</label><input type="radio" name="group-rYC7p" id="tab-mydTc-Y"><label data-title="webdriverio" for="tab-mydTc-Y">webdriverio</label>
</div>
<div class="blocks">
<div class="language-ts vp-adaptive-theme active">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">/// &lt;reference types="@vitest/browser/matchers" /&gt;</pre>
</div>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">/// &lt;reference types="@vitest/browser/providers/playwright" /&gt;</pre>
</div>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">/// &lt;reference types="@vitest/browser/providers/webdriverio" /&gt;</pre>
</div>
</div>
</div>
<p>Tests in the browser might fail inconsistently due to their asynchronous nature. Because of this, it is important to have a way to guarantee that assertions succeed even if the condition is delayed (by a timeout, network request, or animation, for example). For this purpose, Vitest provides retriable assertions out of the box via the <a href="../../api/expect#poll"><code>expect.poll</code></a> and <code>expect.element</code> APIs:</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">import { expect, test } from 'vitest'
import { page } from '@vitest/browser/context'

test('error banner is rendered', async () =&gt; {
  triggerError()

  // @testing-library provides queries with built-in retry-ability
  // It will try to find the banner until it's rendered
  const banner = page.getByRole('alert', {
    name: /error/i,
  })

  // Vitest provides `expect.element` with built-in retry-ability
  // It will check `element.textContent` until it's equal to "Error!"
  await expect.element(banner).toHaveTextContent('Error!')
})</pre>
</div>
<div class="tip custom-block">
<strong class="custom-block-title">TIP</strong><p><code>expect.element</code> is a shorthand for <code>expect.poll(() =&gt; element)</code> and works in exactly the same way.</p>
<p><code>toHaveTextContent</code> and all other <a href="https://github.com/testing-library/jest-dom" target="_blank" rel="noreferrer"><code>@testing-library/jest-dom</code></a> assertions are still available on a regular <code>expect</code> without a built-in retry-ability mechanism:</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">// will fail immediately if .textContent is not `'Error!'`
expect(banner).toHaveTextContent('Error!')</pre>
</div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021-Present Anthony Fu<br>&copy; 2021-Present Matias Capeletto<br>Licensed under the MIT License.<br>
    <a href="https://vitest.dev/guide/browser/assertion-api" class="_attribution-link">https://vitest.dev/guide/browser/assertion-api</a>
  </p>
</div>

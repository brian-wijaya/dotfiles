<h1 id="testspecification" tabindex="-1">TestSpecification </h1>
<p>The <code>TestSpecification</code> class describes what module to run as a test and its parameters.</p>
<p>You can only create a specification by calling <a href="test-project#createspecification"><code>createSpecification</code></a> method on a test project:</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">const specification = project.createSpecification(
  resolve('./example.test.ts'),
  [20, 40], // optional test lines
)</pre>
</div>
<p><code>createSpecification</code> expects resolved module ID. It doesn't auto-resolve the file or check that it exists on the file system.</p>
<h2 id="taskid" tabindex="-1">taskId </h2>
<p><a href="test-suite#id">Test module's</a> identifier.</p>
<h2 id="project" tabindex="-1">project </h2>
<p>This references the <a href="test-project"><code>TestProject</code></a> that the test module belongs to.</p>
<h2 id="moduleid" tabindex="-1">moduleId </h2>
<p>The ID of the module in Vite's module graph. Usually, it's an absolute file path using posix separator:</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">'C:/Users/Documents/project/example.test.ts' // ✅
'/Users/mac/project/example.test.ts' // ✅
'C:\\Users\\Documents\\project\\example.test.ts' // ❌</pre>
</div>
<h2 id="testmodule" tabindex="-1">testModule </h2>
<p>Instance of <a href="test-module"><code>TestModule</code></a> assosiated with the specification. If test wasn't queued yet, this will be <code>undefined</code>.</p>
<h2 id="pool" tabindex="-1">pool <span class="VPBadge warning">experimental</span> </h2>
<p>The <a href="../../config/index#pool"><code>pool</code></a> in which the test module will run.</p>
<div class="danger custom-block">
<strong class="custom-block-title">DANGER</strong><p>It's possible to have multiple pools in a single test project with <a href="../../config/index#poolmatchglob"><code>poolMatchGlob</code></a> and <a href="../../config/index#typecheck-enabled"><code>typecheck.enabled</code></a>. This means it's possible to have several specifications with the same <code>moduleId</code> but different <code>pool</code>. In Vitest 4, the project will only support a single pool, and this property will be removed.</p>
</div>
<h2 id="testlines" tabindex="-1">testLines </h2>
<p>This is an array of lines in the source code where the test files are defined. This field is defined only if the <code>createSpecification</code> method received an array.</p>
<p>Note that if there is no test on at least one of the lines, the whole suite will fail. An example of a correct <code>testLines</code> configuration:</p>
<div class="vp-code-group vp-adaptive-theme">
<div class="tabs">
<input type="radio" name="group-Ir4SS" id="tab-Kytm2DO" checked><label data-title="script.js" for="tab-Kytm2DO">script.js</label><input type="radio" name="group-Ir4SS" id="tab-YJCRs63"><label data-title="example.test.js" for="tab-YJCRs63">example.test.js</label>
</div>
<div class="blocks">
<div class="language-ts vp-adaptive-theme active">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">const specification = project.createSpecification(
  resolve('./example.test.ts'),
  [3, 8, 9],
)</pre>
</div>
<div class="language-ts vp-adaptive-theme line-numbers-mode">
<pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">import { test, describe } from 'vitest'

test('verification works')

describe('a group of tests', () =&gt; { 
  // ...

  test('nested test')
  test.skip('skipped test')
})</pre>
</div>
</div>
</div>
<h2 id="tojson" tabindex="-1">toJSON </h2>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">function toJSON(): SerializedTestSpecification</pre>
</div>
<p><code>toJSON</code> generates a JSON-friendly object that can be consumed by the <a href="../../guide/browser/index">Browser Mode</a> or <a href="../../guide/ui">Vitest UI</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021-Present Anthony Fu<br>&copy; 2021-Present Matias Capeletto<br>Licensed under the MIT License.<br>
    <a href="https://vitest.dev/advanced/api/test-specification" class="_attribution-link">https://vitest.dev/advanced/api/test-specification</a>
  </p>
</div>

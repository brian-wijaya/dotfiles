<h1 id="testmodule" tabindex="-1">TestModule </h1>
<p>The <code>TestModule</code> class represents a single module in a single project. This class is only available in the main thread. Refer to the <a href="../runner#tasks">"Runner API"</a> if you are working with runtime tasks.</p>
<p>The <code>TestModule</code> instance always has a <code>type</code> property with the value of <code>module</code>. You can use it to distinguish between different task types:</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">if (task.type === 'module') {
  task // TestModule
}</pre>
</div>
<div class="warning custom-block">
<strong class="custom-block-title">Extending Suite Methods</strong><p>The <code>TestModule</code> class inherits all methods and properties from the <a href="test-suite"><code>TestSuite</code></a>. This guide will only list methods and properties unique to the <code>TestModule</code>.</p>
</div>
<h2 id="moduleid" tabindex="-1">moduleId </h2>
<p>This is usually an absolute unix file path (even on Windows). It can be a virtual id if the file is not on the disk. This value corresponds to Vite's <code>ModuleGraph</code> id.</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">'C:/Users/Documents/project/example.test.ts' // ✅
'/Users/mac/project/example.test.ts' // ✅
'C:\\Users\\Documents\\project\\example.test.ts' // ❌</pre>
</div>
<h2 id="state" tabindex="-1">state </h2>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">function state(): TestModuleState</pre>
</div>
<p>Works the same way as <a href="test-suite#state"><code>testSuite.state()</code></a>, but can also return <code>queued</code> if module wasn't executed yet.</p>
<h2 id="diagnostic" tabindex="-1">diagnostic </h2>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">function diagnostic(): ModuleDiagnostic</pre>
</div>
<p>Useful information about the module like duration, memory usage, etc. If the module was not executed yet, all diagnostic values will return <code>0</code>.</p>
<div class="language-ts vp-adaptive-theme">
<pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" data-language="javascript">interface ModuleDiagnostic {
  /**
   * The time it takes to import and initiate an environment.
   */
  readonly environmentSetupDuration: number
  /**
   * The time it takes Vitest to setup test harness (runner, mocks, etc.).
   */
  readonly prepareDuration: number
  /**
   * The time it takes to import the test module.
   * This includes importing everything in the module and executing suite callbacks.
   */
  readonly collectDuration: number
  /**
   * The time it takes to import the setup module.
   */
  readonly setupDuration: number
  /**
   * Accumulated duration of all tests and hooks in the module.
   */
  readonly duration: number
}</pre>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021-Present Anthony Fu<br>&copy; 2021-Present Matias Capeletto<br>Licensed under the MIT License.<br>
    <a href="https://vitest.dev/advanced/api/test-module" class="_attribution-link">https://vitest.dev/advanced/api/test-module</a>
  </p>
</div>

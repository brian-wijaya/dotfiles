<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /guide/migration.md for this page in Markdown format</div>
<h1 id="migration-from-v6" tabindex="-1">Migration from v6 </h1>
<h2 id="node-js-support" tabindex="-1">Node.js Support </h2>
<p>Vite no longer supports Node.js 18, which reached its EOL. Node.js 20.19+ / 22.12+ is now required.</p>
<h2 id="default-browser-target-change" tabindex="-1">Default Browser Target change </h2>
<p>The default browser value of <code>build.target</code> is updated to a newer browser.</p>
<ul>
<li>Chrome 87 → 107</li>
<li>Edge 88 → 107</li>
<li>Firefox 78 → 104</li>
<li>Safari 14.0 → 16.0</li>
</ul>
<p>These browser versions align with <a href="https://web-platform-dx.github.io/web-features/" target="_blank" rel="noreferrer">Baseline</a> Widely Available feature sets as of 2025-05-01. In other words, they were all released before 2022-11-01.</p>
<p>In Vite 5, the default target was named <code>'modules'</code>, but this is no longer available. Instead, a new default target <code>'baseline-widely-available'</code> is introduced.</p>
<h2 id="general-changes" tabindex="-1">General Changes </h2>
<h3 id="removed-sass-legacy-api-support" tabindex="-1">Removed Sass legacy API support </h3>
<p>As planned, support for the Sass legacy API is removed. Vite now only supports the modern API. You can remove the <code>css.preprocessorOptions.sass.api</code> / <code>css.preprocessorOptions.scss.api</code> option.</p>
<h2 id="removed-deprecated-features" tabindex="-1">Removed deprecated features </h2>
<ul>
<li>
<code>splitVendorChunkPlugin</code> (deprecated in v5.2.7) <ul>
<li>This plugin was originally provided to ease migration to Vite v2.9.</li>
<li>The <code>build.rollupOptions.output.manualChunks</code> option can be used to control the chunking behavior if needed.</li>
</ul>
</li>
<li>Hook-level <code>enforce</code> / <code>transform</code> for <code>transformIndexHtml</code> (deprecated in v4.0.0) <ul>
<li>It was changed to align the interface with <a href="https://rollupjs.org/plugin-development/#build-hooks:~:text=Instead%20of%20a%20function%2C%20hooks%20can%20also%20be%20objects." target="_blank" rel="noreferrer">Rollup's object hooks</a>.</li>
<li>
<code>order</code> should be used instead of <code>enforce</code>, and <code>handler</code> should be used instead of <code>transform</code>.</li>
</ul>
</li>
</ul>
<h2 id="advanced" tabindex="-1">Advanced </h2>
<p>There are other breaking changes which only affect few users.</p>
<ul>
<li>
<a href="https://github.com/vitejs/vite/pull/19979" target="_blank" rel="noreferrer">[#19979] chore: declare version range for peer dependencies</a><ul><li>Specified the peer dependencies version range for CSS preprocessors.</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/20013" target="_blank" rel="noreferrer">[#20013] refactor: remove no-op <code>legacy.proxySsrExternalModules</code></a><ul><li>
<code>legacy.proxySsrExternalModules</code> property had no effect since Vite 6. It is now removed.</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/19985" target="_blank" rel="noreferrer">[#19985] refactor!: remove deprecated no-op type only properties</a><ul><li>The following unused properties are now removed: <code>ModuleRunnerOptions.root</code>, <code>ViteDevServer._importGlobMap</code>, <code>ResolvePluginOptions.isFromTsImporter</code>, <code>ResolvePluginOptions.getDepsOptimizer</code>, <code>ResolvePluginOptions.shouldExternalize</code>, <code>ResolvePluginOptions.ssrConfig</code>
</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/19986" target="_blank" rel="noreferrer">[#19986] refactor: remove deprecated env api properties</a><ul><li>These properties were deprecated from the beginning. It is now removed.</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/19987" target="_blank" rel="noreferrer">[#19987] refactor!: remove deprecated <code>HotBroadcaster</code> related types</a><ul><li>These types were introduced as part of the now-deprecated Runtime API. It is now removed: <code>HMRBroadcaster</code>, <code>HMRBroadcasterClient</code>, <code>ServerHMRChannel</code>, <code>HMRChannel</code>
</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/19996" target="_blank" rel="noreferrer">[#19996] fix(ssr)!: don't access <code>Object</code> variable in ssr transformed code</a><ul><li>
<code>__vite_ssr_exportName__</code> is now required for the module runner runtime context.</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/20045" target="_blank" rel="noreferrer">[#20045] fix: treat all <code>optimizeDeps.entries</code> values as globs</a><ul><li>
<code>optimizeDeps.entries</code> now does not receive literal string paths. Instead, it always receives globs.</li></ul>
</li>
<li>
<a href="https://github.com/vitejs/vite/pull/20222" target="_blank" rel="noreferrer">[#20222] feat: apply some middlewares before <code>configureServer</code> hook</a>, <a href="https://github.com/vitejs/vite/pull/20224" target="_blank" rel="noreferrer">[#20224] feat: apply some middlewares before <code>configurePreviewServer</code> hook</a><ul><li>Some middlewares are now applied before the <code>configureServer</code> / <code>configurePreviewServer</code> hook. Note that if you don't expect a certain route to apply the <a href="../config/server-options#server-cors"><code>server.cors</code></a> / <a href="../config/preview-options#preview-cors"><code>preview.cors</code></a> option, make sure to remove the related headers from the response.</li></ul>
</li>
</ul>
<h2 id="migration-from-v5" tabindex="-1">Migration from v5 </h2>
<p>Check the <a href="https://v6.vite.dev/guide/migration" rel="noreferrer" target="_blank">Migration from v5 Guide</a> in the Vite v6 docs first to see the needed changes to port your app to Vite 6, and then proceed with the changes on this page.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019–present, Yuxi (Evan) You and Vite contributors<br>Licensed under the MIT License.<br>
    <a href="https://vite.dev/guide/migration" class="_attribution-link">https://vite.dev/guide/migration</a>
  </p>
</div>
